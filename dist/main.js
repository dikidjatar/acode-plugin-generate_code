/*! For license information please see main.js.LICENSE.txt */
!function(){var t={4655:function(t,e,r){var n,o,i,a;function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}t=r.nmd(t),a=function(){return function(){"use strict";var t={d:function(e,r){for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}},e={};function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function n(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t){return o="function"==typeof Symbol&&"symbol"==c(Symbol.iterator)?function(t){return c(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":c(t)},o(t)}function i(t,e){e instanceof Node||(e=a.text("".concat(e))),e instanceof Text&&"clone"in e&&(e=e.clone()),t.append(e)}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e={innerHTML:e}),function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("function"==typeof t)return t(r,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]);if(t instanceof Node)e=t;else{if("string"!=typeof t)throw new Error("Invalid tag, ",o(t));e=document.createElement(t)}return Object.keys(r).forEach((function(t){var n=r[t];if(void 0!==n)switch(t){case"child":i(e,n);break;case"children":if(!Array.isArray(n))throw new Error("children must be an array of Nodes");n.flat().forEach((function(t){i(e,t)}));break;case"attr":Object.keys(n).forEach((function(t){var r=n[t];void 0!==r&&e.setAttribute(t,r)}));break;case"style":case"dataset":Object.keys(n).forEach((function(r){var o=n[r];void 0!==o&&(e[t][r]=o)}));break;case"ref":n.instanceOfRef&&(n.el=e);break;default:e[t]=n}})),e}(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[])}return t.d(e,{default:function(){return a}}),window&&!window.tag&&(window.tag=a),Object.defineProperties(a,{get:{value:function(t){return document.querySelector(t)}},getAll:{value:function(t){return n(document.querySelectorAll(t))}},parse:{value:function(t){var e=document.createElement("div");return e.innerHTML=t,1===e.childElementCount?e.firstElementChild:n(e.children)}},text:{value:function(t){return document.createTextNode(t)}},use:{value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=t,r=!1,n=document.createTextNode(t),o=[n];return Object.defineProperty(n,"value",{set:function(t){e=t,o.forEach((function(e){e.textContent=t}))},get:function(){return e}}),Object.defineProperty(n,"clone",{value:function(){if(!r)return r=!0,n;var t=n.cloneNode();return o.push(t),t}}),n}}}),e.default}()},"object"==c(e)&&"object"==c(t)?t.exports=a():(o=[],void 0===(i="function"==typeof(n=a)?n.apply(e,o):n)||(t.exports=i))},9559:function(t,e,r){"use strict";function n(t){return Array.prototype.slice.call(arguments,1).forEach((function(e){e&&Object.keys(e).forEach((function(r){t[r]=e[r]}))})),t}function o(t){return Object.prototype.toString.call(t)}function i(t){return"[object Function]"===o(t)}function a(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var c={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1},u={"http:":{validate:function(t,e,r){var n=t.slice(e);return r.re.http||(r.re.http=new RegExp("^\\/\\/"+r.re.src_auth+r.re.src_host_port_strict+r.re.src_path,"i")),r.re.http.test(n)?n.match(r.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,r){var n=t.slice(e);return r.re.no_http||(r.re.no_http=new RegExp("^"+r.re.src_auth+"(?:localhost|(?:(?:"+r.re.src_domain+")\\.)+"+r.re.src_domain_root+")"+r.re.src_port+r.re.src_host_terminator+r.re.src_path,"i")),r.re.no_http.test(n)?e>=3&&":"===t[e-3]||e>=3&&"/"===t[e-3]?0:n.match(r.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,r){var n=t.slice(e);return r.re.mailto||(r.re.mailto=new RegExp("^"+r.re.src_email_name+"@"+r.re.src_host_strict,"i")),r.re.mailto.test(n)?n.match(r.re.mailto)[0].length:0}}},s="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",l="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function f(t){var e=t.re=r(6852)(t.__opts__),n=t.__tlds__.slice();function c(t){return t.replace("%TLDS%",e.src_tlds)}t.onCompile(),t.__tlds_replaced__||n.push(s),n.push(e.src_xn),e.src_tlds=n.join("|"),e.email_fuzzy=RegExp(c(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(c(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(c(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(c(e.tpl_host_fuzzy_test),"i");var u=[];function l(t,e){throw new Error('(LinkifyIt) Invalid schema "'+t+'": '+e)}t.__compiled__={},Object.keys(t.__schemas__).forEach((function(e){var r=t.__schemas__[e];if(null!==r){var n={validate:null,link:null};if(t.__compiled__[e]=n,"[object Object]"===o(r))return"[object RegExp]"!==o(r.validate)?i(r.validate)?n.validate=r.validate:l(e,r):n.validate=function(t){return function(e,r){var n=e.slice(r);return t.test(n)?n.match(t)[0].length:0}}(r.validate),void(i(r.normalize)?n.normalize=r.normalize:r.normalize?l(e,r):n.normalize=function(t,e){e.normalize(t)});!function(t){return"[object String]"===o(t)}(r)?l(e,r):u.push(e)}})),u.forEach((function(e){t.__compiled__[t.__schemas__[e]]&&(t.__compiled__[e].validate=t.__compiled__[t.__schemas__[e]].validate,t.__compiled__[e].normalize=t.__compiled__[t.__schemas__[e]].normalize)})),t.__compiled__[""]={validate:null,normalize:function(t,e){e.normalize(t)}};var f=Object.keys(t.__compiled__).filter((function(e){return e.length>0&&t.__compiled__[e]})).map(a).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+e.src_ZPCc+"))("+f+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+e.src_ZPCc+"))("+f+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),function(t){t.__index__=-1,t.__text_cache__=""}(t)}function p(t,e){var r=t.__index__,n=t.__last_index__,o=t.__text_cache__.slice(r,n);this.schema=t.__schema__.toLowerCase(),this.index=r+e,this.lastIndex=n+e,this.raw=o,this.text=o,this.url=o}function h(t,e){var r=new p(t,e);return t.__compiled__[r.schema].normalize(r,t),r}function y(t,e){if(!(this instanceof y))return new y(t,e);var r;e||(r=t,Object.keys(r||{}).reduce((function(t,e){return t||c.hasOwnProperty(e)}),!1)&&(e=t,t={})),this.__opts__=n({},c,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=n({},u,t),this.__compiled__={},this.__tlds__=l,this.__tlds_replaced__=!1,this.re={},f(this)}y.prototype.add=function(t,e){return this.__schemas__[t]=e,f(this),this},y.prototype.set=function(t){return this.__opts__=n(this.__opts__,t),this},y.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;var e,r,n,o,i,a,c,u;if(this.re.schema_test.test(t))for((c=this.re.schema_search).lastIndex=0;null!==(e=c.exec(t));)if(o=this.testSchemaAt(t,e[2],c.lastIndex)){this.__schema__=e[2],this.__index__=e.index+e[1].length,this.__last_index__=e.index+e[0].length+o;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(u=t.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||u<this.__index__)&&null!==(r=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(i=r.index+r[1].length,(this.__index__<0||i<this.__index__)&&(this.__schema__="",this.__index__=i,this.__last_index__=r.index+r[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&t.indexOf("@")>=0&&null!==(n=t.match(this.re.email_fuzzy))&&(i=n.index+n[1].length,a=n.index+n[0].length,(this.__index__<0||i<this.__index__||i===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=i,this.__last_index__=a)),this.__index__>=0},y.prototype.pretest=function(t){return this.re.pretest.test(t)},y.prototype.testSchemaAt=function(t,e,r){return this.__compiled__[e.toLowerCase()]?this.__compiled__[e.toLowerCase()].validate(t,r,this):0},y.prototype.match=function(t){var e=0,r=[];this.__index__>=0&&this.__text_cache__===t&&(r.push(h(this,e)),e=this.__last_index__);for(var n=e?t.slice(e):t;this.test(n);)r.push(h(this,e)),n=n.slice(this.__last_index__),e+=this.__last_index__;return r.length?r:null},y.prototype.matchAtStart=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return null;var e=this.re.schema_at_start.exec(t);if(!e)return null;var r=this.testSchemaAt(t,e[2],e[0].length);return r?(this.__schema__=e[2],this.__index__=e.index+e[1].length,this.__last_index__=e.index+e[0].length+r,h(this,0)):null},y.prototype.tlds=function(t,e){return t=Array.isArray(t)?t:[t],e?(this.__tlds__=this.__tlds__.concat(t).sort().filter((function(t,e,r){return t!==r[e-1]})).reverse(),f(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,f(this),this)},y.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),"mailto:"!==t.schema||/^mailto:/i.test(t.url)||(t.url="mailto:"+t.url)},y.prototype.onCompile=function(){},t.exports=y},6852:function(t,e,r){"use strict";t.exports=function(t){var e={};t=t||{},e.src_Any=r(7787).source,e.src_Cc=r(7418).source,e.src_Z=r(761).source,e.src_P=r(2936).source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");return e.src_pseudo_letter="(?:(?![><｜]|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|[><｜]|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|[><｜]|[()[\\]{}.,\"'?!\\-;]).|\\[(?:(?!"+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy='(^|[><｜]|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+e.src_ZPCc+"))((?![$+<=>^`|｜])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+e.src_ZPCc+"))((?![$+<=>^`|｜])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}},355:function(t,e,r){"use strict";t.exports=r(5771)},1762:function(t,e,r){"use strict";t.exports=r(9323)},3942:function(t){"use strict";t.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},1122:function(t){"use strict";var e="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",r="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",n=new RegExp("^(?:"+e+"|"+r+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?][\\s\\S]*?[?]>|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),o=new RegExp("^(?:"+e+"|"+r+")");t.exports.n=n,t.exports.q=o},5534:function(t,e,r){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=Object.prototype.hasOwnProperty;function i(t,e){return o.call(t,e)}function a(t){return!(t>=55296&&t<=57343||t>=64976&&t<=65007||65535==(65535&t)||65534==(65535&t)||t>=0&&t<=8||11===t||t>=14&&t<=31||t>=127&&t<=159||t>1114111)}function c(t){if(t>65535){var e=55296+((t-=65536)>>10),r=56320+(1023&t);return String.fromCharCode(e,r)}return String.fromCharCode(t)}var u=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,s=new RegExp(u.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),l=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i,f=r(1762),p=/[&<>"]/,h=/[&<>"]/g,y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function d(t){return y[t]}var v=/[.?*+^$[\]\\(){}|-]/g,b=r(2936);e.lib={},e.lib.mdurl=r(9116),e.lib.ucmicro=r(8213),e.assign=function(t){return Array.prototype.slice.call(arguments,1).forEach((function(e){if(e){if("object"!==n(e))throw new TypeError(e+"must be object");Object.keys(e).forEach((function(r){t[r]=e[r]}))}})),t},e.isString=function(t){return"[object String]"===function(t){return Object.prototype.toString.call(t)}(t)},e.has=i,e.unescapeMd=function(t){return t.indexOf("\\")<0?t:t.replace(u,"$1")},e.unescapeAll=function(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(s,(function(t,e,r){return e||function(t,e){var r;return i(f,e)?f[e]:35===e.charCodeAt(0)&&l.test(e)&&a(r="x"===e[1].toLowerCase()?parseInt(e.slice(2),16):parseInt(e.slice(1),10))?c(r):t}(t,r)}))},e.isValidEntityCode=a,e.fromCodePoint=c,e.escapeHtml=function(t){return p.test(t)?t.replace(h,d):t},e.arrayReplaceAt=function(t,e,r){return[].concat(t.slice(0,e),r,t.slice(e+1))},e.isSpace=function(t){switch(t){case 9:case 32:return!0}return!1},e.isWhiteSpace=function(t){if(t>=8192&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1},e.isMdAsciiPunct=function(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}},e.isPunctChar=function(t){return b.test(t)},e.escapeRE=function(t){return t.replace(v,"\\$&")},e.normalizeReference=function(t){return t=t.trim().replace(/\s+/g," "),"Ṿ"==="ẞ".toLowerCase()&&(t=t.replace(/ẞ/g,"ß")),t.toLowerCase().toUpperCase()}},3246:function(t,e,r){"use strict";e.parseLinkLabel=r(1534),e.parseLinkDestination=r(6856),e.parseLinkTitle=r(8665)},6856:function(t,e,r){"use strict";var n=r(5534).unescapeAll;t.exports=function(t,e,r){var o,i,a=e,c={ok:!1,pos:0,lines:0,str:""};if(60===t.charCodeAt(a)){for(a++;a<r;){if(10===(o=t.charCodeAt(a)))return c;if(60===o)return c;if(62===o)return c.pos=a+1,c.str=n(t.slice(e+1,a)),c.ok=!0,c;92===o&&a+1<r?a+=2:a++}return c}for(i=0;a<r&&32!==(o=t.charCodeAt(a))&&!(o<32||127===o);)if(92===o&&a+1<r){if(32===t.charCodeAt(a+1))break;a+=2}else{if(40===o&&++i>32)return c;if(41===o){if(0===i)break;i--}a++}return e===a||0!==i||(c.str=n(t.slice(e,a)),c.pos=a,c.ok=!0),c}},1534:function(t){"use strict";t.exports=function(t,e,r){var n,o,i,a,c=-1,u=t.posMax,s=t.pos;for(t.pos=e+1,n=1;t.pos<u;){if(93===(i=t.src.charCodeAt(t.pos))&&0==--n){o=!0;break}if(a=t.pos,t.md.inline.skipToken(t),91===i)if(a===t.pos-1)n++;else if(r)return t.pos=s,-1}return o&&(c=t.pos),t.pos=s,c}},8665:function(t,e,r){"use strict";var n=r(5534).unescapeAll;t.exports=function(t,e,r){var o,i,a=0,c=e,u={ok:!1,pos:0,lines:0,str:""};if(c>=r)return u;if(34!==(i=t.charCodeAt(c))&&39!==i&&40!==i)return u;for(c++,40===i&&(i=41);c<r;){if((o=t.charCodeAt(c))===i)return u.pos=c+1,u.lines=a,u.str=n(t.slice(e+1,c)),u.ok=!0,u;if(40===o&&41===i)return u;10===o?a++:92===o&&c+1<r&&(c++,10===t.charCodeAt(c)&&a++),c++}return u}},5771:function(t,e,r){"use strict";var n=r(5534),o=r(3246),i=r(3896),a=r(1457),c=r(1625),u=r(8477),s=r(9559),l=r(9116),f=r(5095),p={default:r(1832),zero:r(4040),commonmark:r(9211)},h=/^(vbscript|javascript|file|data):/,y=/^data:image\/(gif|png|jpeg|webp);/;function d(t){var e=t.trim().toLowerCase();return!h.test(e)||!!y.test(e)}var v=["http:","https:","mailto:"];function b(t){var e=l.parse(t,!0);if(e.hostname&&(!e.protocol||v.indexOf(e.protocol)>=0))try{e.hostname=f.toASCII(e.hostname)}catch(t){}return l.encode(l.format(e))}function m(t){var e=l.parse(t,!0);if(e.hostname&&(!e.protocol||v.indexOf(e.protocol)>=0))try{e.hostname=f.toUnicode(e.hostname)}catch(t){}return l.decode(l.format(e),l.decode.defaultChars+"%")}function g(t,e){if(!(this instanceof g))return new g(t,e);e||n.isString(t)||(e=t||{},t="default"),this.inline=new u,this.block=new c,this.core=new a,this.renderer=new i,this.linkify=new s,this.validateLink=d,this.normalizeLink=b,this.normalizeLinkText=m,this.utils=n,this.helpers=n.assign({},o),this.options={},this.configure(t),e&&this.set(e)}g.prototype.set=function(t){return n.assign(this.options,t),this},g.prototype.configure=function(t){var e,r=this;if(n.isString(t)&&!(t=p[e=t]))throw new Error('Wrong `markdown-it` preset "'+e+'", check name');if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&r.set(t.options),t.components&&Object.keys(t.components).forEach((function(e){t.components[e].rules&&r[e].ruler.enableOnly(t.components[e].rules),t.components[e].rules2&&r[e].ruler2.enableOnly(t.components[e].rules2)})),this},g.prototype.enable=function(t,e){var r=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach((function(e){r=r.concat(this[e].ruler.enable(t,!0))}),this),r=r.concat(this.inline.ruler2.enable(t,!0));var n=t.filter((function(t){return r.indexOf(t)<0}));if(n.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+n);return this},g.prototype.disable=function(t,e){var r=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach((function(e){r=r.concat(this[e].ruler.disable(t,!0))}),this),r=r.concat(this.inline.ruler2.disable(t,!0));var n=t.filter((function(t){return r.indexOf(t)<0}));if(n.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+n);return this},g.prototype.use=function(t){var e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this},g.prototype.parse=function(t,e){if("string"!=typeof t)throw new Error("Input data should be a String");var r=new this.core.State(t,this,e);return this.core.process(r),r.tokens},g.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)},g.prototype.parseInline=function(t,e){var r=new this.core.State(t,this,e);return r.inlineMode=!0,this.core.process(r),r.tokens},g.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)},t.exports=g},1625:function(t,e,r){"use strict";var n=r(3139),o=[["table",r(7328),["paragraph","reference"]],["code",r(5997)],["fence",r(8410),["paragraph","reference","blockquote","list"]],["blockquote",r(1308),["paragraph","reference","blockquote","list"]],["hr",r(7565),["paragraph","reference","blockquote","list"]],["list",r(8751),["paragraph","reference","blockquote"]],["reference",r(6254)],["html_block",r(4242),["paragraph","reference","blockquote"]],["heading",r(250),["paragraph","reference","blockquote"]],["lheading",r(1944)],["paragraph",r(1935)]];function i(){this.ruler=new n;for(var t=0;t<o.length;t++)this.ruler.push(o[t][0],o[t][1],{alt:(o[t][2]||[]).slice()})}i.prototype.tokenize=function(t,e,r){for(var n,o,i,a=this.ruler.getRules(""),c=a.length,u=e,s=!1,l=t.md.options.maxNesting;u<r&&(t.line=u=t.skipEmptyLines(u),!(u>=r))&&!(t.sCount[u]<t.blkIndent);){if(t.level>=l){t.line=r;break}for(i=t.line,o=0;o<c;o++)if(n=a[o](t,u,r,!1)){if(i>=t.line)throw new Error("block rule didn't increment state.line");break}if(!n)throw new Error("none of the block rules matched");t.tight=!s,t.isEmpty(t.line-1)&&(s=!0),(u=t.line)<r&&t.isEmpty(u)&&(s=!0,u++,t.line=u)}},i.prototype.parse=function(t,e,r,n){var o;t&&(o=new this.State(t,e,r,n),this.tokenize(o,o.line,o.lineMax))},i.prototype.State=r(4471),t.exports=i},1457:function(t,e,r){"use strict";var n=r(3139),o=[["normalize",r(6984)],["block",r(2242)],["inline",r(489)],["linkify",r(5201)],["replacements",r(1845)],["smartquotes",r(9359)],["text_join",r(3542)]];function i(){this.ruler=new n;for(var t=0;t<o.length;t++)this.ruler.push(o[t][0],o[t][1])}i.prototype.process=function(t){var e,r,n;for(e=0,r=(n=this.ruler.getRules("")).length;e<r;e++)n[e](t)},i.prototype.State=r(4740),t.exports=i},8477:function(t,e,r){"use strict";var n=r(3139),o=[["text",r(4030)],["linkify",r(8512)],["newline",r(2686)],["escape",r(2573)],["backticks",r(3667)],["strikethrough",r(8036).w],["emphasis",r(6610).w],["link",r(3602)],["image",r(1045)],["autolink",r(2780)],["html_inline",r(216)],["entity",r(490)]],i=[["balance_pairs",r(5024)],["strikethrough",r(8036).g],["emphasis",r(6610).g],["fragments_join",r(5338)]];function a(){var t;for(this.ruler=new n,t=0;t<o.length;t++)this.ruler.push(o[t][0],o[t][1]);for(this.ruler2=new n,t=0;t<i.length;t++)this.ruler2.push(i[t][0],i[t][1])}a.prototype.skipToken=function(t){var e,r,n=t.pos,o=this.ruler.getRules(""),i=o.length,a=t.md.options.maxNesting,c=t.cache;if(void 0===c[n]){if(t.level<a){for(r=0;r<i;r++)if(t.level++,e=o[r](t,!0),t.level--,e){if(n>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}else t.pos=t.posMax;e||t.pos++,c[n]=t.pos}else t.pos=c[n]},a.prototype.tokenize=function(t){for(var e,r,n,o=this.ruler.getRules(""),i=o.length,a=t.posMax,c=t.md.options.maxNesting;t.pos<a;){if(n=t.pos,t.level<c)for(r=0;r<i;r++)if(e=o[r](t,!1)){if(n>=t.pos)throw new Error("inline rule didn't increment state.pos");break}if(e){if(t.pos>=a)break}else t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()},a.prototype.parse=function(t,e,r,n){var o,i,a,c=new this.State(t,e,r,n);for(this.tokenize(c),a=(i=this.ruler2.getRules("")).length,o=0;o<a;o++)i[o](c)},a.prototype.State=r(8845),t.exports=a},9211:function(t){"use strict";t.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}}},1832:function(t){"use strict";t.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},4040:function(t){"use strict";t.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}}},3896:function(t,e,r){"use strict";var n=r(5534).assign,o=r(5534).unescapeAll,i=r(5534).escapeHtml,a={};function c(){this.rules=n({},a)}a.code_inline=function(t,e,r,n,o){var a=t[e];return"<code"+o.renderAttrs(a)+">"+i(a.content)+"</code>"},a.code_block=function(t,e,r,n,o){var a=t[e];return"<pre"+o.renderAttrs(a)+"><code>"+i(t[e].content)+"</code></pre>\n"},a.fence=function(t,e,r,n,a){var c,u,s,l,f,p=t[e],h=p.info?o(p.info).trim():"",y="",d="";return h&&(y=(s=h.split(/(\s+)/g))[0],d=s.slice(2).join("")),0===(c=r.highlight&&r.highlight(p.content,y,d)||i(p.content)).indexOf("<pre")?c+"\n":h?(u=p.attrIndex("class"),l=p.attrs?p.attrs.slice():[],u<0?l.push(["class",r.langPrefix+y]):(l[u]=l[u].slice(),l[u][1]+=" "+r.langPrefix+y),f={attrs:l},"<pre><code"+a.renderAttrs(f)+">"+c+"</code></pre>\n"):"<pre><code"+a.renderAttrs(p)+">"+c+"</code></pre>\n"},a.image=function(t,e,r,n,o){var i=t[e];return i.attrs[i.attrIndex("alt")][1]=o.renderInlineAsText(i.children,r,n),o.renderToken(t,e,r)},a.hardbreak=function(t,e,r){return r.xhtmlOut?"<br />\n":"<br>\n"},a.softbreak=function(t,e,r){return r.breaks?r.xhtmlOut?"<br />\n":"<br>\n":"\n"},a.text=function(t,e){return i(t[e].content)},a.html_block=function(t,e){return t[e].content},a.html_inline=function(t,e){return t[e].content},c.prototype.renderAttrs=function(t){var e,r,n;if(!t.attrs)return"";for(n="",e=0,r=t.attrs.length;e<r;e++)n+=" "+i(t.attrs[e][0])+'="'+i(t.attrs[e][1])+'"';return n},c.prototype.renderToken=function(t,e,r){var n,o="",i=!1,a=t[e];return a.hidden?"":(a.block&&-1!==a.nesting&&e&&t[e-1].hidden&&(o+="\n"),o+=(-1===a.nesting?"</":"<")+a.tag,o+=this.renderAttrs(a),0===a.nesting&&r.xhtmlOut&&(o+=" /"),a.block&&(i=!0,1===a.nesting&&e+1<t.length&&("inline"===(n=t[e+1]).type||n.hidden||-1===n.nesting&&n.tag===a.tag)&&(i=!1)),o+=i?">\n":">")},c.prototype.renderInline=function(t,e,r){for(var n,o="",i=this.rules,a=0,c=t.length;a<c;a++)void 0!==i[n=t[a].type]?o+=i[n](t,a,e,r,this):o+=this.renderToken(t,a,e);return o},c.prototype.renderInlineAsText=function(t,e,r){for(var n="",o=0,i=t.length;o<i;o++)"text"===t[o].type?n+=t[o].content:"image"===t[o].type?n+=this.renderInlineAsText(t[o].children,e,r):"softbreak"===t[o].type&&(n+="\n");return n},c.prototype.render=function(t,e,r){var n,o,i,a="",c=this.rules;for(n=0,o=t.length;n<o;n++)"inline"===(i=t[n].type)?a+=this.renderInline(t[n].children,e,r):void 0!==c[i]?a+=c[i](t,n,e,r,this):a+=this.renderToken(t,n,e,r);return a},t.exports=c},3139:function(t){"use strict";function e(){this.__rules__=[],this.__cache__=null}e.prototype.__find__=function(t){for(var e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1},e.prototype.__compile__=function(){var t=this,e=[""];t.__rules__.forEach((function(t){t.enabled&&t.alt.forEach((function(t){e.indexOf(t)<0&&e.push(t)}))})),t.__cache__={},e.forEach((function(e){t.__cache__[e]=[],t.__rules__.forEach((function(r){r.enabled&&(e&&r.alt.indexOf(e)<0||t.__cache__[e].push(r.fn))}))}))},e.prototype.at=function(t,e,r){var n=this.__find__(t),o=r||{};if(-1===n)throw new Error("Parser rule not found: "+t);this.__rules__[n].fn=e,this.__rules__[n].alt=o.alt||[],this.__cache__=null},e.prototype.before=function(t,e,r,n){var o=this.__find__(t),i=n||{};if(-1===o)throw new Error("Parser rule not found: "+t);this.__rules__.splice(o,0,{name:e,enabled:!0,fn:r,alt:i.alt||[]}),this.__cache__=null},e.prototype.after=function(t,e,r,n){var o=this.__find__(t),i=n||{};if(-1===o)throw new Error("Parser rule not found: "+t);this.__rules__.splice(o+1,0,{name:e,enabled:!0,fn:r,alt:i.alt||[]}),this.__cache__=null},e.prototype.push=function(t,e,r){var n=r||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:n.alt||[]}),this.__cache__=null},e.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);var r=[];return t.forEach((function(t){var n=this.__find__(t);if(n<0){if(e)return;throw new Error("Rules manager: invalid rule name "+t)}this.__rules__[n].enabled=!0,r.push(t)}),this),this.__cache__=null,r},e.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach((function(t){t.enabled=!1})),this.enable(t,e)},e.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);var r=[];return t.forEach((function(t){var n=this.__find__(t);if(n<0){if(e)return;throw new Error("Rules manager: invalid rule name "+t)}this.__rules__[n].enabled=!1,r.push(t)}),this),this.__cache__=null,r},e.prototype.getRules=function(t){return null===this.__cache__&&this.__compile__(),this.__cache__[t]||[]},t.exports=e},1308:function(t,e,r){"use strict";var n=r(5534).isSpace;t.exports=function(t,e,r,o){var i,a,c,u,s,l,f,p,h,y,d,v,b,m,g,w,_,O,x,k,j=t.lineMax,E=t.bMarks[e]+t.tShift[e],S=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(62!==t.src.charCodeAt(E))return!1;if(o)return!0;for(y=[],d=[],m=[],g=[],O=t.md.block.ruler.getRules("blockquote"),b=t.parentType,t.parentType="blockquote",p=e;p<r&&(k=t.sCount[p]<t.blkIndent,!((E=t.bMarks[p]+t.tShift[p])>=(S=t.eMarks[p])));p++)if(62!==t.src.charCodeAt(E++)||k){if(l)break;for(_=!1,c=0,s=O.length;c<s;c++)if(O[c](t,p,r,!0)){_=!0;break}if(_){t.lineMax=p,0!==t.blkIndent&&(y.push(t.bMarks[p]),d.push(t.bsCount[p]),g.push(t.tShift[p]),m.push(t.sCount[p]),t.sCount[p]-=t.blkIndent);break}y.push(t.bMarks[p]),d.push(t.bsCount[p]),g.push(t.tShift[p]),m.push(t.sCount[p]),t.sCount[p]=-1}else{for(u=t.sCount[p]+1,32===t.src.charCodeAt(E)?(E++,u++,i=!1,w=!0):9===t.src.charCodeAt(E)?(w=!0,(t.bsCount[p]+u)%4==3?(E++,u++,i=!1):i=!0):w=!1,h=u,y.push(t.bMarks[p]),t.bMarks[p]=E;E<S&&(a=t.src.charCodeAt(E),n(a));)9===a?h+=4-(h+t.bsCount[p]+(i?1:0))%4:h++,E++;l=E>=S,d.push(t.bsCount[p]),t.bsCount[p]=t.sCount[p]+1+(w?1:0),m.push(t.sCount[p]),t.sCount[p]=h-u,g.push(t.tShift[p]),t.tShift[p]=E-t.bMarks[p]}for(v=t.blkIndent,t.blkIndent=0,(x=t.push("blockquote_open","blockquote",1)).markup=">",x.map=f=[e,0],t.md.block.tokenize(t,e,p),(x=t.push("blockquote_close","blockquote",-1)).markup=">",t.lineMax=j,t.parentType=b,f[1]=t.line,c=0;c<g.length;c++)t.bMarks[c+e]=y[c],t.tShift[c+e]=g[c],t.sCount[c+e]=m[c],t.bsCount[c+e]=d[c];return t.blkIndent=v,!0}},5997:function(t){"use strict";t.exports=function(t,e,r){var n,o,i;if(t.sCount[e]-t.blkIndent<4)return!1;for(o=n=e+1;n<r;)if(t.isEmpty(n))n++;else{if(!(t.sCount[n]-t.blkIndent>=4))break;o=++n}return t.line=o,(i=t.push("code_block","code",0)).content=t.getLines(e,o,4+t.blkIndent,!1)+"\n",i.map=[e,t.line],!0}},8410:function(t){"use strict";t.exports=function(t,e,r,n){var o,i,a,c,u,s,l,f=!1,p=t.bMarks[e]+t.tShift[e],h=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(p+3>h)return!1;if(126!==(o=t.src.charCodeAt(p))&&96!==o)return!1;if(u=p,(i=(p=t.skipChars(p,o))-u)<3)return!1;if(l=t.src.slice(u,p),a=t.src.slice(p,h),96===o&&a.indexOf(String.fromCharCode(o))>=0)return!1;if(n)return!0;for(c=e;!(++c>=r||(p=u=t.bMarks[c]+t.tShift[c])<(h=t.eMarks[c])&&t.sCount[c]<t.blkIndent);)if(t.src.charCodeAt(p)===o&&!(t.sCount[c]-t.blkIndent>=4||(p=t.skipChars(p,o))-u<i||(p=t.skipSpaces(p))<h)){f=!0;break}return i=t.sCount[e],t.line=c+(f?1:0),(s=t.push("fence","code",0)).info=a,s.content=t.getLines(e+1,c,i,!0),s.markup=l,s.map=[e,t.line],!0}},250:function(t,e,r){"use strict";var n=r(5534).isSpace;t.exports=function(t,e,r,o){var i,a,c,u,s=t.bMarks[e]+t.tShift[e],l=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(35!==(i=t.src.charCodeAt(s))||s>=l)return!1;for(a=1,i=t.src.charCodeAt(++s);35===i&&s<l&&a<=6;)a++,i=t.src.charCodeAt(++s);return!(a>6||s<l&&!n(i)||(o||(l=t.skipSpacesBack(l,s),(c=t.skipCharsBack(l,35,s))>s&&n(t.src.charCodeAt(c-1))&&(l=c),t.line=e+1,(u=t.push("heading_open","h"+String(a),1)).markup="########".slice(0,a),u.map=[e,t.line],(u=t.push("inline","",0)).content=t.src.slice(s,l).trim(),u.map=[e,t.line],u.children=[],(u=t.push("heading_close","h"+String(a),-1)).markup="########".slice(0,a)),0))}},7565:function(t,e,r){"use strict";var n=r(5534).isSpace;t.exports=function(t,e,r,o){var i,a,c,u,s=t.bMarks[e]+t.tShift[e],l=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(42!==(i=t.src.charCodeAt(s++))&&45!==i&&95!==i)return!1;for(a=1;s<l;){if((c=t.src.charCodeAt(s++))!==i&&!n(c))return!1;c===i&&a++}return!(a<3||(o||(t.line=e+1,(u=t.push("hr","hr",0)).map=[e,t.line],u.markup=Array(a+1).join(String.fromCharCode(i))),0))}},4242:function(t,e,r){"use strict";var n=r(3942),o=r(1122).q,i=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+n.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(o.source+"\\s*$"),/^$/,!1]];t.exports=function(t,e,r,n){var o,a,c,u,s=t.bMarks[e]+t.tShift[e],l=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(!t.md.options.html)return!1;if(60!==t.src.charCodeAt(s))return!1;for(u=t.src.slice(s,l),o=0;o<i.length&&!i[o][0].test(u);o++);if(o===i.length)return!1;if(n)return i[o][2];if(a=e+1,!i[o][1].test(u))for(;a<r&&!(t.sCount[a]<t.blkIndent);a++)if(s=t.bMarks[a]+t.tShift[a],l=t.eMarks[a],u=t.src.slice(s,l),i[o][1].test(u)){0!==u.length&&a++;break}return t.line=a,(c=t.push("html_block","",0)).map=[e,a],c.content=t.getLines(e,a,t.blkIndent,!0),!0}},1944:function(t){"use strict";t.exports=function(t,e,r){var n,o,i,a,c,u,s,l,f,p,h=e+1,y=t.md.block.ruler.getRules("paragraph");if(t.sCount[e]-t.blkIndent>=4)return!1;for(p=t.parentType,t.parentType="paragraph";h<r&&!t.isEmpty(h);h++)if(!(t.sCount[h]-t.blkIndent>3)){if(t.sCount[h]>=t.blkIndent&&(u=t.bMarks[h]+t.tShift[h])<(s=t.eMarks[h])&&(45===(f=t.src.charCodeAt(u))||61===f)&&(u=t.skipChars(u,f),(u=t.skipSpaces(u))>=s)){l=61===f?1:2;break}if(!(t.sCount[h]<0)){for(o=!1,i=0,a=y.length;i<a;i++)if(y[i](t,h,r,!0)){o=!0;break}if(o)break}}return!!l&&(n=t.getLines(e,h,t.blkIndent,!1).trim(),t.line=h+1,(c=t.push("heading_open","h"+String(l),1)).markup=String.fromCharCode(f),c.map=[e,t.line],(c=t.push("inline","",0)).content=n,c.map=[e,t.line-1],c.children=[],(c=t.push("heading_close","h"+String(l),-1)).markup=String.fromCharCode(f),t.parentType=p,!0)}},8751:function(t,e,r){"use strict";var n=r(5534).isSpace;function o(t,e){var r,o,i,a;return o=t.bMarks[e]+t.tShift[e],i=t.eMarks[e],42!==(r=t.src.charCodeAt(o++))&&45!==r&&43!==r||o<i&&(a=t.src.charCodeAt(o),!n(a))?-1:o}function i(t,e){var r,o=t.bMarks[e]+t.tShift[e],i=o,a=t.eMarks[e];if(i+1>=a)return-1;if((r=t.src.charCodeAt(i++))<48||r>57)return-1;for(;;){if(i>=a)return-1;if(!((r=t.src.charCodeAt(i++))>=48&&r<=57)){if(41===r||46===r)break;return-1}if(i-o>=10)return-1}return i<a&&(r=t.src.charCodeAt(i),!n(r))?-1:i}t.exports=function(t,e,r,n){var a,c,u,s,l,f,p,h,y,d,v,b,m,g,w,_,O,x,k,j,E,S,P,C,A,L,T,R=e,D=!1,I=!0;if(t.sCount[R]-t.blkIndent>=4)return!1;if(t.listIndent>=0&&t.sCount[R]-t.listIndent>=4&&t.sCount[R]<t.blkIndent)return!1;if(n&&"paragraph"===t.parentType&&t.sCount[R]>=t.blkIndent&&(D=!0),(S=i(t,R))>=0){if(p=!0,C=t.bMarks[R]+t.tShift[R],m=Number(t.src.slice(C,S-1)),D&&1!==m)return!1}else{if(!((S=o(t,R))>=0))return!1;p=!1}if(D&&t.skipSpaces(S)>=t.eMarks[R])return!1;if(n)return!0;for(b=t.src.charCodeAt(S-1),v=t.tokens.length,p?(T=t.push("ordered_list_open","ol",1),1!==m&&(T.attrs=[["start",m]])):T=t.push("bullet_list_open","ul",1),T.map=d=[R,0],T.markup=String.fromCharCode(b),P=!1,L=t.md.block.ruler.getRules("list"),O=t.parentType,t.parentType="list";R<r;){for(E=S,g=t.eMarks[R],f=w=t.sCount[R]+S-(t.bMarks[R]+t.tShift[R]);E<g;){if(9===(a=t.src.charCodeAt(E)))w+=4-(w+t.bsCount[R])%4;else{if(32!==a)break;w++}E++}if((l=(c=E)>=g?1:w-f)>4&&(l=1),s=f+l,(T=t.push("list_item_open","li",1)).markup=String.fromCharCode(b),T.map=h=[R,0],p&&(T.info=t.src.slice(C,S-1)),j=t.tight,k=t.tShift[R],x=t.sCount[R],_=t.listIndent,t.listIndent=t.blkIndent,t.blkIndent=s,t.tight=!0,t.tShift[R]=c-t.bMarks[R],t.sCount[R]=w,c>=g&&t.isEmpty(R+1)?t.line=Math.min(t.line+2,r):t.md.block.tokenize(t,R,r,!0),t.tight&&!P||(I=!1),P=t.line-R>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=_,t.tShift[R]=k,t.sCount[R]=x,t.tight=j,(T=t.push("list_item_close","li",-1)).markup=String.fromCharCode(b),R=t.line,h[1]=R,R>=r)break;if(t.sCount[R]<t.blkIndent)break;if(t.sCount[R]-t.blkIndent>=4)break;for(A=!1,u=0,y=L.length;u<y;u++)if(L[u](t,R,r,!0)){A=!0;break}if(A)break;if(p){if((S=i(t,R))<0)break;C=t.bMarks[R]+t.tShift[R]}else if((S=o(t,R))<0)break;if(b!==t.src.charCodeAt(S-1))break}return(T=p?t.push("ordered_list_close","ol",-1):t.push("bullet_list_close","ul",-1)).markup=String.fromCharCode(b),d[1]=R,t.line=R,t.parentType=O,I&&function(t,e){var r,n,o=t.level+2;for(r=e+2,n=t.tokens.length-2;r<n;r++)t.tokens[r].level===o&&"paragraph_open"===t.tokens[r].type&&(t.tokens[r+2].hidden=!0,t.tokens[r].hidden=!0,r+=2)}(t,v),!0}},1935:function(t){"use strict";t.exports=function(t,e,r){var n,o,i,a,c,u,s=e+1,l=t.md.block.ruler.getRules("paragraph");for(u=t.parentType,t.parentType="paragraph";s<r&&!t.isEmpty(s);s++)if(!(t.sCount[s]-t.blkIndent>3||t.sCount[s]<0)){for(o=!1,i=0,a=l.length;i<a;i++)if(l[i](t,s,r,!0)){o=!0;break}if(o)break}return n=t.getLines(e,s,t.blkIndent,!1).trim(),t.line=s,(c=t.push("paragraph_open","p",1)).map=[e,t.line],(c=t.push("inline","",0)).content=n,c.map=[e,t.line],c.children=[],c=t.push("paragraph_close","p",-1),t.parentType=u,!0}},6254:function(t,e,r){"use strict";var n=r(5534).normalizeReference,o=r(5534).isSpace;t.exports=function(t,e,r,i){var a,c,u,s,l,f,p,h,y,d,v,b,m,g,w,_,O=0,x=t.bMarks[e]+t.tShift[e],k=t.eMarks[e],j=e+1;if(t.sCount[e]-t.blkIndent>=4)return!1;if(91!==t.src.charCodeAt(x))return!1;for(;++x<k;)if(93===t.src.charCodeAt(x)&&92!==t.src.charCodeAt(x-1)){if(x+1===k)return!1;if(58!==t.src.charCodeAt(x+1))return!1;break}for(s=t.lineMax,w=t.md.block.ruler.getRules("reference"),d=t.parentType,t.parentType="reference";j<s&&!t.isEmpty(j);j++)if(!(t.sCount[j]-t.blkIndent>3||t.sCount[j]<0)){for(g=!1,f=0,p=w.length;f<p;f++)if(w[f](t,j,s,!0)){g=!0;break}if(g)break}for(k=(m=t.getLines(e,j,t.blkIndent,!1).trim()).length,x=1;x<k;x++){if(91===(a=m.charCodeAt(x)))return!1;if(93===a){y=x;break}(10===a||92===a&&++x<k&&10===m.charCodeAt(x))&&O++}if(y<0||58!==m.charCodeAt(y+1))return!1;for(x=y+2;x<k;x++)if(10===(a=m.charCodeAt(x)))O++;else if(!o(a))break;if(!(v=t.md.helpers.parseLinkDestination(m,x,k)).ok)return!1;if(l=t.md.normalizeLink(v.str),!t.md.validateLink(l))return!1;for(c=x=v.pos,u=O+=v.lines,b=x;x<k;x++)if(10===(a=m.charCodeAt(x)))O++;else if(!o(a))break;for(v=t.md.helpers.parseLinkTitle(m,x,k),x<k&&b!==x&&v.ok?(_=v.str,x=v.pos,O+=v.lines):(_="",x=c,O=u);x<k&&(a=m.charCodeAt(x),o(a));)x++;if(x<k&&10!==m.charCodeAt(x)&&_)for(_="",x=c,O=u;x<k&&(a=m.charCodeAt(x),o(a));)x++;return!(x<k&&10!==m.charCodeAt(x)||!(h=n(m.slice(1,y)))||(i||(void 0===t.env.references&&(t.env.references={}),void 0===t.env.references[h]&&(t.env.references[h]={title:_,href:l}),t.parentType=d,t.line=e+O+1),0))}},4471:function(t,e,r){"use strict";var n=r(925),o=r(5534).isSpace;function i(t,e,r,n){var i,a,c,u,s,l,f,p;for(this.src=t,this.md=e,this.env=r,this.tokens=n,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",p=!1,c=u=l=f=0,s=(a=this.src).length;u<s;u++){if(i=a.charCodeAt(u),!p){if(o(i)){l++,9===i?f+=4-f%4:f++;continue}p=!0}10!==i&&u!==s-1||(10!==i&&u++,this.bMarks.push(c),this.eMarks.push(u),this.tShift.push(l),this.sCount.push(f),this.bsCount.push(0),p=!1,l=0,f=0,c=u+1)}this.bMarks.push(a.length),this.eMarks.push(a.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}i.prototype.push=function(t,e,r){var o=new n(t,e,r);return o.block=!0,r<0&&this.level--,o.level=this.level,r>0&&this.level++,this.tokens.push(o),o},i.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]},i.prototype.skipEmptyLines=function(t){for(var e=this.lineMax;t<e&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t},i.prototype.skipSpaces=function(t){for(var e,r=this.src.length;t<r&&(e=this.src.charCodeAt(t),o(e));t++);return t},i.prototype.skipSpacesBack=function(t,e){if(t<=e)return t;for(;t>e;)if(!o(this.src.charCodeAt(--t)))return t+1;return t},i.prototype.skipChars=function(t,e){for(var r=this.src.length;t<r&&this.src.charCodeAt(t)===e;t++);return t},i.prototype.skipCharsBack=function(t,e,r){if(t<=r)return t;for(;t>r;)if(e!==this.src.charCodeAt(--t))return t+1;return t},i.prototype.getLines=function(t,e,r,n){var i,a,c,u,s,l,f,p=t;if(t>=e)return"";for(l=new Array(e-t),i=0;p<e;p++,i++){for(a=0,f=u=this.bMarks[p],s=p+1<e||n?this.eMarks[p]+1:this.eMarks[p];u<s&&a<r;){if(c=this.src.charCodeAt(u),o(c))9===c?a+=4-(a+this.bsCount[p])%4:a++;else{if(!(u-f<this.tShift[p]))break;a++}u++}l[i]=a>r?new Array(a-r+1).join(" ")+this.src.slice(u,s):this.src.slice(u,s)}return l.join("")},i.prototype.Token=n,t.exports=i},7328:function(t,e,r){"use strict";var n=r(5534).isSpace;function o(t,e){var r=t.bMarks[e]+t.tShift[e],n=t.eMarks[e];return t.src.slice(r,n)}function i(t){var e,r=[],n=0,o=t.length,i=!1,a=0,c="";for(e=t.charCodeAt(n);n<o;)124===e&&(i?(c+=t.substring(a,n-1),a=n):(r.push(c+t.substring(a,n)),c="",a=n+1)),i=92===e,n++,e=t.charCodeAt(n);return r.push(c+t.substring(a)),r}t.exports=function(t,e,r,a){var c,u,s,l,f,p,h,y,d,v,b,m,g,w,_,O,x,k;if(e+2>r)return!1;if(p=e+1,t.sCount[p]<t.blkIndent)return!1;if(t.sCount[p]-t.blkIndent>=4)return!1;if((s=t.bMarks[p]+t.tShift[p])>=t.eMarks[p])return!1;if(124!==(x=t.src.charCodeAt(s++))&&45!==x&&58!==x)return!1;if(s>=t.eMarks[p])return!1;if(124!==(k=t.src.charCodeAt(s++))&&45!==k&&58!==k&&!n(k))return!1;if(45===x&&n(k))return!1;for(;s<t.eMarks[p];){if(124!==(c=t.src.charCodeAt(s))&&45!==c&&58!==c&&!n(c))return!1;s++}for(h=(u=o(t,e+1)).split("|"),v=[],l=0;l<h.length;l++){if(!(b=h[l].trim())){if(0===l||l===h.length-1)continue;return!1}if(!/^:?-+:?$/.test(b))return!1;58===b.charCodeAt(b.length-1)?v.push(58===b.charCodeAt(0)?"center":"right"):58===b.charCodeAt(0)?v.push("left"):v.push("")}if(-1===(u=o(t,e).trim()).indexOf("|"))return!1;if(t.sCount[e]-t.blkIndent>=4)return!1;if((h=i(u)).length&&""===h[0]&&h.shift(),h.length&&""===h[h.length-1]&&h.pop(),0===(y=h.length)||y!==v.length)return!1;if(a)return!0;for(w=t.parentType,t.parentType="table",O=t.md.block.ruler.getRules("blockquote"),(d=t.push("table_open","table",1)).map=m=[e,0],(d=t.push("thead_open","thead",1)).map=[e,e+1],(d=t.push("tr_open","tr",1)).map=[e,e+1],l=0;l<h.length;l++)d=t.push("th_open","th",1),v[l]&&(d.attrs=[["style","text-align:"+v[l]]]),(d=t.push("inline","",0)).content=h[l].trim(),d.children=[],d=t.push("th_close","th",-1);for(d=t.push("tr_close","tr",-1),d=t.push("thead_close","thead",-1),p=e+2;p<r&&!(t.sCount[p]<t.blkIndent);p++){for(_=!1,l=0,f=O.length;l<f;l++)if(O[l](t,p,r,!0)){_=!0;break}if(_)break;if(!(u=o(t,p).trim()))break;if(t.sCount[p]-t.blkIndent>=4)break;for((h=i(u)).length&&""===h[0]&&h.shift(),h.length&&""===h[h.length-1]&&h.pop(),p===e+2&&((d=t.push("tbody_open","tbody",1)).map=g=[e+2,0]),(d=t.push("tr_open","tr",1)).map=[p,p+1],l=0;l<y;l++)d=t.push("td_open","td",1),v[l]&&(d.attrs=[["style","text-align:"+v[l]]]),(d=t.push("inline","",0)).content=h[l]?h[l].trim():"",d.children=[],d=t.push("td_close","td",-1);d=t.push("tr_close","tr",-1)}return g&&(d=t.push("tbody_close","tbody",-1),g[1]=p),d=t.push("table_close","table",-1),m[1]=p,t.parentType=w,t.line=p,!0}},2242:function(t){"use strict";t.exports=function(t){var e;t.inlineMode?((e=new t.Token("inline","",0)).content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}},489:function(t){"use strict";t.exports=function(t){var e,r,n,o=t.tokens;for(r=0,n=o.length;r<n;r++)"inline"===(e=o[r]).type&&t.md.inline.parse(e.content,t.md,t.env,e.children)}},5201:function(t,e,r){"use strict";var n=r(5534).arrayReplaceAt;function o(t){return/^<\/a\s*>/i.test(t)}t.exports=function(t){var e,r,i,a,c,u,s,l,f,p,h,y,d,v,b,m,g,w,_=t.tokens;if(t.md.options.linkify)for(r=0,i=_.length;r<i;r++)if("inline"===_[r].type&&t.md.linkify.pretest(_[r].content))for(d=0,e=(a=_[r].children).length-1;e>=0;e--)if("link_close"!==(u=a[e]).type){if("html_inline"===u.type&&(w=u.content,/^<a[>\s]/i.test(w)&&d>0&&d--,o(u.content)&&d++),!(d>0)&&"text"===u.type&&t.md.linkify.test(u.content)){for(f=u.content,g=t.md.linkify.match(f),s=[],y=u.level,h=0,g.length>0&&0===g[0].index&&e>0&&"text_special"===a[e-1].type&&(g=g.slice(1)),l=0;l<g.length;l++)v=g[l].url,b=t.md.normalizeLink(v),t.md.validateLink(b)&&(m=g[l].text,m=g[l].schema?"mailto:"!==g[l].schema||/^mailto:/i.test(m)?t.md.normalizeLinkText(m):t.md.normalizeLinkText("mailto:"+m).replace(/^mailto:/,""):t.md.normalizeLinkText("http://"+m).replace(/^http:\/\//,""),(p=g[l].index)>h&&((c=new t.Token("text","",0)).content=f.slice(h,p),c.level=y,s.push(c)),(c=new t.Token("link_open","a",1)).attrs=[["href",b]],c.level=y++,c.markup="linkify",c.info="auto",s.push(c),(c=new t.Token("text","",0)).content=m,c.level=y,s.push(c),(c=new t.Token("link_close","a",-1)).level=--y,c.markup="linkify",c.info="auto",s.push(c),h=g[l].lastIndex);h<f.length&&((c=new t.Token("text","",0)).content=f.slice(h),c.level=y,s.push(c)),_[r].children=a=n(a,e,s)}}else for(e--;a[e].level!==u.level&&"link_open"!==a[e].type;)e--}},6984:function(t){"use strict";var e=/\r\n?|\n/g,r=/\0/g;t.exports=function(t){var n;n=(n=t.src.replace(e,"\n")).replace(r,"�"),t.src=n}},1845:function(t){"use strict";var e=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,r=/\((c|tm|r)\)/i,n=/\((c|tm|r)\)/gi,o={c:"©",r:"®",tm:"™"};function i(t,e){return o[e.toLowerCase()]}function a(t){var e,r,o=0;for(e=t.length-1;e>=0;e--)"text"!==(r=t[e]).type||o||(r.content=r.content.replace(n,i)),"link_open"===r.type&&"auto"===r.info&&o--,"link_close"===r.type&&"auto"===r.info&&o++}function c(t){var r,n,o=0;for(r=t.length-1;r>=0;r--)"text"!==(n=t[r]).type||o||e.test(n.content)&&(n.content=n.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/gm,"$1—").replace(/(^|\s)--(?=\s|$)/gm,"$1–").replace(/(^|[^-\s])--(?=[^-\s]|$)/gm,"$1–")),"link_open"===n.type&&"auto"===n.info&&o--,"link_close"===n.type&&"auto"===n.info&&o++}t.exports=function(t){var n;if(t.md.options.typographer)for(n=t.tokens.length-1;n>=0;n--)"inline"===t.tokens[n].type&&(r.test(t.tokens[n].content)&&a(t.tokens[n].children),e.test(t.tokens[n].content)&&c(t.tokens[n].children))}},9359:function(t,e,r){"use strict";var n=r(5534).isWhiteSpace,o=r(5534).isPunctChar,i=r(5534).isMdAsciiPunct,a=/['"]/,c=/['"]/g;function u(t,e,r){return t.slice(0,e)+r+t.slice(e+1)}function s(t,e){var r,a,s,l,f,p,h,y,d,v,b,m,g,w,_,O,x,k,j,E,S;for(j=[],r=0;r<t.length;r++){for(a=t[r],h=t[r].level,x=j.length-1;x>=0&&!(j[x].level<=h);x--);if(j.length=x+1,"text"===a.type){f=0,p=(s=a.content).length;t:for(;f<p&&(c.lastIndex=f,l=c.exec(s));){if(_=O=!0,f=l.index+1,k="'"===l[0],d=32,l.index-1>=0)d=s.charCodeAt(l.index-1);else for(x=r-1;x>=0&&"softbreak"!==t[x].type&&"hardbreak"!==t[x].type;x--)if(t[x].content){d=t[x].content.charCodeAt(t[x].content.length-1);break}if(v=32,f<p)v=s.charCodeAt(f);else for(x=r+1;x<t.length&&"softbreak"!==t[x].type&&"hardbreak"!==t[x].type;x++)if(t[x].content){v=t[x].content.charCodeAt(0);break}if(b=i(d)||o(String.fromCharCode(d)),m=i(v)||o(String.fromCharCode(v)),g=n(d),(w=n(v))?_=!1:m&&(g||b||(_=!1)),g?O=!1:b&&(w||m||(O=!1)),34===v&&'"'===l[0]&&d>=48&&d<=57&&(O=_=!1),_&&O&&(_=b,O=m),_||O){if(O)for(x=j.length-1;x>=0&&(y=j[x],!(j[x].level<h));x--)if(y.single===k&&j[x].level===h){y=j[x],k?(E=e.md.options.quotes[2],S=e.md.options.quotes[3]):(E=e.md.options.quotes[0],S=e.md.options.quotes[1]),a.content=u(a.content,l.index,S),t[y.token].content=u(t[y.token].content,y.pos,E),f+=S.length-1,y.token===r&&(f+=E.length-1),p=(s=a.content).length,j.length=x;continue t}_?j.push({token:r,pos:l.index,single:k,level:h}):O&&k&&(a.content=u(a.content,l.index,"’"))}else k&&(a.content=u(a.content,l.index,"’"))}}}}t.exports=function(t){var e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)"inline"===t.tokens[e].type&&a.test(t.tokens[e].content)&&s(t.tokens[e].children,t)}},4740:function(t,e,r){"use strict";var n=r(925);function o(t,e,r){this.src=t,this.env=r,this.tokens=[],this.inlineMode=!1,this.md=e}o.prototype.Token=n,t.exports=o},3542:function(t){"use strict";t.exports=function(t){var e,r,n,o,i,a,c=t.tokens;for(e=0,r=c.length;e<r;e++)if("inline"===c[e].type){for(i=(n=c[e].children).length,o=0;o<i;o++)"text_special"===n[o].type&&(n[o].type="text");for(o=a=0;o<i;o++)"text"===n[o].type&&o+1<i&&"text"===n[o+1].type?n[o+1].content=n[o].content+n[o+1].content:(o!==a&&(n[a]=n[o]),a++);o!==a&&(n.length=a)}}},2780:function(t){"use strict";var e=/^([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,r=/^([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)$/;t.exports=function(t,n){var o,i,a,c,u,s,l=t.pos;if(60!==t.src.charCodeAt(l))return!1;for(u=t.pos,s=t.posMax;;){if(++l>=s)return!1;if(60===(c=t.src.charCodeAt(l)))return!1;if(62===c)break}return o=t.src.slice(u+1,l),r.test(o)?(i=t.md.normalizeLink(o),!!t.md.validateLink(i)&&(n||((a=t.push("link_open","a",1)).attrs=[["href",i]],a.markup="autolink",a.info="auto",(a=t.push("text","",0)).content=t.md.normalizeLinkText(o),(a=t.push("link_close","a",-1)).markup="autolink",a.info="auto"),t.pos+=o.length+2,!0)):!!e.test(o)&&(i=t.md.normalizeLink("mailto:"+o),!!t.md.validateLink(i)&&(n||((a=t.push("link_open","a",1)).attrs=[["href",i]],a.markup="autolink",a.info="auto",(a=t.push("text","",0)).content=t.md.normalizeLinkText(o),(a=t.push("link_close","a",-1)).markup="autolink",a.info="auto"),t.pos+=o.length+2,!0))}},3667:function(t){"use strict";t.exports=function(t,e){var r,n,o,i,a,c,u,s,l=t.pos;if(96!==t.src.charCodeAt(l))return!1;for(r=l,l++,n=t.posMax;l<n&&96===t.src.charCodeAt(l);)l++;if(u=(o=t.src.slice(r,l)).length,t.backticksScanned&&(t.backticks[u]||0)<=r)return e||(t.pending+=o),t.pos+=u,!0;for(c=l;-1!==(a=t.src.indexOf("`",c));){for(c=a+1;c<n&&96===t.src.charCodeAt(c);)c++;if((s=c-a)===u)return e||((i=t.push("code_inline","code",0)).markup=o,i.content=t.src.slice(l,a).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),t.pos=c,!0;t.backticks[s]=a}return t.backticksScanned=!0,e||(t.pending+=o),t.pos+=u,!0}},5024:function(t){"use strict";function e(t){var e,r,n,o,i,a,c,u,s={},l=t.length;if(l){var f=0,p=-2,h=[];for(e=0;e<l;e++)if(n=t[e],h.push(0),t[f].marker===n.marker&&p===n.token-1||(f=e),p=n.token,n.length=n.length||0,n.close){for(s.hasOwnProperty(n.marker)||(s[n.marker]=[-1,-1,-1,-1,-1,-1]),i=s[n.marker][(n.open?3:0)+n.length%3],a=r=f-h[f]-1;r>i;r-=h[r]+1)if((o=t[r]).marker===n.marker&&o.open&&o.end<0&&(c=!1,(o.close||n.open)&&(o.length+n.length)%3==0&&(o.length%3==0&&n.length%3==0||(c=!0)),!c)){u=r>0&&!t[r-1].open?h[r-1]+1:0,h[e]=e-r+u,h[r]=u,n.open=!1,o.end=e,o.close=!1,a=-1,p=-2;break}-1!==a&&(s[n.marker][(n.open?3:0)+(n.length||0)%3]=a)}}}t.exports=function(t){var r,n=t.tokens_meta,o=t.tokens_meta.length;for(e(t.delimiters),r=0;r<o;r++)n[r]&&n[r].delimiters&&e(n[r].delimiters)}},6610:function(t){"use strict";function e(t,e){var r,n,o,i,a,c;for(r=e.length-1;r>=0;r--)95!==(n=e[r]).marker&&42!==n.marker||-1!==n.end&&(o=e[n.end],c=r>0&&e[r-1].end===n.end+1&&e[r-1].marker===n.marker&&e[r-1].token===n.token-1&&e[n.end+1].token===o.token+1,a=String.fromCharCode(n.marker),(i=t.tokens[n.token]).type=c?"strong_open":"em_open",i.tag=c?"strong":"em",i.nesting=1,i.markup=c?a+a:a,i.content="",(i=t.tokens[o.token]).type=c?"strong_close":"em_close",i.tag=c?"strong":"em",i.nesting=-1,i.markup=c?a+a:a,i.content="",c&&(t.tokens[e[r-1].token].content="",t.tokens[e[n.end+1].token].content="",r--))}t.exports.w=function(t,e){var r,n,o=t.pos,i=t.src.charCodeAt(o);if(e)return!1;if(95!==i&&42!==i)return!1;for(n=t.scanDelims(t.pos,42===i),r=0;r<n.length;r++)t.push("text","",0).content=String.fromCharCode(i),t.delimiters.push({marker:i,length:n.length,token:t.tokens.length-1,end:-1,open:n.can_open,close:n.can_close});return t.pos+=n.length,!0},t.exports.g=function(t){var r,n=t.tokens_meta,o=t.tokens_meta.length;for(e(t,t.delimiters),r=0;r<o;r++)n[r]&&n[r].delimiters&&e(t,n[r].delimiters)}},490:function(t,e,r){"use strict";var n=r(1762),o=r(5534).has,i=r(5534).isValidEntityCode,a=r(5534).fromCodePoint,c=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,u=/^&([a-z][a-z0-9]{1,31});/i;t.exports=function(t,e){var r,s,l,f=t.pos,p=t.posMax;if(38!==t.src.charCodeAt(f))return!1;if(f+1>=p)return!1;if(35===t.src.charCodeAt(f+1)){if(s=t.src.slice(f).match(c))return e||(r="x"===s[1][0].toLowerCase()?parseInt(s[1].slice(1),16):parseInt(s[1],10),(l=t.push("text_special","",0)).content=i(r)?a(r):a(65533),l.markup=s[0],l.info="entity"),t.pos+=s[0].length,!0}else if((s=t.src.slice(f).match(u))&&o(n,s[1]))return e||((l=t.push("text_special","",0)).content=n[s[1]],l.markup=s[0],l.info="entity"),t.pos+=s[0].length,!0;return!1}},2573:function(t,e,r){"use strict";for(var n=r(5534).isSpace,o=[],i=0;i<256;i++)o.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(t){o[t.charCodeAt(0)]=1})),t.exports=function(t,e){var r,i,a,c,u,s=t.pos,l=t.posMax;if(92!==t.src.charCodeAt(s))return!1;if(++s>=l)return!1;if(10===(r=t.src.charCodeAt(s))){for(e||t.push("hardbreak","br",0),s++;s<l&&(r=t.src.charCodeAt(s),n(r));)s++;return t.pos=s,!0}return c=t.src[s],r>=55296&&r<=56319&&s+1<l&&(i=t.src.charCodeAt(s+1))>=56320&&i<=57343&&(c+=t.src[s+1],s++),a="\\"+c,e||(u=t.push("text_special","",0),r<256&&0!==o[r]?u.content=c:u.content=a,u.markup=a,u.info="escape"),t.pos=s+1,!0}},5338:function(t){"use strict";t.exports=function(t){var e,r,n=0,o=t.tokens,i=t.tokens.length;for(e=r=0;e<i;e++)o[e].nesting<0&&n--,o[e].level=n,o[e].nesting>0&&n++,"text"===o[e].type&&e+1<i&&"text"===o[e+1].type?o[e+1].content=o[e].content+o[e+1].content:(e!==r&&(o[r]=o[e]),r++);e!==r&&(o.length=r)}},216:function(t,e,r){"use strict";var n=r(1122).n;t.exports=function(t,e){var r,o,i,a,c,u=t.pos;return!(!t.md.options.html||(i=t.posMax,60!==t.src.charCodeAt(u)||u+2>=i||33!==(r=t.src.charCodeAt(u+1))&&63!==r&&47!==r&&!function(t){var e=32|t;return e>=97&&e<=122}(r)||!(o=t.src.slice(u).match(n))||(e||((a=t.push("html_inline","",0)).content=o[0],c=a.content,/^<a[>\s]/i.test(c)&&t.linkLevel++,function(t){return/^<\/a\s*>/i.test(t)}(a.content)&&t.linkLevel--),t.pos+=o[0].length,0)))}},1045:function(t,e,r){"use strict";var n=r(5534).normalizeReference,o=r(5534).isSpace;t.exports=function(t,e){var r,i,a,c,u,s,l,f,p,h,y,d,v,b="",m=t.pos,g=t.posMax;if(33!==t.src.charCodeAt(t.pos))return!1;if(91!==t.src.charCodeAt(t.pos+1))return!1;if(s=t.pos+2,(u=t.md.helpers.parseLinkLabel(t,t.pos+1,!1))<0)return!1;if((l=u+1)<g&&40===t.src.charCodeAt(l)){for(l++;l<g&&(i=t.src.charCodeAt(l),o(i)||10===i);l++);if(l>=g)return!1;for(v=l,(p=t.md.helpers.parseLinkDestination(t.src,l,t.posMax)).ok&&(b=t.md.normalizeLink(p.str),t.md.validateLink(b)?l=p.pos:b=""),v=l;l<g&&(i=t.src.charCodeAt(l),o(i)||10===i);l++);if(p=t.md.helpers.parseLinkTitle(t.src,l,t.posMax),l<g&&v!==l&&p.ok)for(h=p.str,l=p.pos;l<g&&(i=t.src.charCodeAt(l),o(i)||10===i);l++);else h="";if(l>=g||41!==t.src.charCodeAt(l))return t.pos=m,!1;l++}else{if(void 0===t.env.references)return!1;if(l<g&&91===t.src.charCodeAt(l)?(v=l+1,(l=t.md.helpers.parseLinkLabel(t,l))>=0?c=t.src.slice(v,l++):l=u+1):l=u+1,c||(c=t.src.slice(s,u)),!(f=t.env.references[n(c)]))return t.pos=m,!1;b=f.href,h=f.title}return e||(a=t.src.slice(s,u),t.md.inline.parse(a,t.md,t.env,d=[]),(y=t.push("image","img",0)).attrs=r=[["src",b],["alt",""]],y.children=d,y.content=a,h&&r.push(["title",h])),t.pos=l,t.posMax=g,!0}},3602:function(t,e,r){"use strict";var n=r(5534).normalizeReference,o=r(5534).isSpace;t.exports=function(t,e){var r,i,a,c,u,s,l,f,p="",h="",y=t.pos,d=t.posMax,v=t.pos,b=!0;if(91!==t.src.charCodeAt(t.pos))return!1;if(u=t.pos+1,(c=t.md.helpers.parseLinkLabel(t,t.pos,!0))<0)return!1;if((s=c+1)<d&&40===t.src.charCodeAt(s)){for(b=!1,s++;s<d&&(i=t.src.charCodeAt(s),o(i)||10===i);s++);if(s>=d)return!1;if(v=s,(l=t.md.helpers.parseLinkDestination(t.src,s,t.posMax)).ok){for(p=t.md.normalizeLink(l.str),t.md.validateLink(p)?s=l.pos:p="",v=s;s<d&&(i=t.src.charCodeAt(s),o(i)||10===i);s++);if(l=t.md.helpers.parseLinkTitle(t.src,s,t.posMax),s<d&&v!==s&&l.ok)for(h=l.str,s=l.pos;s<d&&(i=t.src.charCodeAt(s),o(i)||10===i);s++);}(s>=d||41!==t.src.charCodeAt(s))&&(b=!0),s++}if(b){if(void 0===t.env.references)return!1;if(s<d&&91===t.src.charCodeAt(s)?(v=s+1,(s=t.md.helpers.parseLinkLabel(t,s))>=0?a=t.src.slice(v,s++):s=c+1):s=c+1,a||(a=t.src.slice(u,c)),!(f=t.env.references[n(a)]))return t.pos=y,!1;p=f.href,h=f.title}return e||(t.pos=u,t.posMax=c,t.push("link_open","a",1).attrs=r=[["href",p]],h&&r.push(["title",h]),t.linkLevel++,t.md.inline.tokenize(t),t.linkLevel--,t.push("link_close","a",-1)),t.pos=s,t.posMax=d,!0}},8512:function(t){"use strict";var e=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;t.exports=function(t,r){var n,o,i,a,c,u,s;return!(!t.md.options.linkify||t.linkLevel>0||(n=t.pos)+3>t.posMax||58!==t.src.charCodeAt(n)||47!==t.src.charCodeAt(n+1)||47!==t.src.charCodeAt(n+2)||!(o=t.pending.match(e))||(i=o[1],!(a=t.md.linkify.matchAtStart(t.src.slice(n-i.length)))||(c=a.url).length<=i.length||(c=c.replace(/\*+$/,""),u=t.md.normalizeLink(c),!t.md.validateLink(u)||(r||(t.pending=t.pending.slice(0,-i.length),(s=t.push("link_open","a",1)).attrs=[["href",u]],s.markup="linkify",s.info="auto",(s=t.push("text","",0)).content=t.md.normalizeLinkText(c),(s=t.push("link_close","a",-1)).markup="linkify",s.info="auto"),t.pos+=c.length-i.length,0))))}},2686:function(t,e,r){"use strict";var n=r(5534).isSpace;t.exports=function(t,e){var r,o,i,a=t.pos;if(10!==t.src.charCodeAt(a))return!1;if(r=t.pending.length-1,o=t.posMax,!e)if(r>=0&&32===t.pending.charCodeAt(r))if(r>=1&&32===t.pending.charCodeAt(r-1)){for(i=r-1;i>=1&&32===t.pending.charCodeAt(i-1);)i--;t.pending=t.pending.slice(0,i),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(a++;a<o&&n(t.src.charCodeAt(a));)a++;return t.pos=a,!0}},8845:function(t,e,r){"use strict";var n=r(925),o=r(5534).isWhiteSpace,i=r(5534).isPunctChar,a=r(5534).isMdAsciiPunct;function c(t,e,r,n){this.src=t,this.env=r,this.md=e,this.tokens=n,this.tokens_meta=Array(n.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}c.prototype.pushPending=function(){var t=new n("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t},c.prototype.push=function(t,e,r){this.pending&&this.pushPending();var o=new n(t,e,r),i=null;return r<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),o.level=this.level,r>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(o),this.tokens_meta.push(i),o},c.prototype.scanDelims=function(t,e){var r,n,c,u,s,l,f,p,h,y=t,d=!0,v=!0,b=this.posMax,m=this.src.charCodeAt(t);for(r=t>0?this.src.charCodeAt(t-1):32;y<b&&this.src.charCodeAt(y)===m;)y++;return c=y-t,n=y<b?this.src.charCodeAt(y):32,f=a(r)||i(String.fromCharCode(r)),h=a(n)||i(String.fromCharCode(n)),l=o(r),(p=o(n))?d=!1:h&&(l||f||(d=!1)),l?v=!1:f&&(p||h||(v=!1)),e?(u=d,s=v):(u=d&&(!v||f),s=v&&(!d||h)),{can_open:u,can_close:s,length:c}},c.prototype.Token=n,t.exports=c},8036:function(t){"use strict";function e(t,e){var r,n,o,i,a,c=[],u=e.length;for(r=0;r<u;r++)126===(o=e[r]).marker&&-1!==o.end&&(i=e[o.end],(a=t.tokens[o.token]).type="s_open",a.tag="s",a.nesting=1,a.markup="~~",a.content="",(a=t.tokens[i.token]).type="s_close",a.tag="s",a.nesting=-1,a.markup="~~",a.content="","text"===t.tokens[i.token-1].type&&"~"===t.tokens[i.token-1].content&&c.push(i.token-1));for(;c.length;){for(n=(r=c.pop())+1;n<t.tokens.length&&"s_close"===t.tokens[n].type;)n++;r!==--n&&(a=t.tokens[n],t.tokens[n]=t.tokens[r],t.tokens[r]=a)}}t.exports.w=function(t,e){var r,n,o,i,a=t.pos,c=t.src.charCodeAt(a);if(e)return!1;if(126!==c)return!1;if(o=(n=t.scanDelims(t.pos,!0)).length,i=String.fromCharCode(c),o<2)return!1;for(o%2&&(t.push("text","",0).content=i,o--),r=0;r<o;r+=2)t.push("text","",0).content=i+i,t.delimiters.push({marker:c,length:0,token:t.tokens.length-1,end:-1,open:n.can_open,close:n.can_close});return t.pos+=n.length,!0},t.exports.g=function(t){var r,n=t.tokens_meta,o=t.tokens_meta.length;for(e(t,t.delimiters),r=0;r<o;r++)n[r]&&n[r].delimiters&&e(t,n[r].delimiters)}},4030:function(t){"use strict";function e(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}t.exports=function(t,r){for(var n=t.pos;n<t.posMax&&!e(t.src.charCodeAt(n));)n++;return n!==t.pos&&(r||(t.pending+=t.src.slice(t.pos,n)),t.pos=n,!0)}},925:function(t){"use strict";function e(t,e,r){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=r,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}e.prototype.attrIndex=function(t){var e,r,n;if(!this.attrs)return-1;for(r=0,n=(e=this.attrs).length;r<n;r++)if(e[r][0]===t)return r;return-1},e.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]},e.prototype.attrSet=function(t,e){var r=this.attrIndex(t),n=[t,e];r<0?this.attrPush(n):this.attrs[r]=n},e.prototype.attrGet=function(t){var e=this.attrIndex(t),r=null;return e>=0&&(r=this.attrs[e][1]),r},e.prototype.attrJoin=function(t,e){var r=this.attrIndex(t);r<0?this.attrPush([t,e]):this.attrs[r][1]=this.attrs[r][1]+" "+e},t.exports=e},3558:function(t){"use strict";var e={};function r(t,n){var o;return"string"!=typeof n&&(n=r.defaultChars),o=function(t){var r,n,o=e[t];if(o)return o;for(o=e[t]=[],r=0;r<128;r++)n=String.fromCharCode(r),o.push(n);for(r=0;r<t.length;r++)o[n=t.charCodeAt(r)]="%"+("0"+n.toString(16).toUpperCase()).slice(-2);return o}(n),t.replace(/(%[a-f0-9]{2})+/gi,(function(t){var e,r,n,i,a,c,u,s="";for(e=0,r=t.length;e<r;e+=3)(n=parseInt(t.slice(e+1,e+3),16))<128?s+=o[n]:192==(224&n)&&e+3<r&&128==(192&(i=parseInt(t.slice(e+4,e+6),16)))?(s+=(u=n<<6&1984|63&i)<128?"��":String.fromCharCode(u),e+=3):224==(240&n)&&e+6<r&&(i=parseInt(t.slice(e+4,e+6),16),a=parseInt(t.slice(e+7,e+9),16),128==(192&i)&&128==(192&a))?(s+=(u=n<<12&61440|i<<6&4032|63&a)<2048||u>=55296&&u<=57343?"���":String.fromCharCode(u),e+=6):240==(248&n)&&e+9<r&&(i=parseInt(t.slice(e+4,e+6),16),a=parseInt(t.slice(e+7,e+9),16),c=parseInt(t.slice(e+10,e+12),16),128==(192&i)&&128==(192&a)&&128==(192&c))?((u=n<<18&1835008|i<<12&258048|a<<6&4032|63&c)<65536||u>1114111?s+="����":(u-=65536,s+=String.fromCharCode(55296+(u>>10),56320+(1023&u))),e+=9):s+="�";return s}))}r.defaultChars=";/?:@&=+$,#",r.componentChars="",t.exports=r},9238:function(t){"use strict";var e={};function r(t,n,o){var i,a,c,u,s,l="";for("string"!=typeof n&&(o=n,n=r.defaultChars),void 0===o&&(o=!0),s=function(t){var r,n,o=e[t];if(o)return o;for(o=e[t]=[],r=0;r<128;r++)n=String.fromCharCode(r),/^[0-9a-z]$/i.test(n)?o.push(n):o.push("%"+("0"+r.toString(16).toUpperCase()).slice(-2));for(r=0;r<t.length;r++)o[t.charCodeAt(r)]=t[r];return o}(n),i=0,a=t.length;i<a;i++)if(c=t.charCodeAt(i),o&&37===c&&i+2<a&&/^[0-9a-f]{2}$/i.test(t.slice(i+1,i+3)))l+=t.slice(i,i+3),i+=2;else if(c<128)l+=s[c];else if(c>=55296&&c<=57343){if(c>=55296&&c<=56319&&i+1<a&&(u=t.charCodeAt(i+1))>=56320&&u<=57343){l+=encodeURIComponent(t[i]+t[i+1]),i++;continue}l+="%EF%BF%BD"}else l+=encodeURIComponent(t[i]);return l}r.defaultChars=";/?:@&=+$,-_.!~*'()#",r.componentChars="-_.!~*'()",t.exports=r},7162:function(t){"use strict";t.exports=function(t){var e="";return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",t.hostname&&-1!==t.hostname.indexOf(":")?e+="["+t.hostname+"]":e+=t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",(e+=t.search||"")+(t.hash||"")}},9116:function(t,e,r){"use strict";t.exports.encode=r(9238),t.exports.decode=r(3558),t.exports.format=r(7162),t.exports.parse=r(3922)},3922:function(t){"use strict";function e(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var r=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,o=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,i=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),a=["'"].concat(i),c=["%","/","?",";","#"].concat(a),u=["/","?","#"],s=/^[+a-z0-9A-Z_-]{0,63}$/,l=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,f={javascript:!0,"javascript:":!0},p={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};e.prototype.parse=function(t,e){var n,i,a,h,y,d=t;if(d=d.trim(),!e&&1===t.split("#").length){var v=o.exec(d);if(v)return this.pathname=v[1],v[2]&&(this.search=v[2]),this}var b=r.exec(d);if(b&&(a=(b=b[0]).toLowerCase(),this.protocol=b,d=d.substr(b.length)),(e||b||d.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(y="//"===d.substr(0,2))||b&&f[b]||(d=d.substr(2),this.slashes=!0)),!f[b]&&(y||b&&!p[b])){var m,g,w=-1;for(n=0;n<u.length;n++)-1!==(h=d.indexOf(u[n]))&&(-1===w||h<w)&&(w=h);for(-1!==(g=-1===w?d.lastIndexOf("@"):d.lastIndexOf("@",w))&&(m=d.slice(0,g),d=d.slice(g+1),this.auth=m),w=-1,n=0;n<c.length;n++)-1!==(h=d.indexOf(c[n]))&&(-1===w||h<w)&&(w=h);-1===w&&(w=d.length),":"===d[w-1]&&w--;var _=d.slice(0,w);d=d.slice(w),this.parseHost(_),this.hostname=this.hostname||"";var O="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!O){var x=this.hostname.split(/\./);for(n=0,i=x.length;n<i;n++){var k=x[n];if(k&&!k.match(s)){for(var j="",E=0,S=k.length;E<S;E++)k.charCodeAt(E)>127?j+="x":j+=k[E];if(!j.match(s)){var P=x.slice(0,n),C=x.slice(n+1),A=k.match(l);A&&(P.push(A[1]),C.unshift(A[2])),C.length&&(d=C.join(".")+d),this.hostname=P.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),O&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var L=d.indexOf("#");-1!==L&&(this.hash=d.substr(L),d=d.slice(0,L));var T=d.indexOf("?");return-1!==T&&(this.search=d.substr(T),d=d.slice(0,T)),d&&(this.pathname=d),p[a]&&this.hostname&&!this.pathname&&(this.pathname=""),this},e.prototype.parseHost=function(t){var e=n.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)},t.exports=function(t,r){if(t&&t instanceof e)return t;var n=new e;return n.parse(t,r),n}},5095:function(t,e,r){"use strict";function n(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=o(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return c=t.done,t},e:function(t){u=!0,a=t},f:function(){try{c||null==r.return||r.return()}finally{if(u)throw a}}}}function o(t,e){if(t){if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}r.r(e),r.d(e,{decode:function(){return w},encode:function(){return _},toASCII:function(){return x},toUnicode:function(){return O},ucs2decode:function(){return v},ucs2encode:function(){return b}});var a=2147483647,c=36,u=/^xn--/,s=/[^\0-\x7E]/,l=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,h=String.fromCharCode;function y(t){throw new RangeError(f[t])}function d(t,e){var r=t.split("@"),n="";r.length>1&&(n=r[0]+"@",t=r[1]);var o=function(t,e){for(var r=[],n=t.length;n--;)r[n]=e(t[n]);return r}((t=t.replace(l,".")).split("."),e).join(".");return n+o}function v(t){for(var e=[],r=0,n=t.length;r<n;){var o=t.charCodeAt(r++);if(o>=55296&&o<=56319&&r<n){var i=t.charCodeAt(r++);56320==(64512&i)?e.push(((1023&o)<<10)+(1023&i)+65536):(e.push(o),r--)}else e.push(o)}return e}var b=function(t){return String.fromCodePoint.apply(String,function(t){if(Array.isArray(t))return i(t)}(e=t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var e},m=function(t,e){return t+22+75*(t<26)-((0!=e)<<5)},g=function(t,e,r){var n=0;for(t=r?p(t/700):t>>1,t+=p(t/e);t>455;n+=c)t=p(t/35);return p(n+36*t/(t+38))},w=function(t){var e,r=[],n=t.length,o=0,i=128,u=72,s=t.lastIndexOf("-");s<0&&(s=0);for(var l=0;l<s;++l)t.charCodeAt(l)>=128&&y("not-basic"),r.push(t.charCodeAt(l));for(var f=s>0?s+1:0;f<n;){for(var h=o,d=1,v=c;;v+=c){f>=n&&y("invalid-input");var b=(e=t.charCodeAt(f++))-48<10?e-22:e-65<26?e-65:e-97<26?e-97:c;(b>=c||b>p((a-o)/d))&&y("overflow"),o+=b*d;var m=v<=u?1:v>=u+26?26:v-u;if(b<m)break;var w=c-m;d>p(a/w)&&y("overflow"),d*=w}var _=r.length+1;u=g(o-h,_,0==h),p(o/_)>a-i&&y("overflow"),i+=p(o/_),o%=_,r.splice(o++,0,i)}return String.fromCodePoint.apply(String,r)},_=function(t){var e,r=[],o=(t=v(t)).length,i=128,u=0,s=72,l=n(t);try{for(l.s();!(e=l.n()).done;){var f=e.value;f<128&&r.push(h(f))}}catch(t){l.e(t)}finally{l.f()}var d=r.length,b=d;for(d&&r.push("-");b<o;){var w,_=a,O=n(t);try{for(O.s();!(w=O.n()).done;){var x=w.value;x>=i&&x<_&&(_=x)}}catch(t){O.e(t)}finally{O.f()}var k=b+1;_-i>p((a-u)/k)&&y("overflow"),u+=(_-i)*k,i=_;var j,E=n(t);try{for(E.s();!(j=E.n()).done;){var S=j.value;if(S<i&&++u>a&&y("overflow"),S==i){for(var P=u,C=c;;C+=c){var A=C<=s?1:C>=s+26?26:C-s;if(P<A)break;var L=P-A,T=c-A;r.push(h(m(A+L%T,0))),P=p(L/T)}r.push(h(m(P,0))),s=g(u,k,b==d),u=0,++b}}}catch(t){E.e(t)}finally{E.f()}++u,++i}return r.join("")},O=function(t){return d(t,(function(t){return u.test(t)?w(t.slice(4).toLowerCase()):t}))},x=function(t){return d(t,(function(t){return s.test(t)?"xn--"+_(t):t}))},k={version:"2.1.0",ucs2:{decode:v,encode:b},decode:w,encode:_,toASCII:x,toUnicode:O};e.default=k},7418:function(t){t.exports=/[\0-\x1F\x7F-\x9F]/},491:function(t){t.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},2936:function(t){t.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},761:function(t){t.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},8213:function(t,e,r){"use strict";e.Any=r(7787),e.Cc=r(7418),e.Cf=r(491),e.P=r(2936),e.Z=r(761)},7787:function(t){t.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},5316:function(t,e,r){var n=r(4872).default;function o(){"use strict";t.exports=o=function(){return e},t.exports.__esModule=!0,t.exports.default=t.exports;var e={},r=Object.prototype,i=r.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},c="function"==typeof Symbol?Symbol:{},u=c.iterator||"@@iterator",s=c.asyncIterator||"@@asyncIterator",l=c.toStringTag||"@@toStringTag";function f(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,r){return t[e]=r}}function p(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),c=new P(n||[]);return a(i,"_invoke",{value:k(t,r,c)}),i}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=p;var y={};function d(){}function v(){}function b(){}var m={};f(m,u,(function(){return this}));var g=Object.getPrototypeOf,w=g&&g(g(C([])));w&&w!==r&&i.call(w,u)&&(m=w);var _=b.prototype=d.prototype=Object.create(m);function O(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function r(o,a,c,u){var s=h(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==n(f)&&i.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,c,u)}),(function(t){r("throw",t,c,u)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return r("throw",t,c,u)}))}u(s.arg)}var o;a(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}})}function k(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=j(a,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=h(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function j(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,j(t,e),"throw"===e.method))return y;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var n=h(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,y;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,y):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,y)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function C(t){if(t){var e=t[u];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function e(){for(;++r<t.length;)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:A}}function A(){return{value:void 0,done:!0}}return v.prototype=b,a(_,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:v,configurable:!0}),v.displayName=f(b,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,f(t,l,"GeneratorFunction")),t.prototype=Object.create(_),t},e.awrap=function(t){return{__await:t}},O(x.prototype),f(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new x(p(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},O(_),f(_,l,"Generator"),f(_,u,(function(){return this})),f(_,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=i.call(o,"catchLoc"),u=i.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:C(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),y}},e}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},4872:function(t){function e(r){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},9093:function(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=r(5316)();t.exports=o;try{regeneratorRuntime=o}catch(t){"object"===("undefined"==typeof globalThis?"undefined":n(globalThis))?globalThis.regeneratorRuntime=o:Function("r","regeneratorRuntime = r")(o)}},9323:function(t){"use strict";t.exports=JSON.parse('{"Aacute":"Á","aacute":"á","Abreve":"Ă","abreve":"ă","ac":"∾","acd":"∿","acE":"∾̳","Acirc":"Â","acirc":"â","acute":"´","Acy":"А","acy":"а","AElig":"Æ","aelig":"æ","af":"⁡","Afr":"𝔄","afr":"𝔞","Agrave":"À","agrave":"à","alefsym":"ℵ","aleph":"ℵ","Alpha":"Α","alpha":"α","Amacr":"Ā","amacr":"ā","amalg":"⨿","amp":"&","AMP":"&","andand":"⩕","And":"⩓","and":"∧","andd":"⩜","andslope":"⩘","andv":"⩚","ang":"∠","ange":"⦤","angle":"∠","angmsdaa":"⦨","angmsdab":"⦩","angmsdac":"⦪","angmsdad":"⦫","angmsdae":"⦬","angmsdaf":"⦭","angmsdag":"⦮","angmsdah":"⦯","angmsd":"∡","angrt":"∟","angrtvb":"⊾","angrtvbd":"⦝","angsph":"∢","angst":"Å","angzarr":"⍼","Aogon":"Ą","aogon":"ą","Aopf":"𝔸","aopf":"𝕒","apacir":"⩯","ap":"≈","apE":"⩰","ape":"≊","apid":"≋","apos":"\'","ApplyFunction":"⁡","approx":"≈","approxeq":"≊","Aring":"Å","aring":"å","Ascr":"𝒜","ascr":"𝒶","Assign":"≔","ast":"*","asymp":"≈","asympeq":"≍","Atilde":"Ã","atilde":"ã","Auml":"Ä","auml":"ä","awconint":"∳","awint":"⨑","backcong":"≌","backepsilon":"϶","backprime":"‵","backsim":"∽","backsimeq":"⋍","Backslash":"∖","Barv":"⫧","barvee":"⊽","barwed":"⌅","Barwed":"⌆","barwedge":"⌅","bbrk":"⎵","bbrktbrk":"⎶","bcong":"≌","Bcy":"Б","bcy":"б","bdquo":"„","becaus":"∵","because":"∵","Because":"∵","bemptyv":"⦰","bepsi":"϶","bernou":"ℬ","Bernoullis":"ℬ","Beta":"Β","beta":"β","beth":"ℶ","between":"≬","Bfr":"𝔅","bfr":"𝔟","bigcap":"⋂","bigcirc":"◯","bigcup":"⋃","bigodot":"⨀","bigoplus":"⨁","bigotimes":"⨂","bigsqcup":"⨆","bigstar":"★","bigtriangledown":"▽","bigtriangleup":"△","biguplus":"⨄","bigvee":"⋁","bigwedge":"⋀","bkarow":"⤍","blacklozenge":"⧫","blacksquare":"▪","blacktriangle":"▴","blacktriangledown":"▾","blacktriangleleft":"◂","blacktriangleright":"▸","blank":"␣","blk12":"▒","blk14":"░","blk34":"▓","block":"█","bne":"=⃥","bnequiv":"≡⃥","bNot":"⫭","bnot":"⌐","Bopf":"𝔹","bopf":"𝕓","bot":"⊥","bottom":"⊥","bowtie":"⋈","boxbox":"⧉","boxdl":"┐","boxdL":"╕","boxDl":"╖","boxDL":"╗","boxdr":"┌","boxdR":"╒","boxDr":"╓","boxDR":"╔","boxh":"─","boxH":"═","boxhd":"┬","boxHd":"╤","boxhD":"╥","boxHD":"╦","boxhu":"┴","boxHu":"╧","boxhU":"╨","boxHU":"╩","boxminus":"⊟","boxplus":"⊞","boxtimes":"⊠","boxul":"┘","boxuL":"╛","boxUl":"╜","boxUL":"╝","boxur":"└","boxuR":"╘","boxUr":"╙","boxUR":"╚","boxv":"│","boxV":"║","boxvh":"┼","boxvH":"╪","boxVh":"╫","boxVH":"╬","boxvl":"┤","boxvL":"╡","boxVl":"╢","boxVL":"╣","boxvr":"├","boxvR":"╞","boxVr":"╟","boxVR":"╠","bprime":"‵","breve":"˘","Breve":"˘","brvbar":"¦","bscr":"𝒷","Bscr":"ℬ","bsemi":"⁏","bsim":"∽","bsime":"⋍","bsolb":"⧅","bsol":"\\\\","bsolhsub":"⟈","bull":"•","bullet":"•","bump":"≎","bumpE":"⪮","bumpe":"≏","Bumpeq":"≎","bumpeq":"≏","Cacute":"Ć","cacute":"ć","capand":"⩄","capbrcup":"⩉","capcap":"⩋","cap":"∩","Cap":"⋒","capcup":"⩇","capdot":"⩀","CapitalDifferentialD":"ⅅ","caps":"∩︀","caret":"⁁","caron":"ˇ","Cayleys":"ℭ","ccaps":"⩍","Ccaron":"Č","ccaron":"č","Ccedil":"Ç","ccedil":"ç","Ccirc":"Ĉ","ccirc":"ĉ","Cconint":"∰","ccups":"⩌","ccupssm":"⩐","Cdot":"Ċ","cdot":"ċ","cedil":"¸","Cedilla":"¸","cemptyv":"⦲","cent":"¢","centerdot":"·","CenterDot":"·","cfr":"𝔠","Cfr":"ℭ","CHcy":"Ч","chcy":"ч","check":"✓","checkmark":"✓","Chi":"Χ","chi":"χ","circ":"ˆ","circeq":"≗","circlearrowleft":"↺","circlearrowright":"↻","circledast":"⊛","circledcirc":"⊚","circleddash":"⊝","CircleDot":"⊙","circledR":"®","circledS":"Ⓢ","CircleMinus":"⊖","CirclePlus":"⊕","CircleTimes":"⊗","cir":"○","cirE":"⧃","cire":"≗","cirfnint":"⨐","cirmid":"⫯","cirscir":"⧂","ClockwiseContourIntegral":"∲","CloseCurlyDoubleQuote":"”","CloseCurlyQuote":"’","clubs":"♣","clubsuit":"♣","colon":":","Colon":"∷","Colone":"⩴","colone":"≔","coloneq":"≔","comma":",","commat":"@","comp":"∁","compfn":"∘","complement":"∁","complexes":"ℂ","cong":"≅","congdot":"⩭","Congruent":"≡","conint":"∮","Conint":"∯","ContourIntegral":"∮","copf":"𝕔","Copf":"ℂ","coprod":"∐","Coproduct":"∐","copy":"©","COPY":"©","copysr":"℗","CounterClockwiseContourIntegral":"∳","crarr":"↵","cross":"✗","Cross":"⨯","Cscr":"𝒞","cscr":"𝒸","csub":"⫏","csube":"⫑","csup":"⫐","csupe":"⫒","ctdot":"⋯","cudarrl":"⤸","cudarrr":"⤵","cuepr":"⋞","cuesc":"⋟","cularr":"↶","cularrp":"⤽","cupbrcap":"⩈","cupcap":"⩆","CupCap":"≍","cup":"∪","Cup":"⋓","cupcup":"⩊","cupdot":"⊍","cupor":"⩅","cups":"∪︀","curarr":"↷","curarrm":"⤼","curlyeqprec":"⋞","curlyeqsucc":"⋟","curlyvee":"⋎","curlywedge":"⋏","curren":"¤","curvearrowleft":"↶","curvearrowright":"↷","cuvee":"⋎","cuwed":"⋏","cwconint":"∲","cwint":"∱","cylcty":"⌭","dagger":"†","Dagger":"‡","daleth":"ℸ","darr":"↓","Darr":"↡","dArr":"⇓","dash":"‐","Dashv":"⫤","dashv":"⊣","dbkarow":"⤏","dblac":"˝","Dcaron":"Ď","dcaron":"ď","Dcy":"Д","dcy":"д","ddagger":"‡","ddarr":"⇊","DD":"ⅅ","dd":"ⅆ","DDotrahd":"⤑","ddotseq":"⩷","deg":"°","Del":"∇","Delta":"Δ","delta":"δ","demptyv":"⦱","dfisht":"⥿","Dfr":"𝔇","dfr":"𝔡","dHar":"⥥","dharl":"⇃","dharr":"⇂","DiacriticalAcute":"´","DiacriticalDot":"˙","DiacriticalDoubleAcute":"˝","DiacriticalGrave":"`","DiacriticalTilde":"˜","diam":"⋄","diamond":"⋄","Diamond":"⋄","diamondsuit":"♦","diams":"♦","die":"¨","DifferentialD":"ⅆ","digamma":"ϝ","disin":"⋲","div":"÷","divide":"÷","divideontimes":"⋇","divonx":"⋇","DJcy":"Ђ","djcy":"ђ","dlcorn":"⌞","dlcrop":"⌍","dollar":"$","Dopf":"𝔻","dopf":"𝕕","Dot":"¨","dot":"˙","DotDot":"⃜","doteq":"≐","doteqdot":"≑","DotEqual":"≐","dotminus":"∸","dotplus":"∔","dotsquare":"⊡","doublebarwedge":"⌆","DoubleContourIntegral":"∯","DoubleDot":"¨","DoubleDownArrow":"⇓","DoubleLeftArrow":"⇐","DoubleLeftRightArrow":"⇔","DoubleLeftTee":"⫤","DoubleLongLeftArrow":"⟸","DoubleLongLeftRightArrow":"⟺","DoubleLongRightArrow":"⟹","DoubleRightArrow":"⇒","DoubleRightTee":"⊨","DoubleUpArrow":"⇑","DoubleUpDownArrow":"⇕","DoubleVerticalBar":"∥","DownArrowBar":"⤓","downarrow":"↓","DownArrow":"↓","Downarrow":"⇓","DownArrowUpArrow":"⇵","DownBreve":"̑","downdownarrows":"⇊","downharpoonleft":"⇃","downharpoonright":"⇂","DownLeftRightVector":"⥐","DownLeftTeeVector":"⥞","DownLeftVectorBar":"⥖","DownLeftVector":"↽","DownRightTeeVector":"⥟","DownRightVectorBar":"⥗","DownRightVector":"⇁","DownTeeArrow":"↧","DownTee":"⊤","drbkarow":"⤐","drcorn":"⌟","drcrop":"⌌","Dscr":"𝒟","dscr":"𝒹","DScy":"Ѕ","dscy":"ѕ","dsol":"⧶","Dstrok":"Đ","dstrok":"đ","dtdot":"⋱","dtri":"▿","dtrif":"▾","duarr":"⇵","duhar":"⥯","dwangle":"⦦","DZcy":"Џ","dzcy":"џ","dzigrarr":"⟿","Eacute":"É","eacute":"é","easter":"⩮","Ecaron":"Ě","ecaron":"ě","Ecirc":"Ê","ecirc":"ê","ecir":"≖","ecolon":"≕","Ecy":"Э","ecy":"э","eDDot":"⩷","Edot":"Ė","edot":"ė","eDot":"≑","ee":"ⅇ","efDot":"≒","Efr":"𝔈","efr":"𝔢","eg":"⪚","Egrave":"È","egrave":"è","egs":"⪖","egsdot":"⪘","el":"⪙","Element":"∈","elinters":"⏧","ell":"ℓ","els":"⪕","elsdot":"⪗","Emacr":"Ē","emacr":"ē","empty":"∅","emptyset":"∅","EmptySmallSquare":"◻","emptyv":"∅","EmptyVerySmallSquare":"▫","emsp13":" ","emsp14":" ","emsp":" ","ENG":"Ŋ","eng":"ŋ","ensp":" ","Eogon":"Ę","eogon":"ę","Eopf":"𝔼","eopf":"𝕖","epar":"⋕","eparsl":"⧣","eplus":"⩱","epsi":"ε","Epsilon":"Ε","epsilon":"ε","epsiv":"ϵ","eqcirc":"≖","eqcolon":"≕","eqsim":"≂","eqslantgtr":"⪖","eqslantless":"⪕","Equal":"⩵","equals":"=","EqualTilde":"≂","equest":"≟","Equilibrium":"⇌","equiv":"≡","equivDD":"⩸","eqvparsl":"⧥","erarr":"⥱","erDot":"≓","escr":"ℯ","Escr":"ℰ","esdot":"≐","Esim":"⩳","esim":"≂","Eta":"Η","eta":"η","ETH":"Ð","eth":"ð","Euml":"Ë","euml":"ë","euro":"€","excl":"!","exist":"∃","Exists":"∃","expectation":"ℰ","exponentiale":"ⅇ","ExponentialE":"ⅇ","fallingdotseq":"≒","Fcy":"Ф","fcy":"ф","female":"♀","ffilig":"ﬃ","fflig":"ﬀ","ffllig":"ﬄ","Ffr":"𝔉","ffr":"𝔣","filig":"ﬁ","FilledSmallSquare":"◼","FilledVerySmallSquare":"▪","fjlig":"fj","flat":"♭","fllig":"ﬂ","fltns":"▱","fnof":"ƒ","Fopf":"𝔽","fopf":"𝕗","forall":"∀","ForAll":"∀","fork":"⋔","forkv":"⫙","Fouriertrf":"ℱ","fpartint":"⨍","frac12":"½","frac13":"⅓","frac14":"¼","frac15":"⅕","frac16":"⅙","frac18":"⅛","frac23":"⅔","frac25":"⅖","frac34":"¾","frac35":"⅗","frac38":"⅜","frac45":"⅘","frac56":"⅚","frac58":"⅝","frac78":"⅞","frasl":"⁄","frown":"⌢","fscr":"𝒻","Fscr":"ℱ","gacute":"ǵ","Gamma":"Γ","gamma":"γ","Gammad":"Ϝ","gammad":"ϝ","gap":"⪆","Gbreve":"Ğ","gbreve":"ğ","Gcedil":"Ģ","Gcirc":"Ĝ","gcirc":"ĝ","Gcy":"Г","gcy":"г","Gdot":"Ġ","gdot":"ġ","ge":"≥","gE":"≧","gEl":"⪌","gel":"⋛","geq":"≥","geqq":"≧","geqslant":"⩾","gescc":"⪩","ges":"⩾","gesdot":"⪀","gesdoto":"⪂","gesdotol":"⪄","gesl":"⋛︀","gesles":"⪔","Gfr":"𝔊","gfr":"𝔤","gg":"≫","Gg":"⋙","ggg":"⋙","gimel":"ℷ","GJcy":"Ѓ","gjcy":"ѓ","gla":"⪥","gl":"≷","glE":"⪒","glj":"⪤","gnap":"⪊","gnapprox":"⪊","gne":"⪈","gnE":"≩","gneq":"⪈","gneqq":"≩","gnsim":"⋧","Gopf":"𝔾","gopf":"𝕘","grave":"`","GreaterEqual":"≥","GreaterEqualLess":"⋛","GreaterFullEqual":"≧","GreaterGreater":"⪢","GreaterLess":"≷","GreaterSlantEqual":"⩾","GreaterTilde":"≳","Gscr":"𝒢","gscr":"ℊ","gsim":"≳","gsime":"⪎","gsiml":"⪐","gtcc":"⪧","gtcir":"⩺","gt":">","GT":">","Gt":"≫","gtdot":"⋗","gtlPar":"⦕","gtquest":"⩼","gtrapprox":"⪆","gtrarr":"⥸","gtrdot":"⋗","gtreqless":"⋛","gtreqqless":"⪌","gtrless":"≷","gtrsim":"≳","gvertneqq":"≩︀","gvnE":"≩︀","Hacek":"ˇ","hairsp":" ","half":"½","hamilt":"ℋ","HARDcy":"Ъ","hardcy":"ъ","harrcir":"⥈","harr":"↔","hArr":"⇔","harrw":"↭","Hat":"^","hbar":"ℏ","Hcirc":"Ĥ","hcirc":"ĥ","hearts":"♥","heartsuit":"♥","hellip":"…","hercon":"⊹","hfr":"𝔥","Hfr":"ℌ","HilbertSpace":"ℋ","hksearow":"⤥","hkswarow":"⤦","hoarr":"⇿","homtht":"∻","hookleftarrow":"↩","hookrightarrow":"↪","hopf":"𝕙","Hopf":"ℍ","horbar":"―","HorizontalLine":"─","hscr":"𝒽","Hscr":"ℋ","hslash":"ℏ","Hstrok":"Ħ","hstrok":"ħ","HumpDownHump":"≎","HumpEqual":"≏","hybull":"⁃","hyphen":"‐","Iacute":"Í","iacute":"í","ic":"⁣","Icirc":"Î","icirc":"î","Icy":"И","icy":"и","Idot":"İ","IEcy":"Е","iecy":"е","iexcl":"¡","iff":"⇔","ifr":"𝔦","Ifr":"ℑ","Igrave":"Ì","igrave":"ì","ii":"ⅈ","iiiint":"⨌","iiint":"∭","iinfin":"⧜","iiota":"℩","IJlig":"Ĳ","ijlig":"ĳ","Imacr":"Ī","imacr":"ī","image":"ℑ","ImaginaryI":"ⅈ","imagline":"ℐ","imagpart":"ℑ","imath":"ı","Im":"ℑ","imof":"⊷","imped":"Ƶ","Implies":"⇒","incare":"℅","in":"∈","infin":"∞","infintie":"⧝","inodot":"ı","intcal":"⊺","int":"∫","Int":"∬","integers":"ℤ","Integral":"∫","intercal":"⊺","Intersection":"⋂","intlarhk":"⨗","intprod":"⨼","InvisibleComma":"⁣","InvisibleTimes":"⁢","IOcy":"Ё","iocy":"ё","Iogon":"Į","iogon":"į","Iopf":"𝕀","iopf":"𝕚","Iota":"Ι","iota":"ι","iprod":"⨼","iquest":"¿","iscr":"𝒾","Iscr":"ℐ","isin":"∈","isindot":"⋵","isinE":"⋹","isins":"⋴","isinsv":"⋳","isinv":"∈","it":"⁢","Itilde":"Ĩ","itilde":"ĩ","Iukcy":"І","iukcy":"і","Iuml":"Ï","iuml":"ï","Jcirc":"Ĵ","jcirc":"ĵ","Jcy":"Й","jcy":"й","Jfr":"𝔍","jfr":"𝔧","jmath":"ȷ","Jopf":"𝕁","jopf":"𝕛","Jscr":"𝒥","jscr":"𝒿","Jsercy":"Ј","jsercy":"ј","Jukcy":"Є","jukcy":"є","Kappa":"Κ","kappa":"κ","kappav":"ϰ","Kcedil":"Ķ","kcedil":"ķ","Kcy":"К","kcy":"к","Kfr":"𝔎","kfr":"𝔨","kgreen":"ĸ","KHcy":"Х","khcy":"х","KJcy":"Ќ","kjcy":"ќ","Kopf":"𝕂","kopf":"𝕜","Kscr":"𝒦","kscr":"𝓀","lAarr":"⇚","Lacute":"Ĺ","lacute":"ĺ","laemptyv":"⦴","lagran":"ℒ","Lambda":"Λ","lambda":"λ","lang":"⟨","Lang":"⟪","langd":"⦑","langle":"⟨","lap":"⪅","Laplacetrf":"ℒ","laquo":"«","larrb":"⇤","larrbfs":"⤟","larr":"←","Larr":"↞","lArr":"⇐","larrfs":"⤝","larrhk":"↩","larrlp":"↫","larrpl":"⤹","larrsim":"⥳","larrtl":"↢","latail":"⤙","lAtail":"⤛","lat":"⪫","late":"⪭","lates":"⪭︀","lbarr":"⤌","lBarr":"⤎","lbbrk":"❲","lbrace":"{","lbrack":"[","lbrke":"⦋","lbrksld":"⦏","lbrkslu":"⦍","Lcaron":"Ľ","lcaron":"ľ","Lcedil":"Ļ","lcedil":"ļ","lceil":"⌈","lcub":"{","Lcy":"Л","lcy":"л","ldca":"⤶","ldquo":"“","ldquor":"„","ldrdhar":"⥧","ldrushar":"⥋","ldsh":"↲","le":"≤","lE":"≦","LeftAngleBracket":"⟨","LeftArrowBar":"⇤","leftarrow":"←","LeftArrow":"←","Leftarrow":"⇐","LeftArrowRightArrow":"⇆","leftarrowtail":"↢","LeftCeiling":"⌈","LeftDoubleBracket":"⟦","LeftDownTeeVector":"⥡","LeftDownVectorBar":"⥙","LeftDownVector":"⇃","LeftFloor":"⌊","leftharpoondown":"↽","leftharpoonup":"↼","leftleftarrows":"⇇","leftrightarrow":"↔","LeftRightArrow":"↔","Leftrightarrow":"⇔","leftrightarrows":"⇆","leftrightharpoons":"⇋","leftrightsquigarrow":"↭","LeftRightVector":"⥎","LeftTeeArrow":"↤","LeftTee":"⊣","LeftTeeVector":"⥚","leftthreetimes":"⋋","LeftTriangleBar":"⧏","LeftTriangle":"⊲","LeftTriangleEqual":"⊴","LeftUpDownVector":"⥑","LeftUpTeeVector":"⥠","LeftUpVectorBar":"⥘","LeftUpVector":"↿","LeftVectorBar":"⥒","LeftVector":"↼","lEg":"⪋","leg":"⋚","leq":"≤","leqq":"≦","leqslant":"⩽","lescc":"⪨","les":"⩽","lesdot":"⩿","lesdoto":"⪁","lesdotor":"⪃","lesg":"⋚︀","lesges":"⪓","lessapprox":"⪅","lessdot":"⋖","lesseqgtr":"⋚","lesseqqgtr":"⪋","LessEqualGreater":"⋚","LessFullEqual":"≦","LessGreater":"≶","lessgtr":"≶","LessLess":"⪡","lesssim":"≲","LessSlantEqual":"⩽","LessTilde":"≲","lfisht":"⥼","lfloor":"⌊","Lfr":"𝔏","lfr":"𝔩","lg":"≶","lgE":"⪑","lHar":"⥢","lhard":"↽","lharu":"↼","lharul":"⥪","lhblk":"▄","LJcy":"Љ","ljcy":"љ","llarr":"⇇","ll":"≪","Ll":"⋘","llcorner":"⌞","Lleftarrow":"⇚","llhard":"⥫","lltri":"◺","Lmidot":"Ŀ","lmidot":"ŀ","lmoustache":"⎰","lmoust":"⎰","lnap":"⪉","lnapprox":"⪉","lne":"⪇","lnE":"≨","lneq":"⪇","lneqq":"≨","lnsim":"⋦","loang":"⟬","loarr":"⇽","lobrk":"⟦","longleftarrow":"⟵","LongLeftArrow":"⟵","Longleftarrow":"⟸","longleftrightarrow":"⟷","LongLeftRightArrow":"⟷","Longleftrightarrow":"⟺","longmapsto":"⟼","longrightarrow":"⟶","LongRightArrow":"⟶","Longrightarrow":"⟹","looparrowleft":"↫","looparrowright":"↬","lopar":"⦅","Lopf":"𝕃","lopf":"𝕝","loplus":"⨭","lotimes":"⨴","lowast":"∗","lowbar":"_","LowerLeftArrow":"↙","LowerRightArrow":"↘","loz":"◊","lozenge":"◊","lozf":"⧫","lpar":"(","lparlt":"⦓","lrarr":"⇆","lrcorner":"⌟","lrhar":"⇋","lrhard":"⥭","lrm":"‎","lrtri":"⊿","lsaquo":"‹","lscr":"𝓁","Lscr":"ℒ","lsh":"↰","Lsh":"↰","lsim":"≲","lsime":"⪍","lsimg":"⪏","lsqb":"[","lsquo":"‘","lsquor":"‚","Lstrok":"Ł","lstrok":"ł","ltcc":"⪦","ltcir":"⩹","lt":"<","LT":"<","Lt":"≪","ltdot":"⋖","lthree":"⋋","ltimes":"⋉","ltlarr":"⥶","ltquest":"⩻","ltri":"◃","ltrie":"⊴","ltrif":"◂","ltrPar":"⦖","lurdshar":"⥊","luruhar":"⥦","lvertneqq":"≨︀","lvnE":"≨︀","macr":"¯","male":"♂","malt":"✠","maltese":"✠","Map":"⤅","map":"↦","mapsto":"↦","mapstodown":"↧","mapstoleft":"↤","mapstoup":"↥","marker":"▮","mcomma":"⨩","Mcy":"М","mcy":"м","mdash":"—","mDDot":"∺","measuredangle":"∡","MediumSpace":" ","Mellintrf":"ℳ","Mfr":"𝔐","mfr":"𝔪","mho":"℧","micro":"µ","midast":"*","midcir":"⫰","mid":"∣","middot":"·","minusb":"⊟","minus":"−","minusd":"∸","minusdu":"⨪","MinusPlus":"∓","mlcp":"⫛","mldr":"…","mnplus":"∓","models":"⊧","Mopf":"𝕄","mopf":"𝕞","mp":"∓","mscr":"𝓂","Mscr":"ℳ","mstpos":"∾","Mu":"Μ","mu":"μ","multimap":"⊸","mumap":"⊸","nabla":"∇","Nacute":"Ń","nacute":"ń","nang":"∠⃒","nap":"≉","napE":"⩰̸","napid":"≋̸","napos":"ŉ","napprox":"≉","natural":"♮","naturals":"ℕ","natur":"♮","nbsp":" ","nbump":"≎̸","nbumpe":"≏̸","ncap":"⩃","Ncaron":"Ň","ncaron":"ň","Ncedil":"Ņ","ncedil":"ņ","ncong":"≇","ncongdot":"⩭̸","ncup":"⩂","Ncy":"Н","ncy":"н","ndash":"–","nearhk":"⤤","nearr":"↗","neArr":"⇗","nearrow":"↗","ne":"≠","nedot":"≐̸","NegativeMediumSpace":"​","NegativeThickSpace":"​","NegativeThinSpace":"​","NegativeVeryThinSpace":"​","nequiv":"≢","nesear":"⤨","nesim":"≂̸","NestedGreaterGreater":"≫","NestedLessLess":"≪","NewLine":"\\n","nexist":"∄","nexists":"∄","Nfr":"𝔑","nfr":"𝔫","ngE":"≧̸","nge":"≱","ngeq":"≱","ngeqq":"≧̸","ngeqslant":"⩾̸","nges":"⩾̸","nGg":"⋙̸","ngsim":"≵","nGt":"≫⃒","ngt":"≯","ngtr":"≯","nGtv":"≫̸","nharr":"↮","nhArr":"⇎","nhpar":"⫲","ni":"∋","nis":"⋼","nisd":"⋺","niv":"∋","NJcy":"Њ","njcy":"њ","nlarr":"↚","nlArr":"⇍","nldr":"‥","nlE":"≦̸","nle":"≰","nleftarrow":"↚","nLeftarrow":"⇍","nleftrightarrow":"↮","nLeftrightarrow":"⇎","nleq":"≰","nleqq":"≦̸","nleqslant":"⩽̸","nles":"⩽̸","nless":"≮","nLl":"⋘̸","nlsim":"≴","nLt":"≪⃒","nlt":"≮","nltri":"⋪","nltrie":"⋬","nLtv":"≪̸","nmid":"∤","NoBreak":"⁠","NonBreakingSpace":" ","nopf":"𝕟","Nopf":"ℕ","Not":"⫬","not":"¬","NotCongruent":"≢","NotCupCap":"≭","NotDoubleVerticalBar":"∦","NotElement":"∉","NotEqual":"≠","NotEqualTilde":"≂̸","NotExists":"∄","NotGreater":"≯","NotGreaterEqual":"≱","NotGreaterFullEqual":"≧̸","NotGreaterGreater":"≫̸","NotGreaterLess":"≹","NotGreaterSlantEqual":"⩾̸","NotGreaterTilde":"≵","NotHumpDownHump":"≎̸","NotHumpEqual":"≏̸","notin":"∉","notindot":"⋵̸","notinE":"⋹̸","notinva":"∉","notinvb":"⋷","notinvc":"⋶","NotLeftTriangleBar":"⧏̸","NotLeftTriangle":"⋪","NotLeftTriangleEqual":"⋬","NotLess":"≮","NotLessEqual":"≰","NotLessGreater":"≸","NotLessLess":"≪̸","NotLessSlantEqual":"⩽̸","NotLessTilde":"≴","NotNestedGreaterGreater":"⪢̸","NotNestedLessLess":"⪡̸","notni":"∌","notniva":"∌","notnivb":"⋾","notnivc":"⋽","NotPrecedes":"⊀","NotPrecedesEqual":"⪯̸","NotPrecedesSlantEqual":"⋠","NotReverseElement":"∌","NotRightTriangleBar":"⧐̸","NotRightTriangle":"⋫","NotRightTriangleEqual":"⋭","NotSquareSubset":"⊏̸","NotSquareSubsetEqual":"⋢","NotSquareSuperset":"⊐̸","NotSquareSupersetEqual":"⋣","NotSubset":"⊂⃒","NotSubsetEqual":"⊈","NotSucceeds":"⊁","NotSucceedsEqual":"⪰̸","NotSucceedsSlantEqual":"⋡","NotSucceedsTilde":"≿̸","NotSuperset":"⊃⃒","NotSupersetEqual":"⊉","NotTilde":"≁","NotTildeEqual":"≄","NotTildeFullEqual":"≇","NotTildeTilde":"≉","NotVerticalBar":"∤","nparallel":"∦","npar":"∦","nparsl":"⫽⃥","npart":"∂̸","npolint":"⨔","npr":"⊀","nprcue":"⋠","nprec":"⊀","npreceq":"⪯̸","npre":"⪯̸","nrarrc":"⤳̸","nrarr":"↛","nrArr":"⇏","nrarrw":"↝̸","nrightarrow":"↛","nRightarrow":"⇏","nrtri":"⋫","nrtrie":"⋭","nsc":"⊁","nsccue":"⋡","nsce":"⪰̸","Nscr":"𝒩","nscr":"𝓃","nshortmid":"∤","nshortparallel":"∦","nsim":"≁","nsime":"≄","nsimeq":"≄","nsmid":"∤","nspar":"∦","nsqsube":"⋢","nsqsupe":"⋣","nsub":"⊄","nsubE":"⫅̸","nsube":"⊈","nsubset":"⊂⃒","nsubseteq":"⊈","nsubseteqq":"⫅̸","nsucc":"⊁","nsucceq":"⪰̸","nsup":"⊅","nsupE":"⫆̸","nsupe":"⊉","nsupset":"⊃⃒","nsupseteq":"⊉","nsupseteqq":"⫆̸","ntgl":"≹","Ntilde":"Ñ","ntilde":"ñ","ntlg":"≸","ntriangleleft":"⋪","ntrianglelefteq":"⋬","ntriangleright":"⋫","ntrianglerighteq":"⋭","Nu":"Ν","nu":"ν","num":"#","numero":"№","numsp":" ","nvap":"≍⃒","nvdash":"⊬","nvDash":"⊭","nVdash":"⊮","nVDash":"⊯","nvge":"≥⃒","nvgt":">⃒","nvHarr":"⤄","nvinfin":"⧞","nvlArr":"⤂","nvle":"≤⃒","nvlt":"<⃒","nvltrie":"⊴⃒","nvrArr":"⤃","nvrtrie":"⊵⃒","nvsim":"∼⃒","nwarhk":"⤣","nwarr":"↖","nwArr":"⇖","nwarrow":"↖","nwnear":"⤧","Oacute":"Ó","oacute":"ó","oast":"⊛","Ocirc":"Ô","ocirc":"ô","ocir":"⊚","Ocy":"О","ocy":"о","odash":"⊝","Odblac":"Ő","odblac":"ő","odiv":"⨸","odot":"⊙","odsold":"⦼","OElig":"Œ","oelig":"œ","ofcir":"⦿","Ofr":"𝔒","ofr":"𝔬","ogon":"˛","Ograve":"Ò","ograve":"ò","ogt":"⧁","ohbar":"⦵","ohm":"Ω","oint":"∮","olarr":"↺","olcir":"⦾","olcross":"⦻","oline":"‾","olt":"⧀","Omacr":"Ō","omacr":"ō","Omega":"Ω","omega":"ω","Omicron":"Ο","omicron":"ο","omid":"⦶","ominus":"⊖","Oopf":"𝕆","oopf":"𝕠","opar":"⦷","OpenCurlyDoubleQuote":"“","OpenCurlyQuote":"‘","operp":"⦹","oplus":"⊕","orarr":"↻","Or":"⩔","or":"∨","ord":"⩝","order":"ℴ","orderof":"ℴ","ordf":"ª","ordm":"º","origof":"⊶","oror":"⩖","orslope":"⩗","orv":"⩛","oS":"Ⓢ","Oscr":"𝒪","oscr":"ℴ","Oslash":"Ø","oslash":"ø","osol":"⊘","Otilde":"Õ","otilde":"õ","otimesas":"⨶","Otimes":"⨷","otimes":"⊗","Ouml":"Ö","ouml":"ö","ovbar":"⌽","OverBar":"‾","OverBrace":"⏞","OverBracket":"⎴","OverParenthesis":"⏜","para":"¶","parallel":"∥","par":"∥","parsim":"⫳","parsl":"⫽","part":"∂","PartialD":"∂","Pcy":"П","pcy":"п","percnt":"%","period":".","permil":"‰","perp":"⊥","pertenk":"‱","Pfr":"𝔓","pfr":"𝔭","Phi":"Φ","phi":"φ","phiv":"ϕ","phmmat":"ℳ","phone":"☎","Pi":"Π","pi":"π","pitchfork":"⋔","piv":"ϖ","planck":"ℏ","planckh":"ℎ","plankv":"ℏ","plusacir":"⨣","plusb":"⊞","pluscir":"⨢","plus":"+","plusdo":"∔","plusdu":"⨥","pluse":"⩲","PlusMinus":"±","plusmn":"±","plussim":"⨦","plustwo":"⨧","pm":"±","Poincareplane":"ℌ","pointint":"⨕","popf":"𝕡","Popf":"ℙ","pound":"£","prap":"⪷","Pr":"⪻","pr":"≺","prcue":"≼","precapprox":"⪷","prec":"≺","preccurlyeq":"≼","Precedes":"≺","PrecedesEqual":"⪯","PrecedesSlantEqual":"≼","PrecedesTilde":"≾","preceq":"⪯","precnapprox":"⪹","precneqq":"⪵","precnsim":"⋨","pre":"⪯","prE":"⪳","precsim":"≾","prime":"′","Prime":"″","primes":"ℙ","prnap":"⪹","prnE":"⪵","prnsim":"⋨","prod":"∏","Product":"∏","profalar":"⌮","profline":"⌒","profsurf":"⌓","prop":"∝","Proportional":"∝","Proportion":"∷","propto":"∝","prsim":"≾","prurel":"⊰","Pscr":"𝒫","pscr":"𝓅","Psi":"Ψ","psi":"ψ","puncsp":" ","Qfr":"𝔔","qfr":"𝔮","qint":"⨌","qopf":"𝕢","Qopf":"ℚ","qprime":"⁗","Qscr":"𝒬","qscr":"𝓆","quaternions":"ℍ","quatint":"⨖","quest":"?","questeq":"≟","quot":"\\"","QUOT":"\\"","rAarr":"⇛","race":"∽̱","Racute":"Ŕ","racute":"ŕ","radic":"√","raemptyv":"⦳","rang":"⟩","Rang":"⟫","rangd":"⦒","range":"⦥","rangle":"⟩","raquo":"»","rarrap":"⥵","rarrb":"⇥","rarrbfs":"⤠","rarrc":"⤳","rarr":"→","Rarr":"↠","rArr":"⇒","rarrfs":"⤞","rarrhk":"↪","rarrlp":"↬","rarrpl":"⥅","rarrsim":"⥴","Rarrtl":"⤖","rarrtl":"↣","rarrw":"↝","ratail":"⤚","rAtail":"⤜","ratio":"∶","rationals":"ℚ","rbarr":"⤍","rBarr":"⤏","RBarr":"⤐","rbbrk":"❳","rbrace":"}","rbrack":"]","rbrke":"⦌","rbrksld":"⦎","rbrkslu":"⦐","Rcaron":"Ř","rcaron":"ř","Rcedil":"Ŗ","rcedil":"ŗ","rceil":"⌉","rcub":"}","Rcy":"Р","rcy":"р","rdca":"⤷","rdldhar":"⥩","rdquo":"”","rdquor":"”","rdsh":"↳","real":"ℜ","realine":"ℛ","realpart":"ℜ","reals":"ℝ","Re":"ℜ","rect":"▭","reg":"®","REG":"®","ReverseElement":"∋","ReverseEquilibrium":"⇋","ReverseUpEquilibrium":"⥯","rfisht":"⥽","rfloor":"⌋","rfr":"𝔯","Rfr":"ℜ","rHar":"⥤","rhard":"⇁","rharu":"⇀","rharul":"⥬","Rho":"Ρ","rho":"ρ","rhov":"ϱ","RightAngleBracket":"⟩","RightArrowBar":"⇥","rightarrow":"→","RightArrow":"→","Rightarrow":"⇒","RightArrowLeftArrow":"⇄","rightarrowtail":"↣","RightCeiling":"⌉","RightDoubleBracket":"⟧","RightDownTeeVector":"⥝","RightDownVectorBar":"⥕","RightDownVector":"⇂","RightFloor":"⌋","rightharpoondown":"⇁","rightharpoonup":"⇀","rightleftarrows":"⇄","rightleftharpoons":"⇌","rightrightarrows":"⇉","rightsquigarrow":"↝","RightTeeArrow":"↦","RightTee":"⊢","RightTeeVector":"⥛","rightthreetimes":"⋌","RightTriangleBar":"⧐","RightTriangle":"⊳","RightTriangleEqual":"⊵","RightUpDownVector":"⥏","RightUpTeeVector":"⥜","RightUpVectorBar":"⥔","RightUpVector":"↾","RightVectorBar":"⥓","RightVector":"⇀","ring":"˚","risingdotseq":"≓","rlarr":"⇄","rlhar":"⇌","rlm":"‏","rmoustache":"⎱","rmoust":"⎱","rnmid":"⫮","roang":"⟭","roarr":"⇾","robrk":"⟧","ropar":"⦆","ropf":"𝕣","Ropf":"ℝ","roplus":"⨮","rotimes":"⨵","RoundImplies":"⥰","rpar":")","rpargt":"⦔","rppolint":"⨒","rrarr":"⇉","Rrightarrow":"⇛","rsaquo":"›","rscr":"𝓇","Rscr":"ℛ","rsh":"↱","Rsh":"↱","rsqb":"]","rsquo":"’","rsquor":"’","rthree":"⋌","rtimes":"⋊","rtri":"▹","rtrie":"⊵","rtrif":"▸","rtriltri":"⧎","RuleDelayed":"⧴","ruluhar":"⥨","rx":"℞","Sacute":"Ś","sacute":"ś","sbquo":"‚","scap":"⪸","Scaron":"Š","scaron":"š","Sc":"⪼","sc":"≻","sccue":"≽","sce":"⪰","scE":"⪴","Scedil":"Ş","scedil":"ş","Scirc":"Ŝ","scirc":"ŝ","scnap":"⪺","scnE":"⪶","scnsim":"⋩","scpolint":"⨓","scsim":"≿","Scy":"С","scy":"с","sdotb":"⊡","sdot":"⋅","sdote":"⩦","searhk":"⤥","searr":"↘","seArr":"⇘","searrow":"↘","sect":"§","semi":";","seswar":"⤩","setminus":"∖","setmn":"∖","sext":"✶","Sfr":"𝔖","sfr":"𝔰","sfrown":"⌢","sharp":"♯","SHCHcy":"Щ","shchcy":"щ","SHcy":"Ш","shcy":"ш","ShortDownArrow":"↓","ShortLeftArrow":"←","shortmid":"∣","shortparallel":"∥","ShortRightArrow":"→","ShortUpArrow":"↑","shy":"­","Sigma":"Σ","sigma":"σ","sigmaf":"ς","sigmav":"ς","sim":"∼","simdot":"⩪","sime":"≃","simeq":"≃","simg":"⪞","simgE":"⪠","siml":"⪝","simlE":"⪟","simne":"≆","simplus":"⨤","simrarr":"⥲","slarr":"←","SmallCircle":"∘","smallsetminus":"∖","smashp":"⨳","smeparsl":"⧤","smid":"∣","smile":"⌣","smt":"⪪","smte":"⪬","smtes":"⪬︀","SOFTcy":"Ь","softcy":"ь","solbar":"⌿","solb":"⧄","sol":"/","Sopf":"𝕊","sopf":"𝕤","spades":"♠","spadesuit":"♠","spar":"∥","sqcap":"⊓","sqcaps":"⊓︀","sqcup":"⊔","sqcups":"⊔︀","Sqrt":"√","sqsub":"⊏","sqsube":"⊑","sqsubset":"⊏","sqsubseteq":"⊑","sqsup":"⊐","sqsupe":"⊒","sqsupset":"⊐","sqsupseteq":"⊒","square":"□","Square":"□","SquareIntersection":"⊓","SquareSubset":"⊏","SquareSubsetEqual":"⊑","SquareSuperset":"⊐","SquareSupersetEqual":"⊒","SquareUnion":"⊔","squarf":"▪","squ":"□","squf":"▪","srarr":"→","Sscr":"𝒮","sscr":"𝓈","ssetmn":"∖","ssmile":"⌣","sstarf":"⋆","Star":"⋆","star":"☆","starf":"★","straightepsilon":"ϵ","straightphi":"ϕ","strns":"¯","sub":"⊂","Sub":"⋐","subdot":"⪽","subE":"⫅","sube":"⊆","subedot":"⫃","submult":"⫁","subnE":"⫋","subne":"⊊","subplus":"⪿","subrarr":"⥹","subset":"⊂","Subset":"⋐","subseteq":"⊆","subseteqq":"⫅","SubsetEqual":"⊆","subsetneq":"⊊","subsetneqq":"⫋","subsim":"⫇","subsub":"⫕","subsup":"⫓","succapprox":"⪸","succ":"≻","succcurlyeq":"≽","Succeeds":"≻","SucceedsEqual":"⪰","SucceedsSlantEqual":"≽","SucceedsTilde":"≿","succeq":"⪰","succnapprox":"⪺","succneqq":"⪶","succnsim":"⋩","succsim":"≿","SuchThat":"∋","sum":"∑","Sum":"∑","sung":"♪","sup1":"¹","sup2":"²","sup3":"³","sup":"⊃","Sup":"⋑","supdot":"⪾","supdsub":"⫘","supE":"⫆","supe":"⊇","supedot":"⫄","Superset":"⊃","SupersetEqual":"⊇","suphsol":"⟉","suphsub":"⫗","suplarr":"⥻","supmult":"⫂","supnE":"⫌","supne":"⊋","supplus":"⫀","supset":"⊃","Supset":"⋑","supseteq":"⊇","supseteqq":"⫆","supsetneq":"⊋","supsetneqq":"⫌","supsim":"⫈","supsub":"⫔","supsup":"⫖","swarhk":"⤦","swarr":"↙","swArr":"⇙","swarrow":"↙","swnwar":"⤪","szlig":"ß","Tab":"\\t","target":"⌖","Tau":"Τ","tau":"τ","tbrk":"⎴","Tcaron":"Ť","tcaron":"ť","Tcedil":"Ţ","tcedil":"ţ","Tcy":"Т","tcy":"т","tdot":"⃛","telrec":"⌕","Tfr":"𝔗","tfr":"𝔱","there4":"∴","therefore":"∴","Therefore":"∴","Theta":"Θ","theta":"θ","thetasym":"ϑ","thetav":"ϑ","thickapprox":"≈","thicksim":"∼","ThickSpace":"  ","ThinSpace":" ","thinsp":" ","thkap":"≈","thksim":"∼","THORN":"Þ","thorn":"þ","tilde":"˜","Tilde":"∼","TildeEqual":"≃","TildeFullEqual":"≅","TildeTilde":"≈","timesbar":"⨱","timesb":"⊠","times":"×","timesd":"⨰","tint":"∭","toea":"⤨","topbot":"⌶","topcir":"⫱","top":"⊤","Topf":"𝕋","topf":"𝕥","topfork":"⫚","tosa":"⤩","tprime":"‴","trade":"™","TRADE":"™","triangle":"▵","triangledown":"▿","triangleleft":"◃","trianglelefteq":"⊴","triangleq":"≜","triangleright":"▹","trianglerighteq":"⊵","tridot":"◬","trie":"≜","triminus":"⨺","TripleDot":"⃛","triplus":"⨹","trisb":"⧍","tritime":"⨻","trpezium":"⏢","Tscr":"𝒯","tscr":"𝓉","TScy":"Ц","tscy":"ц","TSHcy":"Ћ","tshcy":"ћ","Tstrok":"Ŧ","tstrok":"ŧ","twixt":"≬","twoheadleftarrow":"↞","twoheadrightarrow":"↠","Uacute":"Ú","uacute":"ú","uarr":"↑","Uarr":"↟","uArr":"⇑","Uarrocir":"⥉","Ubrcy":"Ў","ubrcy":"ў","Ubreve":"Ŭ","ubreve":"ŭ","Ucirc":"Û","ucirc":"û","Ucy":"У","ucy":"у","udarr":"⇅","Udblac":"Ű","udblac":"ű","udhar":"⥮","ufisht":"⥾","Ufr":"𝔘","ufr":"𝔲","Ugrave":"Ù","ugrave":"ù","uHar":"⥣","uharl":"↿","uharr":"↾","uhblk":"▀","ulcorn":"⌜","ulcorner":"⌜","ulcrop":"⌏","ultri":"◸","Umacr":"Ū","umacr":"ū","uml":"¨","UnderBar":"_","UnderBrace":"⏟","UnderBracket":"⎵","UnderParenthesis":"⏝","Union":"⋃","UnionPlus":"⊎","Uogon":"Ų","uogon":"ų","Uopf":"𝕌","uopf":"𝕦","UpArrowBar":"⤒","uparrow":"↑","UpArrow":"↑","Uparrow":"⇑","UpArrowDownArrow":"⇅","updownarrow":"↕","UpDownArrow":"↕","Updownarrow":"⇕","UpEquilibrium":"⥮","upharpoonleft":"↿","upharpoonright":"↾","uplus":"⊎","UpperLeftArrow":"↖","UpperRightArrow":"↗","upsi":"υ","Upsi":"ϒ","upsih":"ϒ","Upsilon":"Υ","upsilon":"υ","UpTeeArrow":"↥","UpTee":"⊥","upuparrows":"⇈","urcorn":"⌝","urcorner":"⌝","urcrop":"⌎","Uring":"Ů","uring":"ů","urtri":"◹","Uscr":"𝒰","uscr":"𝓊","utdot":"⋰","Utilde":"Ũ","utilde":"ũ","utri":"▵","utrif":"▴","uuarr":"⇈","Uuml":"Ü","uuml":"ü","uwangle":"⦧","vangrt":"⦜","varepsilon":"ϵ","varkappa":"ϰ","varnothing":"∅","varphi":"ϕ","varpi":"ϖ","varpropto":"∝","varr":"↕","vArr":"⇕","varrho":"ϱ","varsigma":"ς","varsubsetneq":"⊊︀","varsubsetneqq":"⫋︀","varsupsetneq":"⊋︀","varsupsetneqq":"⫌︀","vartheta":"ϑ","vartriangleleft":"⊲","vartriangleright":"⊳","vBar":"⫨","Vbar":"⫫","vBarv":"⫩","Vcy":"В","vcy":"в","vdash":"⊢","vDash":"⊨","Vdash":"⊩","VDash":"⊫","Vdashl":"⫦","veebar":"⊻","vee":"∨","Vee":"⋁","veeeq":"≚","vellip":"⋮","verbar":"|","Verbar":"‖","vert":"|","Vert":"‖","VerticalBar":"∣","VerticalLine":"|","VerticalSeparator":"❘","VerticalTilde":"≀","VeryThinSpace":" ","Vfr":"𝔙","vfr":"𝔳","vltri":"⊲","vnsub":"⊂⃒","vnsup":"⊃⃒","Vopf":"𝕍","vopf":"𝕧","vprop":"∝","vrtri":"⊳","Vscr":"𝒱","vscr":"𝓋","vsubnE":"⫋︀","vsubne":"⊊︀","vsupnE":"⫌︀","vsupne":"⊋︀","Vvdash":"⊪","vzigzag":"⦚","Wcirc":"Ŵ","wcirc":"ŵ","wedbar":"⩟","wedge":"∧","Wedge":"⋀","wedgeq":"≙","weierp":"℘","Wfr":"𝔚","wfr":"𝔴","Wopf":"𝕎","wopf":"𝕨","wp":"℘","wr":"≀","wreath":"≀","Wscr":"𝒲","wscr":"𝓌","xcap":"⋂","xcirc":"◯","xcup":"⋃","xdtri":"▽","Xfr":"𝔛","xfr":"𝔵","xharr":"⟷","xhArr":"⟺","Xi":"Ξ","xi":"ξ","xlarr":"⟵","xlArr":"⟸","xmap":"⟼","xnis":"⋻","xodot":"⨀","Xopf":"𝕏","xopf":"𝕩","xoplus":"⨁","xotime":"⨂","xrarr":"⟶","xrArr":"⟹","Xscr":"𝒳","xscr":"𝓍","xsqcup":"⨆","xuplus":"⨄","xutri":"△","xvee":"⋁","xwedge":"⋀","Yacute":"Ý","yacute":"ý","YAcy":"Я","yacy":"я","Ycirc":"Ŷ","ycirc":"ŷ","Ycy":"Ы","ycy":"ы","yen":"¥","Yfr":"𝔜","yfr":"𝔶","YIcy":"Ї","yicy":"ї","Yopf":"𝕐","yopf":"𝕪","Yscr":"𝒴","yscr":"𝓎","YUcy":"Ю","yucy":"ю","yuml":"ÿ","Yuml":"Ÿ","Zacute":"Ź","zacute":"ź","Zcaron":"Ž","zcaron":"ž","Zcy":"З","zcy":"з","Zdot":"Ż","zdot":"ż","zeetrf":"ℨ","ZeroWidthSpace":"​","Zeta":"Ζ","zeta":"ζ","zfr":"𝔷","Zfr":"ℨ","ZHcy":"Ж","zhcy":"ж","zigrarr":"⇝","zopf":"𝕫","Zopf":"ℤ","Zscr":"𝒵","zscr":"𝓏","zwj":"‍","zwnj":"‌"}')}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,{a:e}),e},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t},function(){"use strict";var t=r(4655),e=r.n(t);function n(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function o(t){return function(){var e=this,r=arguments;return new Promise((function(o,i){var a=t.apply(e,r);function c(t){n(a,o,i,c,u,"next",t)}function u(t){n(a,o,i,c,u,"throw",t)}c(void 0)}))}}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){var r=function(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}(t,e);return function(t,e){return e.get?e.get.call(t):e.value}(t,r)}var c,u,s,l=r(9093),f=r.n(l),p=JSON.parse('{"id":"acode.plugin.generate_code"}');function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function y(t){return function(t){if(Array.isArray(t))return g(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||m(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(){d=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof g?e:g,a=Object.create(i.prototype),c=new T(n||[]);return o(a,"_invoke",{value:P(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var p="suspendedStart",y="suspendedYield",v="executing",b="completed",m={};function g(){}function w(){}function _(){}var O={};s(O,a,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(R([])));k&&k!==r&&n.call(k,a)&&(O=k);var j=_.prototype=g.prototype=Object.create(O);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==h(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function P(e,r,n){var o=p;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===b){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=C(c,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=b,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?b:y,s.arg===m)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=b,n.method="throw",n.arg=s.arg)}}}function C(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,C(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function R(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(h(e)+" is not iterable")}return w.prototype=_,o(j,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:w,configurable:!0}),w.displayName=s(_,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,s(t,u,"GeneratorFunction")),t.prototype=Object.create(j),t},e.awrap=function(t){return{__await:t}},E(S.prototype),s(S.prototype,c,(function(){return this})),e.AsyncIterator=S,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new S(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(j),s(j,u,"Generator"),s(j,a,(function(){return this})),s(j,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=R,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:R(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function v(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,s=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,e)||m(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=m(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function m(t,e){if(t){if("string"==typeof t)return g(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(t,e):void 0}}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function w(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function _(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){w(i,n,o,a,c,"next",t)}function c(t){w(i,n,o,a,c,"throw",t)}a(void 0)}))}}function O(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==h(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===h(o)?o:String(o)),n)}var o}function x(t,e,r){return e&&O(t.prototype,e),r&&O(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A(t,e)}function E(t){var e=C();return function(){var r,n=L(t);if(e){var o=L(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function S(t){var e="function"==typeof Map?new Map:void 0;return S=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return P(t,arguments,L(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),A(r,t)},S(t)}function P(t,e,r){return P=C()?Reflect.construct.bind():function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&A(o,r.prototype),o},P.apply(null,arguments)}function C(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function A(t,e){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},A(t,e)}function L(t){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},L(t)}!function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"}(c||(c={})),function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"}(u||(u={})),function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"}(s||(s={}));var T,R,D,I,N,F,q,M,B=["user","model","function","system"];!function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"}(T||(T={})),function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"}(R||(R={})),function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"}(D||(D={})),function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"}(I||(I={})),function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER"}(N||(N={})),function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"}(F||(F={})),function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"}(q||(q={})),function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"}(M||(M={}));var G,z=function(t){j(r,t);var e=E(r);function r(t){return k(this,r),e.call(this,"[GoogleGenerativeAI Error]: ".concat(t))}return x(r)}(S(Error)),U=function(t){j(r,t);var e=E(r);function r(t,n){var o;return k(this,r),(o=e.call(this,t)).response=n,o}return x(r)}(z),H=function(t){j(r,t);var e=E(r);function r(t,n,o,i){var a;return k(this,r),(a=e.call(this,t)).status=n,a.statusText=o,a.errorDetails=i,a}return x(r)}(z),V=function(t){j(r,t);var e=E(r);function r(){return k(this,r),e.apply(this,arguments)}return x(r)}(z),$="0.21.0",K="genai-js";!function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"}(G||(G={}));var W=function(){function t(e,r,n,o,i){k(this,t),this.model=e,this.task=r,this.apiKey=n,this.stream=o,this.requestOptions=i}return x(t,[{key:"toString",value:function(){var t,e,r=(null===(t=this.requestOptions)||void 0===t?void 0:t.apiVersion)||"v1beta",n=(null===(e=this.requestOptions)||void 0===e?void 0:e.baseUrl)||"https://generativelanguage.googleapis.com",o="".concat(n,"/").concat(r,"/").concat(this.model,":").concat(this.task);return this.stream&&(o+="?alt=sse"),o}}]),t}();function Y(t){return J.apply(this,arguments)}function J(){return J=_(d().mark((function t(e){var r,n,o,i,a,c,u,s;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n=new Headers).append("Content-Type","application/json"),n.append("x-goog-api-client",(f=void 0,f=[],(null==(l=e.requestOptions)?void 0:l.apiClient)&&f.push(l.apiClient),f.push("".concat(K,"/").concat($)),f.join(" "))),n.append("x-goog-api-key",e.apiKey),!(o=null===(r=e.requestOptions)||void 0===r?void 0:r.customHeaders)){t.next=36;break}if(o instanceof Headers){t.next=14;break}t.prev=7,o=new Headers(o),t.next=14;break;case 11:throw t.prev=11,t.t0=t.catch(7),new V("unable to convert customHeaders value ".concat(JSON.stringify(o)," to Headers: ").concat(t.t0.message));case 14:i=b(o.entries()),t.prev=15,i.s();case 17:if((a=i.n()).done){t.next=28;break}if(c=v(a.value,2),u=c[0],s=c[1],"x-goog-api-key"!==u){t.next=23;break}throw new V("Cannot set reserved header name ".concat(u));case 23:if("x-goog-api-client"!==u){t.next=25;break}throw new V("Header name ".concat(u," can only be set using the apiClient field"));case 25:n.append(u,s);case 26:t.next=17;break;case 28:t.next=33;break;case 30:t.prev=30,t.t1=t.catch(15),i.e(t.t1);case 33:return t.prev=33,i.f(),t.finish(33);case 36:return t.abrupt("return",n);case 37:case"end":return t.stop()}var l,f}),t,null,[[7,11],[15,30,33,36]])}))),J.apply(this,arguments)}function Z(t,e,r,n,o,i){return X.apply(this,arguments)}function X(){return(X=_(d().mark((function t(e,r,n,o,i,a){var c;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=new W(e,r,n,o,a),t.t0=c.toString(),t.t1=Object,t.t2=Object.assign({},at(a)),t.next=6,Y(c);case 6:return t.t3=t.sent,t.t4=i,t.t5={method:"POST",headers:t.t3,body:t.t4},t.t6=t.t1.assign.call(t.t1,t.t2,t.t5),t.abrupt("return",{url:t.t0,fetchOptions:t.t6});case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Q(t,e,r,n,o){return tt.apply(this,arguments)}function tt(){return tt=_(d().mark((function t(e,r,n,o,i){var a,c,u,s,l,f=arguments;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=f.length>5&&void 0!==f[5]?f[5]:{},c=f.length>6&&void 0!==f[6]?f[6]:fetch,t.next=4,Z(e,r,n,o,i,a);case 4:return u=t.sent,s=u.url,l=u.fetchOptions,t.abrupt("return",et(s,l,c));case 8:case"end":return t.stop()}}),t)}))),tt.apply(this,arguments)}function et(t,e){return rt.apply(this,arguments)}function rt(){return rt=_(d().mark((function t(e,r){var n,o,i=arguments;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>2&&void 0!==i[2]?i[2]:fetch,t.prev=1,t.next=4,n(e,r);case 4:o=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),nt(t.t0,e);case 10:if(o.ok){t.next=13;break}return t.next=13,ot(o,e);case 13:return t.abrupt("return",o);case 14:case"end":return t.stop()}}),t,null,[[1,7]])}))),rt.apply(this,arguments)}function nt(t,e){var r=t;throw t instanceof H||t instanceof V||((r=new z("Error fetching from ".concat(e.toString(),": ").concat(t.message))).stack=t.stack),r}function ot(t,e){return it.apply(this,arguments)}function it(){return(it=_(d().mark((function t(e,r){var n,o,i;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="",t.prev=1,t.next=4,e.json();case 4:i=t.sent,n=i.error.message,i.error.details&&(n+=" ".concat(JSON.stringify(i.error.details)),o=i.error.details),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(1);case 11:throw new H("Error fetching from ".concat(r.toString(),": [").concat(e.status," ").concat(e.statusText,"] ").concat(n),e.status,e.statusText,o);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))).apply(this,arguments)}function at(t){var e={};if(void 0!==(null==t?void 0:t.signal)||(null==t?void 0:t.timeout)>=0){var r=new AbortController;(null==t?void 0:t.timeout)>=0&&setTimeout((function(){return r.abort()}),t.timeout),(null==t?void 0:t.signal)&&t.signal.addEventListener("abort",(function(){r.abort()})),e.signal=r.signal}return e}function ct(t){return t.text=function(){if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn("This response had ".concat(t.candidates.length," ")+"candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates."),lt(t.candidates[0]))throw new U("".concat(ft(t)),t);return function(t){var e,r,n,o,i=[];if(null===(r=null===(e=t.candidates)||void 0===e?void 0:e[0].content)||void 0===r?void 0:r.parts){var a,c=b(null===(o=null===(n=t.candidates)||void 0===n?void 0:n[0].content)||void 0===o?void 0:o.parts);try{for(c.s();!(a=c.n()).done;){var u=a.value;u.text&&i.push(u.text),u.executableCode&&i.push("\n```"+u.executableCode.language+"\n"+u.executableCode.code+"\n```\n"),u.codeExecutionResult&&i.push("\n```\n"+u.codeExecutionResult.output+"\n```\n")}}catch(t){c.e(t)}finally{c.f()}}return i.length>0?i.join(""):""}(t)}if(t.promptFeedback)throw new U("Text not available. ".concat(ft(t)),t);return""},t.functionCall=function(){if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn("This response had ".concat(t.candidates.length," ")+"candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates."),lt(t.candidates[0]))throw new U("".concat(ft(t)),t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),ut(t)[0]}if(t.promptFeedback)throw new U("Function call not available. ".concat(ft(t)),t)},t.functionCalls=function(){if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn("This response had ".concat(t.candidates.length," ")+"candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates."),lt(t.candidates[0]))throw new U("".concat(ft(t)),t);return ut(t)}if(t.promptFeedback)throw new U("Function call not available. ".concat(ft(t)),t)},t}function ut(t){var e,r,n,o,i=[];if(null===(r=null===(e=t.candidates)||void 0===e?void 0:e[0].content)||void 0===r?void 0:r.parts){var a,c=b(null===(o=null===(n=t.candidates)||void 0===n?void 0:n[0].content)||void 0===o?void 0:o.parts);try{for(c.s();!(a=c.n()).done;){var u=a.value;u.functionCall&&i.push(u.functionCall)}}catch(t){c.e(t)}finally{c.f()}}return i.length>0?i:void 0}var st=[N.RECITATION,N.SAFETY,N.LANGUAGE];function lt(t){return!!t.finishReason&&st.includes(t.finishReason)}function ft(t){var e,r,n,o="";if(t.candidates&&0!==t.candidates.length||!t.promptFeedback){if(null===(n=t.candidates)||void 0===n?void 0:n[0]){var i=t.candidates[0];lt(i)&&(o+="Candidate was blocked due to ".concat(i.finishReason),i.finishMessage&&(o+=": ".concat(i.finishMessage)))}}else o+="Response was blocked",(null===(e=t.promptFeedback)||void 0===e?void 0:e.blockReason)&&(o+=" due to ".concat(t.promptFeedback.blockReason)),(null===(r=t.promptFeedback)||void 0===r?void 0:r.blockReasonMessage)&&(o+=": ".concat(t.promptFeedback.blockReasonMessage));return o}function pt(t){return this instanceof pt?(this.v=t,this):new pt(t)}"function"==typeof SuppressedError&&SuppressedError;var ht=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function yt(t){var e,r,n=v((e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),r=e.getReader(),new ReadableStream({start:function(t){var e="";return function n(){return r.read().then((function(r){var o=r.value;if(r.done)return e.trim()?void t.error(new z("Failed to parse stream")):void t.close();for(var i,a=(e+=o).match(ht);a;){try{i=JSON.parse(a[1])}catch(e){return void t.error(new z('Error parsing JSON response: "'.concat(a[1],'"')))}t.enqueue(i),a=(e=e.substring(a[0].length)).match(ht)}return n()}))}()}})).tee(),2),o=n[0],i=n[1];return{stream:bt(o),response:dt(i)}}function dt(t){return vt.apply(this,arguments)}function vt(){return(vt=_(d().mark((function t(e){var r,n,o,i,a;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=[],n=e.getReader();case 2:return t.next=5,n.read();case 5:if(o=t.sent,i=o.done,a=o.value,!i){t.next=10;break}return t.abrupt("return",ct(mt(r)));case 10:r.push(a),t.next=2;break;case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function bt(t){return function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(t,e||[]),i=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(t){o[t]&&(n[t]=function(e){return new Promise((function(r,n){i.push([t,e,r,n])>1||c(t,e)}))})}function c(t,e){try{(r=o[t](e)).value instanceof pt?Promise.resolve(r.value.v).then(u,s):l(i[0][2],r)}catch(t){l(i[0][3],t)}var r}function u(t){c("next",t)}function s(t){c("throw",t)}function l(t,e){t(e),i.shift(),i.length&&c(i[0][0],i[0][1])}}(this,arguments,d().mark((function e(){var r,n,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.getReader();case 1:return e.next=4,pt(r.read());case 4:if(n=e.sent,o=n.value,!n.done){e.next=9;break}return e.abrupt("break",15);case 9:return e.next=11,pt(ct(o));case 11:return e.next=13,e.sent;case 13:e.next=1;break;case 15:case"end":return e.stop()}}),e)})))}function mt(t){var e,r=t[t.length-1],n={promptFeedback:null==r?void 0:r.promptFeedback},o=b(t);try{for(o.s();!(e=o.n()).done;){var i=e.value;if(i.candidates){var a,c=b(i.candidates);try{for(c.s();!(a=c.n()).done;){var u=a.value,s=u.index;if(n.candidates||(n.candidates=[]),n.candidates[s]||(n.candidates[s]={index:u.index}),n.candidates[s].citationMetadata=u.citationMetadata,n.candidates[s].groundingMetadata=u.groundingMetadata,n.candidates[s].finishReason=u.finishReason,n.candidates[s].finishMessage=u.finishMessage,n.candidates[s].safetyRatings=u.safetyRatings,u.content&&u.content.parts){n.candidates[s].content||(n.candidates[s].content={role:u.content.role||"user",parts:[]});var l,f={},p=b(u.content.parts);try{for(p.s();!(l=p.n()).done;){var h=l.value;h.text&&(f.text=h.text),h.functionCall&&(f.functionCall=h.functionCall),h.executableCode&&(f.executableCode=h.executableCode),h.codeExecutionResult&&(f.codeExecutionResult=h.codeExecutionResult),0===Object.keys(f).length&&(f.text=""),n.candidates[s].content.parts.push(f)}}catch(t){p.e(t)}finally{p.f()}}}}catch(t){c.e(t)}finally{c.f()}}i.usageMetadata&&(n.usageMetadata=i.usageMetadata)}}catch(t){o.e(t)}finally{o.f()}return n}function gt(t,e,r,n){return wt.apply(this,arguments)}function wt(){return(wt=_(d().mark((function t(e,r,n,o){var i;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q(r,G.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(n),o);case 2:return i=t.sent,t.abrupt("return",yt(i));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _t(t,e,r,n){return Ot.apply(this,arguments)}function Ot(){return(Ot=_(d().mark((function t(e,r,n,o){var i,a,c;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q(r,G.GENERATE_CONTENT,e,!1,JSON.stringify(n),o);case 2:return i=t.sent,t.next=5,i.json();case 5:return a=t.sent,c=ct(a),t.abrupt("return",{response:c});case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function xt(t){if(null!=t)return"string"==typeof t?{role:"system",parts:[{text:t}]}:t.text?{role:"system",parts:[t]}:t.parts?t.role?t:{role:"system",parts:t.parts}:void 0}function kt(t){var e=[];if("string"==typeof t)e=[{text:t}];else{var r,n=b(t);try{for(n.s();!(r=n.n()).done;){var o=r.value;"string"==typeof o?e.push({text:o}):e.push(o)}}catch(t){n.e(t)}finally{n.f()}}return function(t){var e,r={role:"user",parts:[]},n={role:"function",parts:[]},o=!1,i=!1,a=b(t);try{for(a.s();!(e=a.n()).done;){var c=e.value;"functionResponse"in c?(n.parts.push(c),i=!0):(r.parts.push(c),o=!0)}}catch(t){a.e(t)}finally{a.f()}if(o&&i)throw new z("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!o&&!i)throw new z("No content is provided for sending chat message.");return o?r:n}(e)}function jt(t,e){var r,n={model:null==e?void 0:e.model,generationConfig:null==e?void 0:e.generationConfig,safetySettings:null==e?void 0:e.safetySettings,tools:null==e?void 0:e.tools,toolConfig:null==e?void 0:e.toolConfig,systemInstruction:null==e?void 0:e.systemInstruction,cachedContent:null===(r=null==e?void 0:e.cachedContent)||void 0===r?void 0:r.name,contents:[]},o=null!=t.generateContentRequest;if(t.contents){if(o)throw new V("CountTokensRequest must have one of contents or generateContentRequest, not both.");n.contents=t.contents}else if(o)n=Object.assign(Object.assign({},n),t.generateContentRequest);else{var i=kt(t);n.contents=[i]}return{generateContentRequest:n}}function Et(t){var e;return e=t.contents?t:{contents:[kt(t)]},t.systemInstruction&&(e.systemInstruction=xt(t.systemInstruction)),e}var St=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],Pt={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]},Ct="SILENT_ERROR",At=function(){function t(e,r,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};k(this,t),this.model=r,this.params=n,this._requestOptions=o,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,(null==n?void 0:n.history)&&(function(t){var e,r=!1,n=b(t);try{for(n.s();!(e=n.n()).done;){var o=e.value,i=o.role,a=o.parts;if(!r&&"user"!==i)throw new z("First content should be with role 'user', got ".concat(i));if(!B.includes(i))throw new z("Each item should include role field. Got ".concat(i," but valid roles are: ").concat(JSON.stringify(B)));if(!Array.isArray(a))throw new z("Content should have 'parts' property with an array of Parts");if(0===a.length)throw new z("Each Content should have at least one part");var c,u={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0},s=b(a);try{for(s.s();!(c=s.n()).done;)for(var l=c.value,f=0,p=St;f<p.length;f++){var h=p[f];h in l&&(u[h]+=1)}}catch(t){s.e(t)}finally{s.f()}for(var y=Pt[i],d=0,v=St;d<v.length;d++){var m=v[d];if(!y.includes(m)&&u[m]>0)throw new z("Content with role '".concat(i,"' can't contain '").concat(m,"' part"))}r=!0}}catch(t){n.e(t)}finally{n.f()}}(n.history),this._history=n.history)}var e,r,n;return x(t,[{key:"getHistory",value:(n=_(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._sendPromise;case 2:return t.abrupt("return",this._history);case 3:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"sendMessage",value:(r=_(d().mark((function t(e){var r,n,o,i,a,c,u,s,l,f,p,h=this,v=arguments;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=v.length>1&&void 0!==v[1]?v[1]:{},t.next=3,this._sendPromise;case 3:return s=kt(e),l={safetySettings:null===(n=this.params)||void 0===n?void 0:n.safetySettings,generationConfig:null===(o=this.params)||void 0===o?void 0:o.generationConfig,tools:null===(i=this.params)||void 0===i?void 0:i.tools,toolConfig:null===(a=this.params)||void 0===a?void 0:a.toolConfig,systemInstruction:null===(c=this.params)||void 0===c?void 0:c.systemInstruction,cachedContent:null===(u=this.params)||void 0===u?void 0:u.cachedContent,contents:[].concat(y(this._history),[s])},f=Object.assign(Object.assign({},this._requestOptions),r),this._sendPromise=this._sendPromise.then((function(){return _t(h._apiKey,h.model,l,f)})).then((function(t){var e;if(t.response.candidates&&t.response.candidates.length>0){h._history.push(s);var r=Object.assign({parts:[],role:"model"},null===(e=t.response.candidates)||void 0===e?void 0:e[0].content);h._history.push(r)}else{var n=ft(t.response);n&&console.warn("sendMessage() was unsuccessful. ".concat(n,". Inspect response object for details."))}p=t})),t.next=9,this._sendPromise;case 9:return t.abrupt("return",p);case 10:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"sendMessageStream",value:(e=_(d().mark((function t(e){var r,n,o,i,a,c,u,s,l,f,p,h=this,v=arguments;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=v.length>1&&void 0!==v[1]?v[1]:{},t.next=3,this._sendPromise;case 3:return s=kt(e),l={safetySettings:null===(n=this.params)||void 0===n?void 0:n.safetySettings,generationConfig:null===(o=this.params)||void 0===o?void 0:o.generationConfig,tools:null===(i=this.params)||void 0===i?void 0:i.tools,toolConfig:null===(a=this.params)||void 0===a?void 0:a.toolConfig,systemInstruction:null===(c=this.params)||void 0===c?void 0:c.systemInstruction,cachedContent:null===(u=this.params)||void 0===u?void 0:u.cachedContent,contents:[].concat(y(this._history),[s])},f=Object.assign(Object.assign({},this._requestOptions),r),p=gt(this._apiKey,this.model,l,f),this._sendPromise=this._sendPromise.then((function(){return p})).catch((function(t){throw new Error(Ct)})).then((function(t){return t.response})).then((function(t){if(t.candidates&&t.candidates.length>0){h._history.push(s);var e=Object.assign({},t.candidates[0].content);e.role||(e.role="model"),h._history.push(e)}else{var r=ft(t);r&&console.warn("sendMessageStream() was unsuccessful. ".concat(r,". Inspect response object for details."))}})).catch((function(t){t.message!==Ct&&console.error(t)})),t.abrupt("return",p);case 9:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}]),t}();function Lt(t,e,r,n){return Tt.apply(this,arguments)}function Tt(){return(Tt=_(d().mark((function t(e,r,n,o){var i;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q(r,G.COUNT_TOKENS,e,!1,JSON.stringify(n),o);case 2:return i=t.sent,t.abrupt("return",i.json());case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Rt(t,e,r,n){return Dt.apply(this,arguments)}function Dt(){return(Dt=_(d().mark((function t(e,r,n,o){var i;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q(r,G.EMBED_CONTENT,e,!1,JSON.stringify(n),o);case 2:return i=t.sent,t.abrupt("return",i.json());case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function It(t,e,r,n){return Nt.apply(this,arguments)}function Nt(){return(Nt=_(d().mark((function t(e,r,n,o){var i,a;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.requests.map((function(t){return Object.assign(Object.assign({},t),{model:r})})),t.next=3,Q(r,G.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:i}),o);case 3:return a=t.sent,t.abrupt("return",a.json());case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Ft=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};k(this,t),this.apiKey=e,this._requestOptions=n,r.model.includes("/")?this.model=r.model:this.model="models/".concat(r.model),this.generationConfig=r.generationConfig||{},this.safetySettings=r.safetySettings||[],this.tools=r.tools,this.toolConfig=r.toolConfig,this.systemInstruction=xt(r.systemInstruction),this.cachedContent=r.cachedContent}var e,r,n,o,i;return x(t,[{key:"generateContent",value:(i=_(d().mark((function t(e){var r,n,o,i,a=arguments;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},o=Et(e),i=Object.assign(Object.assign({},this._requestOptions),r),t.abrupt("return",_t(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null===(n=this.cachedContent)||void 0===n?void 0:n.name},o),i));case 4:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"generateContentStream",value:(o=_(d().mark((function t(e){var r,n,o,i,a=arguments;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},o=Et(e),i=Object.assign(Object.assign({},this._requestOptions),r),t.abrupt("return",gt(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null===(n=this.cachedContent)||void 0===n?void 0:n.name},o),i));case 4:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})},{key:"startChat",value:function(t){var e;return new At(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null===(e=this.cachedContent)||void 0===e?void 0:e.name},t),this._requestOptions)}},{key:"countTokens",value:(n=_(d().mark((function t(e){var r,n,o,i=arguments;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},n=jt(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),o=Object.assign(Object.assign({},this._requestOptions),r),t.abrupt("return",Lt(this.apiKey,this.model,n,o));case 4:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"embedContent",value:(r=_(d().mark((function t(e){var r,n,o,i=arguments;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},n="string"==typeof(a=e)||Array.isArray(a)?{content:kt(a)}:a,o=Object.assign(Object.assign({},this._requestOptions),r),t.abrupt("return",Rt(this.apiKey,this.model,n,o));case 4:case"end":return t.stop()}var a}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"batchEmbedContents",value:(e=_(d().mark((function t(e){var r,n,o=arguments;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},n=Object.assign(Object.assign({},this._requestOptions),r),t.abrupt("return",It(this.apiKey,this.model,e,n));case 3:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}]),t}(),qt=function(){function t(e){k(this,t),this.apiKey=e}return x(t,[{key:"getGenerativeModel",value:function(t,e){if(!t.model)throw new z("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Ft(this.apiKey,t,e)}},{key:"getGenerativeModelFromCachedContent",value:function(t,e,r){if(!t.name)throw new V("Cached content must contain a `name` field.");if(!t.model)throw new V("Cached content must contain a `model` field.");for(var n=0,o=["model","systemInstruction"];n<o.length;n++){var i=o[n];if((null==e?void 0:e[i])&&t[i]&&(null==e?void 0:e[i])!==t[i]){if("model"===i&&(e.model.startsWith("models/")?e.model.replace("models/",""):e.model)===(t.model.startsWith("models/")?t.model.replace("models/",""):t.model))continue;throw new V('Different value for "'.concat(i,'" specified in modelParams')+" (".concat(e[i],") and cachedContent (").concat(t[i],")"))}}var a=Object.assign(Object.assign({},e),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new Ft(this.apiKey,a,r)}}]),t}(),Mt=r(355),Bt=r.n(Mt),Gt="RFC3986",zt={RFC1738:function(t){return String(t).replace(/%20/g,"+")},RFC3986:function(t){return String(t)}};function Ut(t){return Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ut(t)}Object.prototype.hasOwnProperty;var Ht=Array.isArray,Vt=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),$t=1024;function Kt(t,e){if(Ht(t)){for(var r=[],n=0;n<t.length;n+=1)r.push(e(t[n]));return r}return e(t)}function Wt(t){return Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wt(t)}var Yt=Object.prototype.hasOwnProperty,Jt={brackets:function(t){return String(t)+"[]"},comma:"comma",indices:function(t,e){return String(t)+"["+e+"]"},repeat:function(t){return String(t)}},Zt=Array.isArray,Xt=Array.prototype.push,Qt=function(t,e){Xt.apply(t,Zt(e)?e:[e])},te=Date.prototype.toISOString,ee={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:function(t,e,r,n,o){if(0===t.length)return t;var i=t;if("symbol"===Ut(t)?i=Symbol.prototype.toString.call(t):"string"!=typeof t&&(i=String(t)),"iso-8859-1"===r)return escape(i).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var a="",c=0;c<i.length;c+=$t){for(var u=i.length>=$t?i.slice(c,c+$t):i,s=[],l=0;l<u.length;++l){var f=u.charCodeAt(l);45===f||46===f||95===f||126===f||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||"RFC1738"===o&&(40===f||41===f)?s[s.length]=u.charAt(l):f<128?s[s.length]=Vt[f]:f<2048?s[s.length]=Vt[192|f>>6]+Vt[128|63&f]:f<55296||f>=57344?s[s.length]=Vt[224|f>>12]+Vt[128|f>>6&63]+Vt[128|63&f]:(l+=1,f=65536+((1023&f)<<10|1023&u.charCodeAt(l)),s[s.length]=Vt[240|f>>18]+Vt[128|f>>12&63]+Vt[128|f>>6&63]+Vt[128|63&f])}a+=s.join("")}return a},encodeValuesOnly:!1,format:Gt,formatter:zt[Gt],indices:!1,serializeDate:function(t){return te.call(t)},skipNulls:!1,strictNullHandling:!1},re={};function ne(t,e,r,n,o,i,a,c,u,s,l,f,p,h,y,d,v,b){for(var m,g=t,w=b,_=0,O=!1;void 0!==(w=w.get(re))&&!O;){var x=w.get(t);if(_+=1,void 0!==x){if(x===_)throw new RangeError("Cyclic object value");O=!0}void 0===w.get(re)&&(_=0)}if("function"==typeof s?g=s(e,g):g instanceof Date?g=null==p?void 0:p(g):"comma"===r&&Zt(g)&&(g=Kt(g,(function(t){return t instanceof Date?null==p?void 0:p(t):t}))),null===g){if(i)return u&&!d?u(e,ee.encoder,v,"key",h):e;g=""}if("string"==typeof(m=g)||"number"==typeof m||"boolean"==typeof m||"symbol"===Wt(m)||"bigint"==typeof m||function(t){return!(!t||"object"!==Ut(t)||!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t)))}(g)){if(u){var k=d?e:u(e,ee.encoder,v,"key",h);return[(null==y?void 0:y(k))+"="+(null==y?void 0:y(u(g,ee.encoder,v,"value",h)))]}return[(null==y?void 0:y(e))+"="+(null==y?void 0:y(String(g)))]}var j,E=[];if(void 0===g)return E;if("comma"===r&&Zt(g))d&&u&&(g=Kt(g,u)),j=[{value:g.length>0?g.join(",")||null:void 0}];else if(Zt(s))j=s;else{var S=Object.keys(g);j=l?S.sort(l):S}var P=c?String(e).replace(/\./g,"%2E"):String(e),C=n&&Zt(g)&&1===g.length?P+"[]":P;if(o&&Zt(g)&&0===g.length)return C+"[]";for(var A=0;A<j.length;++A){var L=j[A],T="object"===Wt(L)&&void 0!==L.value?L.value:g[L];if(!a||null!==T){var R=f&&c?L.replace(/\./g,"%2E"):L,D=Zt(g)?"function"==typeof r?r(C,R):C:C+(f?"."+R:"["+R+"]");b.set(t,_);var I=new WeakMap;I.set(re,b),Qt(E,ne(T,D,r,n,o,i,a,c,"comma"===r&&d&&Zt(g)?null:u,s,l,f,p,h,y,d,v,I))}}return E}var oe="4.77.0",ie=!1,ae=void 0,ce=void 0,ue=void 0,se=void 0,le=void 0,fe=void 0,pe=void 0,he=void 0,ye=void 0;function de(t){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},de(t)}function ve(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==de(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==de(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===de(o)?o:String(o)),n)}var o}var be=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.body=t}var r,n;return r=e,(n=[{key:Symbol.toStringTag,get:function(){return"MultipartBody"}}])&&ve(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}();function me(t){return me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},me(t)}function ge(){ge=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),c=new A(n||[]);return o(a,"_invoke",{value:E(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",v={};function b(){}function m(){}function g(){}var w={};s(w,a,(function(){return this}));var _=Object.getPrototypeOf,O=_&&_(_(L([])));O&&O!==r&&n.call(O,a)&&(w=O);var x=g.prototype=b.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==me(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function E(e,r,n){var o=p;return function(i,a){if(o===y)throw new Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=S(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?d:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=d,n.method="throw",n.arg=s.arg)}}}function S(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,S(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function L(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(me(e)+" is not iterable")}return m.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:m,configurable:!0}),m.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},k(j.prototype),s(j.prototype,c,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new j(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=L,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:L(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function we(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function _e(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?we(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=je(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):we(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Oe(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function xe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,je(n.key),n)}}function ke(t,e,r){return e&&xe(t.prototype,e),r&&xe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function je(t){var e=function(t,e){if("object"!==me(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==me(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===me(e)?e:String(e)}function Ee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Se(t){return Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Se(t)}function Pe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Se(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Se(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Se(o)?o:String(o)),n)}var o}function Ce(t,e,r){return e&&Pe(t.prototype,e),r&&Pe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Le(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ne(t,e)}function Te(t){var e=Ie();return function(){var r,n=Fe(t);if(e){var o=Fe(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Se(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Re(t){var e="function"==typeof Map?new Map:void 0;return Re=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return De(t,arguments,Fe(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Ne(r,t)},Re(t)}function De(t,e,r){return De=Ie()?Reflect.construct.bind():function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&Ne(o,r.prototype),o},De.apply(null,arguments)}function Ie(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Ne(t,e){return Ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ne(t,e)}function Fe(t){return Fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Fe(t)}ae||function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{auto:!1};if(ie)throw new Error("you must `import 'openai/shims/".concat(t.kind,"'` before importing anything else from openai"));if(ae)throw new Error("can't `import 'openai/shims/".concat(t.kind,"'` after `import 'openai/shims/").concat(ae,"'`"));ie=e.auto,ae=t.kind,ce=t.fetch,t.Request,t.Response,t.Headers,ue=t.FormData,t.Blob,se=t.File,le=t.ReadableStream,fe=t.getMultipartRequestOptions,pe=t.getDefaultAgent,he=t.fileFromPath,ye=t.isFsReadStream}(function(){var t,e,r,n,o,i,a=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).manuallyImported?"You may need to use polyfills":"Add one of these imports before your first `import … from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";try{t=fetch,e=Request,r=Response,n=Headers}catch(t){throw new Error("this environment is missing the following Web Fetch API type: ".concat(t.message,". ").concat(a))}return{kind:"web",fetch:t,Request:e,Response:r,Headers:n,FormData:"undefined"!=typeof FormData?FormData:ke((function t(){throw Ee(this,t),new Error("file uploads aren't supported in this environment yet as 'FormData' is undefined. ".concat(a))})),Blob:"undefined"!=typeof Blob?Blob:ke((function t(){throw Ee(this,t),new Error("file uploads aren't supported in this environment yet as 'Blob' is undefined. ".concat(a))})),File:"undefined"!=typeof File?File:ke((function t(){throw Ee(this,t),new Error("file uploads aren't supported in this environment yet as 'File' is undefined. ".concat(a))})),ReadableStream:"undefined"!=typeof ReadableStream?ReadableStream:ke((function t(){throw Ee(this,t),new Error("streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ".concat(a))})),getMultipartRequestOptions:(o=ge().mark((function t(e,r){return ge().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",_e(_e({},r),{},{body:new be(e)}));case 1:case"end":return t.stop()}}),t)})),i=function(){var t=this,e=arguments;return new Promise((function(r,n){var i=o.apply(t,e);function a(t){Oe(i,r,n,a,c,"next",t)}function c(t){Oe(i,r,n,a,c,"throw",t)}a(void 0)}))},function(t,e){return i.apply(this,arguments)}),getDefaultAgent:function(t){},fileFromPath:function(){throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:function(t){return!1}}}(),{auto:!0});var qe=function(t){Le(r,t);var e=Te(r);function r(){return Ae(this,r),e.apply(this,arguments)}return Ce(r)}(Re(Error)),Me=function(t){Le(r,t);var e=Te(r);function r(t,n,o,i){var a;Ae(this,r),(a=e.call(this,"".concat(r.makeMessage(t,n,o)))).status=t,a.headers=i,a.request_id=null==i?void 0:i["x-request-id"],a.error=n;var c=n;return a.code=null==c?void 0:c.code,a.param=null==c?void 0:c.param,a.type=null==c?void 0:c.type,a}return Ce(r,null,[{key:"makeMessage",value:function(t,e,r){var n=null!=e&&e.message?"string"==typeof e.message?e.message:JSON.stringify(e.message):e?JSON.stringify(e):r;return t&&n?"".concat(t," ").concat(n):t?"".concat(t," status code (no body)"):n||"(no status code or body)"}},{key:"generate",value:function(t,e,n,o){if(!t||!o)return new Ge({message:n,cause:Xn(e)});var i=null==e?void 0:e.error;return 400===t?new Ue(t,i,n,o):401===t?new He(t,i,n,o):403===t?new Ve(t,i,n,o):404===t?new $e(t,i,n,o):409===t?new Ke(t,i,n,o):422===t?new We(t,i,n,o):429===t?new Ye(t,i,n,o):t>=500?new Je(t,i,n,o):new r(t,i,n,o)}}]),r}(qe),Be=function(t){Le(r,t);var e=Te(r);function r(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).message;return Ae(this,r),e.call(this,void 0,void 0,t||"Request was aborted.",void 0)}return Ce(r)}(Me),Ge=function(t){Le(r,t);var e=Te(r);function r(t){var n,o=t.message,i=t.cause;return Ae(this,r),n=e.call(this,void 0,void 0,o||"Connection error.",void 0),i&&(n.cause=i),n}return Ce(r)}(Me),ze=function(t){Le(r,t);var e=Te(r);function r(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).message;return Ae(this,r),e.call(this,{message:null!=t?t:"Request timed out."})}return Ce(r)}(Ge),Ue=function(t){Le(r,t);var e=Te(r);function r(){return Ae(this,r),e.apply(this,arguments)}return Ce(r)}(Me),He=function(t){Le(r,t);var e=Te(r);function r(){return Ae(this,r),e.apply(this,arguments)}return Ce(r)}(Me),Ve=function(t){Le(r,t);var e=Te(r);function r(){return Ae(this,r),e.apply(this,arguments)}return Ce(r)}(Me),$e=function(t){Le(r,t);var e=Te(r);function r(){return Ae(this,r),e.apply(this,arguments)}return Ce(r)}(Me),Ke=function(t){Le(r,t);var e=Te(r);function r(){return Ae(this,r),e.apply(this,arguments)}return Ce(r)}(Me),We=function(t){Le(r,t);var e=Te(r);function r(){return Ae(this,r),e.apply(this,arguments)}return Ce(r)}(Me),Ye=function(t){Le(r,t);var e=Te(r);function r(){return Ae(this,r),e.apply(this,arguments)}return Ce(r)}(Me),Je=function(t){Le(r,t);var e=Te(r);function r(){return Ae(this,r),e.apply(this,arguments)}return Ce(r)}(Me),Ze=function(t){Le(r,t);var e=Te(r);function r(){return Ae(this,r),e.call(this,"Could not parse response content as the length limit was reached")}return Ce(r)}(qe),Xe=function(t){Le(r,t);var e=Te(r);function r(){return Ae(this,r),e.call(this,"Could not parse response content as the request was rejected by the content filter")}return Ce(r)}(qe);function Qe(t){return Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qe(t)}function tr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function er(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Qe(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Qe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Qe(o)?o:String(o)),n)}var o}var rr=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.buffer=[],this.trailingCR=!1}var e,r;return e=t,(r=[{key:"decode",value:function(e){var r=this.decodeText(e);if(this.trailingCR&&(r="\r"+r,this.trailingCR=!1),r.endsWith("\r")&&(this.trailingCR=!0,r=r.slice(0,-1)),!r)return[];var n,o=t.NEWLINE_CHARS.has(r[r.length-1]||""),i=r.split(t.NEWLINE_REGEXP);return o&&i.pop(),1!==i.length||o?(this.buffer.length>0&&(i=[this.buffer.join("")+i[0]].concat(function(t){if(Array.isArray(t))return tr(t)}(n=i.slice(1))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||function(t,e){if(t){if("string"==typeof t)return tr(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tr(t,e):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),this.buffer=[]),o||(this.buffer=[i.pop()||""]),i):(this.buffer.push(i[0]),[])}},{key:"decodeText",value:function(t){if(null==t)return"";if("string"==typeof t)return t;if("undefined"!=typeof Buffer){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new qe("Unexpected: received non-Uint8Array (".concat(t.constructor.name,') stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.'))}if("undefined"!=typeof TextDecoder){var e;if(t instanceof Uint8Array||t instanceof ArrayBuffer)return null!==(e=this.textDecoder)&&void 0!==e||(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new qe("Unexpected: received non-Uint8Array/ArrayBuffer (".concat(t.constructor.name,") in a web platform. Please report this error."))}throw new qe("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}},{key:"flush",value:function(){if(!this.buffer.length&&!this.trailingCR)return[];var t=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,t}}])&&er(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function nr(t){return nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nr(t)}function or(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=ir(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function ir(t,e){if(t){if("string"==typeof t)return ar(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ar(t,e):void 0}}function ar(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cr(){cr=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),c=new A(n||[]);return o(a,"_invoke",{value:E(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",v={};function b(){}function m(){}function g(){}var w={};s(w,a,(function(){return this}));var _=Object.getPrototypeOf,O=_&&_(_(L([])));O&&O!==r&&n.call(O,a)&&(w=O);var x=g.prototype=b.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==nr(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function E(e,r,n){var o=p;return function(i,a){if(o===y)throw new Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=S(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?d:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=d,n.method="throw",n.arg=s.arg)}}}function S(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,S(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function L(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(nr(e)+" is not iterable")}return m.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:m,configurable:!0}),m.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},k(j.prototype),s(j.prototype,c,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new j(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=L,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:L(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function ur(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function sr(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ur(i,n,o,a,c,"next",t)}function c(t){ur(i,n,o,a,c,"throw",t)}a(void 0)}))}}function lr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hr(n.key),n)}}function pr(t,e,r){return e&&fr(t.prototype,e),r&&fr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function hr(t){var e=function(t,e){if("object"!==nr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==nr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===nr(e)?e:String(e)}function yr(t){return new br(t,0)}function dr(t){return function(){return new vr(t.apply(this,arguments))}}function vr(t){var e,r;function n(e,r){try{var i=t[e](r),a=i.value,c=a instanceof br;Promise.resolve(c?a.v:a).then((function(r){if(c){var u="return"===e?"return":"next";if(!a.k||r.done)return n(u,r);r=t[u](r).value}o(i.done?"return":"normal",r)}),(function(t){n("throw",t)}))}catch(t){o("throw",t)}}function o(t,o){switch(t){case"return":e.resolve({value:o,done:!0});break;case"throw":e.reject(o);break;default:e.resolve({value:o,done:!1})}(e=e.next)?n(e.key,e.arg):r=null}this._invoke=function(t,o){return new Promise((function(i,a){var c={key:t,arg:o,resolve:i,reject:a,next:null};r?r=r.next=c:(e=r=c,n(t,o))}))},"function"!=typeof t.return&&(this.return=void 0)}function br(t,e){this.v=t,this.k=e}function mr(t){var e,r,n,o=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);o--;){if(r&&null!=(e=t[r]))return e.call(t);if(n&&null!=(e=t[n]))return new gr(e.call(t));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function gr(t){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then((function(t){return{value:t,done:e}}))}return gr=function(t){this.s=t,this.n=t.next},gr.prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var r=this.s.return;return void 0===r?Promise.resolve({value:t,done:!0}):e(r.apply(this.s,arguments))},throw:function(t){var r=this.s.return;return void 0===r?Promise.reject(t):e(r.apply(this.s,arguments))}},new gr(t)}rr.NEWLINE_CHARS=new Set(["\n","\r"]),rr.NEWLINE_REGEXP=/\r\n|[\n\r]/g,vr.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},vr.prototype.next=function(t){return this._invoke("next",t)},vr.prototype.throw=function(t){return this._invoke("throw",t)},vr.prototype.return=function(t){return this._invoke("return",t)};var wr=function(t){function e(t,r){lr(this,e),this.iterator=t,this.controller=r}return pr(e,[{key:Symbol.asyncIterator,value:function(){return this.iterator()}},{key:"tee",value:function(){var t=[],r=[],n=this.iterator(),o=function(e){return{next:function(){if(0===e.length){var o=n.next();t.push(o),r.push(o)}return e.shift()}}};return[new e((function(){return o(t)}),this.controller),new e((function(){return o(r)}),this.controller)]}},{key:"toReadableStream",value:function(){var t,e=this,r=new TextEncoder;return new le({start:function(){return sr(cr().mark((function r(){return cr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t=e[Symbol.asyncIterator]();case 1:case"end":return r.stop()}}),r)})))()},pull:function(e){return sr(cr().mark((function n(){var o,i,a;return cr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.next();case 3:if(o=n.sent,i=o.value,!o.done){n.next=8;break}return n.abrupt("return",e.close());case 8:a=r.encode(JSON.stringify(i)+"\n"),e.enqueue(a),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),e.error(n.t0);case 15:case"end":return n.stop()}}),n,null,[[0,12]])})))()},cancel:function(){return sr(cr().mark((function e(){var r,n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(r=(n=t).return)||void 0===r?void 0:r.call(n);case 2:case"end":return e.stop()}}),e)})))()}})}}],[{key:"fromSSEResponse",value:function(t,r){var n=!1;function o(){return(o=dr(cr().mark((function e(){var o,i,a,c,u,s,l,f,p;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=2;break}throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");case 2:n=!0,o=!1,e.prev=4,i=!1,a=!1,e.prev=7,u=mr(_r(t,r));case 9:return e.next=11,yr(u.next());case 11:if(!(i=!(s=e.sent).done)){e.next=52;break}if(l=s.value,!o){e.next=15;break}return e.abrupt("continue",49);case 15:if(!l.data.startsWith("[DONE]")){e.next=18;break}return o=!0,e.abrupt("continue",49);case 18:if(null!==l.event){e.next=35;break}f=void 0,e.prev=20,f=JSON.parse(l.data),e.next=29;break;case 24:throw e.prev=24,e.t0=e.catch(20),console.error("Could not parse message into JSON:",l.data),console.error("From chunk:",l.raw),e.t0;case 29:if(!f||!f.error){e.next=31;break}throw new Me(void 0,f.error,void 0,void 0);case 31:return e.next=33,f;case 33:e.next=49;break;case 35:p=void 0,e.prev=36,p=JSON.parse(l.data),e.next=45;break;case 40:throw e.prev=40,e.t1=e.catch(36),console.error("Could not parse message into JSON:",l.data),console.error("From chunk:",l.raw),e.t1;case 45:if("error"!=l.event){e.next=47;break}throw new Me(void 0,p.error,p.message,void 0);case 47:return e.next=49,{event:l.event,data:p};case 49:i=!1,e.next=9;break;case 52:e.next=58;break;case 54:e.prev=54,e.t2=e.catch(7),a=!0,c=e.t2;case 58:if(e.prev=58,e.prev=59,!i||null==u.return){e.next=63;break}return e.next=63,yr(u.return());case 63:if(e.prev=63,!a){e.next=66;break}throw c;case 66:return e.finish(63);case 67:return e.finish(58);case 68:o=!0,e.next=76;break;case 71:if(e.prev=71,e.t3=e.catch(4),!(e.t3 instanceof Error&&"AbortError"===e.t3.name)){e.next=75;break}return e.abrupt("return");case 75:throw e.t3;case 76:return e.prev=76,o||r.abort(),e.finish(76);case 79:case"end":return e.stop()}}),e,null,[[4,71,76,79],[7,54,58,68],[20,24],[36,40],[59,,63,67]])})))).apply(this,arguments)}return new e((function(){return o.apply(this,arguments)}),r)}},{key:"fromReadableStream",value:function(t,r){var n=!1;function o(){return i.apply(this,arguments)}function i(){return(i=dr(cr().mark((function e(){var r,n,o,i,a,c,u,s,l,f,p,h,y,d;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new rr,n=Sr(t),o=!1,i=!1,e.prev=4,c=mr(n);case 6:return e.next=8,yr(c.next());case 8:if(!(o=!(u=e.sent).done)){e.next=30;break}s=u.value,l=or(r.decode(s)),e.prev=11,l.s();case 13:if((f=l.n()).done){e.next=19;break}return p=f.value,e.next=17,p;case 17:e.next=13;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(11),l.e(e.t0);case 24:return e.prev=24,l.f(),e.finish(24);case 27:o=!1,e.next=6;break;case 30:e.next=36;break;case 32:e.prev=32,e.t1=e.catch(4),i=!0,a=e.t1;case 36:if(e.prev=36,e.prev=37,!o||null==c.return){e.next=41;break}return e.next=41,yr(c.return());case 41:if(e.prev=41,!i){e.next=44;break}throw a;case 44:return e.finish(41);case 45:return e.finish(36);case 46:h=or(r.flush()),e.prev=47,h.s();case 49:if((y=h.n()).done){e.next=55;break}return d=y.value,e.next=53,d;case 53:e.next=49;break;case 55:e.next=60;break;case 57:e.prev=57,e.t2=e.catch(47),h.e(e.t2);case 60:return e.prev=60,h.f(),e.finish(60);case 63:case"end":return e.stop()}}),e,null,[[4,32,36,46],[11,21,24,27],[37,,41,45],[47,57,60,63]])})))).apply(this,arguments)}function a(){return(a=dr(cr().mark((function t(){var e,i,a,c,u,s,l;return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=2;break}throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");case 2:n=!0,e=!1,t.prev=4,i=!1,a=!1,t.prev=7,u=mr(o());case 9:return t.next=11,yr(u.next());case 11:if(!(i=!(s=t.sent).done)){t.next=21;break}if(l=s.value,!e){t.next=15;break}return t.abrupt("continue",18);case 15:if(!l){t.next=18;break}return t.next=18,JSON.parse(l);case 18:i=!1,t.next=9;break;case 21:t.next=27;break;case 23:t.prev=23,t.t0=t.catch(7),a=!0,c=t.t0;case 27:if(t.prev=27,t.prev=28,!i||null==u.return){t.next=32;break}return t.next=32,yr(u.return());case 32:if(t.prev=32,!a){t.next=35;break}throw c;case 35:return t.finish(32);case 36:return t.finish(27);case 37:e=!0,t.next=45;break;case 40:if(t.prev=40,t.t1=t.catch(4),!(t.t1 instanceof Error&&"AbortError"===t.t1.name)){t.next=44;break}return t.abrupt("return");case 44:throw t.t1;case 45:return t.prev=45,e||r.abort(),t.finish(45);case 48:case"end":return t.stop()}}),t,null,[[4,40,45,48],[7,23,27,37],[28,,32,36]])})))).apply(this,arguments)}return new e((function(){return a.apply(this,arguments)}),r)}}]),e}();function _r(t,e){return Or.apply(this,arguments)}function Or(){return(Or=dr(cr().mark((function t(e,r){var n,o,i,a,c,u,s,l,f,p,h,y,d,v,b,m,g;return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.body){t.next=3;break}throw r.abort(),new qe("Attempted to iterate over a response with no body");case 3:n=new Er,o=new rr,i=Sr(e.body),a=!1,c=!1,t.prev=8,s=mr(xr(i));case 10:return t.next=12,yr(s.next());case 12:if(!(a=!(l=t.sent).done)){t.next=36;break}f=l.value,p=or(o.decode(f)),t.prev=15,p.s();case 17:if((h=p.n()).done){t.next=25;break}if(y=h.value,!(d=n.decode(y))){t.next=23;break}return t.next=23,d;case 23:t.next=17;break;case 25:t.next=30;break;case 27:t.prev=27,t.t0=t.catch(15),p.e(t.t0);case 30:return t.prev=30,p.f(),t.finish(30);case 33:a=!1,t.next=10;break;case 36:t.next=42;break;case 38:t.prev=38,t.t1=t.catch(8),c=!0,u=t.t1;case 42:if(t.prev=42,t.prev=43,!a||null==s.return){t.next=47;break}return t.next=47,yr(s.return());case 47:if(t.prev=47,!c){t.next=50;break}throw u;case 50:return t.finish(47);case 51:return t.finish(42);case 52:v=or(o.flush()),t.prev=53,v.s();case 55:if((b=v.n()).done){t.next=63;break}if(m=b.value,!(g=n.decode(m))){t.next=61;break}return t.next=61,g;case 61:t.next=55;break;case 63:t.next=68;break;case 65:t.prev=65,t.t2=t.catch(53),v.e(t.t2);case 68:return t.prev=68,v.f(),t.finish(68);case 71:case"end":return t.stop()}}),t,null,[[8,38,42,52],[15,27,30,33],[43,,47,51],[53,65,68,71]])})))).apply(this,arguments)}function xr(t){return kr.apply(this,arguments)}function kr(){return(kr=dr(cr().mark((function t(e){var r,n,o,i,a,c,u,s,l,f;return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=new Uint8Array,n=!1,o=!1,t.prev=3,a=mr(e);case 5:return t.next=7,yr(a.next());case 7:if(!(n=!(c=t.sent).done)){t.next=26;break}if(null!=(u=c.value)){t.next=11;break}return t.abrupt("continue",23);case 11:s=u instanceof ArrayBuffer?new Uint8Array(u):"string"==typeof u?(new TextEncoder).encode(u):u,(l=new Uint8Array(r.length+s.length)).set(r),l.set(s,r.length),r=l,f=void 0;case 17:if(-1===(f=jr(r))){t.next=23;break}return t.next=20,r.slice(0,f);case 20:r=r.slice(f),t.next=17;break;case 23:n=!1,t.next=5;break;case 26:t.next=32;break;case 28:t.prev=28,t.t0=t.catch(3),o=!0,i=t.t0;case 32:if(t.prev=32,t.prev=33,!n||null==a.return){t.next=37;break}return t.next=37,yr(a.return());case 37:if(t.prev=37,!o){t.next=40;break}throw i;case 40:return t.finish(37);case 41:return t.finish(32);case 42:if(!(r.length>0)){t.next=45;break}return t.next=45,r;case 45:case"end":return t.stop()}}),t,null,[[3,28,32,42],[33,,37,41]])})))).apply(this,arguments)}function jr(t){for(var e=0;e<t.length-2;e++){if(10===t[e]&&10===t[e+1])return e+2;if(13===t[e]&&13===t[e+1])return e+2;if(13===t[e]&&10===t[e+1]&&e+3<t.length&&13===t[e+2]&&10===t[e+3])return e+4}return-1}var Er=function(){function t(){lr(this,t),this.event=null,this.data=[],this.chunks=[]}return pr(t,[{key:"decode",value:function(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;var e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(t),t.startsWith(":"))return null;var r,n,o=function(t,e){var r=t.indexOf(":");return-1!==r?[t.substring(0,r),":",t.substring(r+1)]:[t,"",""]}(t),i=(n=3,function(t){if(Array.isArray(t))return t}(r=o)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,s=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(r,n)||ir(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],c=(i[1],i[2]);return c.startsWith(" ")&&(c=c.substring(1)),"event"===a?this.event=c:"data"===a&&this.data.push(c),null}}]),t}();function Sr(t){if(t[Symbol.asyncIterator])return t;var e,r,n,o=t.getReader();return e={next:function(){return sr(cr().mark((function t(){var e;return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.read();case 3:return null!=(e=t.sent)&&e.done&&o.releaseLock(),t.abrupt("return",e);case 8:throw t.prev=8,t.t0=t.catch(0),o.releaseLock(),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()},return:function(){return sr(cr().mark((function t(){var e;return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=o.cancel(),o.releaseLock(),t.next=4,e;case 4:return t.abrupt("return",{done:!0,value:void 0});case 5:case"end":return t.stop()}}),t)})))()}},n=function(){return this},(r=hr(r=Symbol.asyncIterator))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Pr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Cr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Pr(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=function(t){var e=function(t,e){if("object"!==Ir(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Ir(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Ir(e)?e:String(e)}(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ar(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,s=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Lr(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Lr(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Tr(){Tr=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),c=new A(n||[]);return o(a,"_invoke",{value:E(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",v={};function b(){}function m(){}function g(){}var w={};s(w,a,(function(){return this}));var _=Object.getPrototypeOf,O=_&&_(_(L([])));O&&O!==r&&n.call(O,a)&&(w=O);var x=g.prototype=b.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==Ir(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function E(e,r,n){var o=p;return function(i,a){if(o===y)throw new Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=S(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?d:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=d,n.method="throw",n.arg=s.arg)}}}function S(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,S(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function L(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Ir(e)+" is not iterable")}return m.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:m,configurable:!0}),m.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},k(j.prototype),s(j.prototype,c,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new j(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=L,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:L(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Rr(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function Dr(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Rr(i,n,o,a,c,"next",t)}function c(t){Rr(i,n,o,a,c,"throw",t)}a(void 0)}))}}function Ir(t){return Ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ir(t)}function Nr(t){var e,r,n,o=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);o--;){if(r&&null!=(e=t[r]))return e.call(t);if(n&&null!=(e=t[n]))return new Fr(e.call(t));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function Fr(t){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then((function(t){return{value:t,done:e}}))}return Fr=function(t){this.s=t,this.n=t.next},Fr.prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var r=this.s.return;return void 0===r?Promise.resolve({value:t,done:!0}):e(r.apply(this.s,arguments))},throw:function(t){var r=this.s.return;return void 0===r?Promise.reject(t):e(r.apply(this.s,arguments))}},new Fr(t)}var qr=function(t){return null!=t&&"object"===Ir(t)&&"string"==typeof t.url&&"function"==typeof t.blob},Mr=function(t){return null!=t&&"object"===Ir(t)&&"string"==typeof t.name&&"number"==typeof t.lastModified&&Br(t)},Br=function(t){return null!=t&&"object"===Ir(t)&&"number"==typeof t.size&&"string"==typeof t.type&&"function"==typeof t.text&&"function"==typeof t.slice&&"function"==typeof t.arrayBuffer},Gr=function(t){return Mr(t)||qr(t)||ye(t)};function zr(t,e,r){return Ur.apply(this,arguments)}function Ur(){return(Ur=Dr(Tr().mark((function t(e,r,n){var o,i,a,c,u,s,l,f;return Tr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:if(e=t.sent,!Mr(e)){t.next=5;break}return t.abrupt("return",e);case 5:if(!qr(e)){t.next=20;break}return t.next=8,e.blob();case 8:if(c=t.sent,r||(r=null!==(a=new URL(e.url).pathname.split(/[\\/]/).pop())&&void 0!==a?a:"unknown_file"),!Br(c)){t.next=17;break}return t.next=13,c.arrayBuffer();case 13:t.t1=t.sent,t.t0=[t.t1],t.next=18;break;case 17:t.t0=[c];case 18:return u=t.t0,t.abrupt("return",new se(u,r,n));case 20:return t.next=22,Hr(e);case 22:return s=t.sent,r||(r=null!==(o=Kr(e))&&void 0!==o?o:"unknown_file"),null!==(i=n)&&void 0!==i&&i.type||"string"==typeof(f=null===(l=s[0])||void 0===l?void 0:l.type)&&(n=Cr(Cr({},n),{},{type:f})),t.abrupt("return",new se(s,r,n));case 26:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Hr(t){return Vr.apply(this,arguments)}function Vr(){return(Vr=Dr(Tr().mark((function t(e){var r,n,o,i,a,c,u,s;return Tr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=[],!("string"==typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)){t.next=5;break}r.push(e),t.next=45;break;case 5:if(!Br(e)){t.next=13;break}return t.t0=r,t.next=9,e.arrayBuffer();case 9:t.t1=t.sent,t.t0.push.call(t.t0,t.t1),t.next=45;break;case 13:if(!Yr(e)){t.next=44;break}n=!1,o=!1,t.prev=16,a=Nr(e);case 18:return t.next=20,a.next();case 20:if(!(n=!(c=t.sent).done)){t.next=26;break}u=c.value,r.push(u);case 23:n=!1,t.next=18;break;case 26:t.next=32;break;case 28:t.prev=28,t.t2=t.catch(16),o=!0,i=t.t2;case 32:if(t.prev=32,t.prev=33,!n||null==a.return){t.next=37;break}return t.next=37,a.return();case 37:if(t.prev=37,!o){t.next=40;break}throw i;case 40:return t.finish(37);case 41:return t.finish(32);case 42:t.next=45;break;case 44:throw new Error("Unexpected data type: ".concat(Ir(e),"; constructor: ").concat(null==e||null===(s=e.constructor)||void 0===s?void 0:s.name,"; props: ").concat($r(e)));case 45:return t.abrupt("return",r);case 46:case"end":return t.stop()}}),t,null,[[16,28,32,42],[33,,37,41]])})))).apply(this,arguments)}function $r(t){var e=Object.getOwnPropertyNames(t);return"[".concat(e.map((function(t){return'"'.concat(t,'"')})).join(", "),"]")}function Kr(t){var e;return Wr(t.name)||Wr(t.filename)||(null===(e=Wr(t.path))||void 0===e?void 0:e.split(/[\\/]/).pop())}var Wr=function(t){return"string"==typeof t?t:"undefined"!=typeof Buffer&&t instanceof Buffer?String(t):void 0},Yr=function(t){return null!=t&&"object"===Ir(t)&&"function"==typeof t[Symbol.asyncIterator]},Jr=function(t){return t&&"object"===Ir(t)&&t.body&&"MultipartBody"===t[Symbol.toStringTag]},Zr=function(){var t=Dr(Tr().mark((function t(e){var r;return Tr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Xr(e.body);case 2:return r=t.sent,t.abrupt("return",fe(r,e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Xr=function(){var t=Dr(Tr().mark((function t(e){var r;return Tr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new ue,t.next=3,Promise.all(Object.entries(e||{}).map((function(t){var e=Ar(t,2),n=e[0],o=e[1];return Qr(r,n,o)})));case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Qr=function(){var t=Dr(Tr().mark((function t(e,r,n){var o;return Tr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==n){t.next=2;break}return t.abrupt("return");case 2:if(null!=n){t.next=4;break}throw new TypeError('Received null for "'.concat(r,"\"; to pass null in FormData, you must use the string 'null'"));case 4:if("string"!=typeof n&&"number"!=typeof n&&"boolean"!=typeof n){t.next=8;break}e.append(r,String(n)),t.next=26;break;case 8:if(!Gr(n)){t.next=15;break}return t.next=11,zr(n);case 11:o=t.sent,e.append(r,o),t.next=26;break;case 15:if(!Array.isArray(n)){t.next=20;break}return t.next=18,Promise.all(n.map((function(t){return Qr(e,r+"[]",t)})));case 18:case 23:t.next=26;break;case 20:if("object"!==Ir(n)){t.next=25;break}return t.next=23,Promise.all(Object.entries(n).map((function(t){var n=Ar(t,2),o=n[0],i=n[1];return Qr(e,"".concat(r,"[").concat(o,"]"),i)})));case 25:throw new TypeError("Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ".concat(n," instead"));case 26:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),tn=["signal"];function en(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=un(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function rn(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function nn(t){return function(t){if(Array.isArray(t))return sn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||un(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function on(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function an(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?on(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=yn(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):on(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function cn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,s=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,e)||un(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function un(t,e){if(t){if("string"==typeof t)return sn(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?sn(t,e):void 0}}function sn(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ln(){ln=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),c=new A(n||[]);return o(a,"_invoke",{value:E(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",v={};function b(){}function m(){}function g(){}var w={};s(w,a,(function(){return this}));var _=Object.getPrototypeOf,O=_&&_(_(L([])));O&&O!==r&&n.call(O,a)&&(w=O);var x=g.prototype=b.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==On(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function E(e,r,n){var o=p;return function(i,a){if(o===y)throw new Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=S(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?d:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=d,n.method="throw",n.arg=s.arg)}}}function S(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,S(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function L(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(On(e)+" is not iterable")}return m.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:m,configurable:!0}),m.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},k(j.prototype),s(j.prototype,c,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new j(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=L,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:L(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function fn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yn(n.key),n)}}function hn(t,e,r){return e&&pn(t.prototype,e),r&&pn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function yn(t){var e=function(t,e){if("object"!==On(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==On(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===On(e)?e:String(e)}function dn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wn(t,e)}function vn(t){var e=gn();return function(){var r,n=_n(t);if(e){var o=_n(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===On(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function bn(t){var e="function"==typeof Map?new Map:void 0;return bn=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return mn(t,arguments,_n(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),wn(r,t)},bn(t)}function mn(t,e,r){return mn=gn()?Reflect.construct.bind():function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&wn(o,r.prototype),o},mn.apply(null,arguments)}function gn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function wn(t,e){return wn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},wn(t,e)}function _n(t){return _n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_n(t)}function On(t){return On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},On(t)}function xn(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function kn(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){xn(i,n,o,a,c,"next",t)}function c(t){xn(i,n,o,a,c,"throw",t)}a(void 0)}))}}function jn(t){var e,r,n,o=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);o--;){if(r&&null!=(e=t[r]))return e.call(t);if(n&&null!=(e=t[n]))return new En(e.call(t));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function En(t){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then((function(t){return{value:t,done:e}}))}return En=function(t){this.s=t,this.n=t.next},En.prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var r=this.s.return;return void 0===r?Promise.resolve({value:t,done:!0}):e(r.apply(this.s,arguments))},throw:function(t){var r=this.s.return;return void 0===r?Promise.reject(t):e(r.apply(this.s,arguments))}},new En(t)}function Sn(t){return new An(t,0)}function Pn(t){return function(){return new Cn(t.apply(this,arguments))}}function Cn(t){var e,r;function n(e,r){try{var i=t[e](r),a=i.value,c=a instanceof An;Promise.resolve(c?a.v:a).then((function(r){if(c){var u="return"===e?"return":"next";if(!a.k||r.done)return n(u,r);r=t[u](r).value}o(i.done?"return":"normal",r)}),(function(t){n("throw",t)}))}catch(t){o("throw",t)}}function o(t,o){switch(t){case"return":e.resolve({value:o,done:!0});break;case"throw":e.reject(o);break;default:e.resolve({value:o,done:!1})}(e=e.next)?n(e.key,e.arg):r=null}this._invoke=function(t,o){return new Promise((function(i,a){var c={key:t,arg:o,resolve:i,reject:a,next:null};r?r=r.next=c:(e=r=c,n(t,o))}))},"function"!=typeof t.return&&(this.return=void 0)}function An(t,e){this.v=t,this.k=e}Cn.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Cn.prototype.next=function(t){return this._invoke("next",t)},Cn.prototype.throw=function(t){return this._invoke("throw",t)},Cn.prototype.return=function(t){return this._invoke("return",t)};var Ln,Tn=function(t,e,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)};function Rn(t){return Dn.apply(this,arguments)}function Dn(){return(Dn=kn(ln().mark((function t(e){var r,n,o,i;return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.response,!e.options.stream){t.next=6;break}if(no("response",r.status,r.url,r.headers,r.body),!e.options.__streamClass){t.next=5;break}return t.abrupt("return",e.options.__streamClass.fromSSEResponse(r,e.controller));case 5:return t.abrupt("return",wr.fromSSEResponse(r,e.controller));case 6:if(204!==r.status){t.next=8;break}return t.abrupt("return",null);case 8:if(!e.options.__binaryResponse){t.next=10;break}return t.abrupt("return",r);case 10:if(!(null==(n=r.headers.get("content-type"))?void 0:n.includes("application/json"))&&!(null==n?void 0:n.includes("application/vnd.api+json"))){t.next=18;break}return t.next=15,r.json();case 15:return o=t.sent,no("response",r.status,r.url,r.headers,o),t.abrupt("return",In(o,r));case 18:return t.next=20,r.text();case 20:return i=t.sent,no("response",r.status,r.url,r.headers,i),t.abrupt("return",i);case 23:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function In(t,e){return!t||"object"!==On(t)||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}var Nn,Fn=function(t){dn(n,t);var e,r=vn(n);function n(t){var e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rn;return fn(this,n),(e=r.call(this,(function(t){t(null)}))).responsePromise=t,e.parseResponse=o,e}return hn(n,[{key:"_thenUnwrap",value:function(t){var e=this;return new n(this.responsePromise,function(){var r=kn(ln().mark((function r(n){return ln().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=In,r.t1=t,r.next=4,e.parseResponse(n);case 4:return r.t2=r.sent,r.t3=n,r.t4=(0,r.t1)(r.t2,r.t3),r.t5=n.response,r.abrupt("return",(0,r.t0)(r.t4,r.t5));case 9:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}())}},{key:"asResponse",value:function(){return this.responsePromise.then((function(t){return t.response}))}},{key:"withResponse",value:(e=kn(ln().mark((function t(){var e,r,n,o;return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([this.parse(),this.asResponse()]);case 2:return e=t.sent,r=cn(e,2),n=r[0],o=r[1],t.abrupt("return",{data:n,response:o,request_id:o.headers.get("x-request-id")});case 7:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"parse",value:function(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}},{key:"then",value:function(t,e){return this.parse().then(t,e)}},{key:"catch",value:function(t){return this.parse().catch(t)}},{key:"finally",value:function(t){return this.parse().finally(t)}}]),n}(bn(Promise)),qn=function(){function t(e){var r=e.baseURL,n=e.maxRetries,o=void 0===n?2:n,i=e.timeout,a=void 0===i?6e5:i,c=e.httpAgent,u=e.fetch;fn(this,t),this.baseURL=r,this.maxRetries=Zn("maxRetries",o),this.timeout=Zn("timeout",a),this.httpAgent=c,this.fetch=null!=u?u:ce}var e,r,n,o;return hn(t,[{key:"authHeaders",value:function(t){return{}}},{key:"defaultHeaders",value:function(t){return an(an({Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent()},$n()),this.authHeaders(t))}},{key:"validateHeaders",value:function(t,e){}},{key:"defaultIdempotencyKey",value:function(){return"stainless-node-retry-".concat(oo())}},{key:"get",value:function(t,e){return this.methodRequest("get",t,e)}},{key:"post",value:function(t,e){return this.methodRequest("post",t,e)}},{key:"patch",value:function(t,e){return this.methodRequest("patch",t,e)}},{key:"put",value:function(t,e){return this.methodRequest("put",t,e)}},{key:"delete",value:function(t,e){return this.methodRequest("delete",t,e)}},{key:"methodRequest",value:function(t,e,r){return this.request(Promise.resolve(r).then(function(){var r=kn(ln().mark((function r(n){var o;return ln().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n||!Br(null==n?void 0:n.body)){r.next=8;break}return r.t1=DataView,r.next=4,n.body.arrayBuffer();case 4:r.t2=r.sent,r.t0=new r.t1(r.t2),r.next=9;break;case 8:r.t0=(null==n?void 0:n.body)instanceof DataView?n.body:(null==n?void 0:n.body)instanceof ArrayBuffer?new DataView(n.body):n&&ArrayBuffer.isView(null==n?void 0:n.body)?new DataView(n.body.buffer):null==n?void 0:n.body;case 9:return o=r.t0,r.abrupt("return",an(an({method:t,path:e},n),{},{body:o}));case 11:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}()))}},{key:"getAPIList",value:function(t,e,r){return this.requestAPIList(e,an({method:"get",path:t},r))}},{key:"calculateContentLength",value:function(t){if("string"==typeof t){if("undefined"!=typeof Buffer)return Buffer.byteLength(t,"utf8").toString();if("undefined"!=typeof TextEncoder)return(new TextEncoder).encode(t).length.toString()}else if(ArrayBuffer.isView(t))return t.byteLength.toString();return null}},{key:"buildRequest",value:function(t){var e,r,n,o,i,a,c=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).retryCount,u=void 0===c?0:c,s=t.method,l=t.path,f=t.query,p=t.headers,h=void 0===p?{}:p,y=ArrayBuffer.isView(t.body)||t.__binaryRequest&&"string"==typeof t.body?t.body:Jr(t.body)?t.body.body:t.body?JSON.stringify(t.body,null,2):null,d=this.calculateContentLength(y),v=this.buildURL(l,f);"timeout"in t&&Zn("timeout",t.timeout);var b=null!==(e=t.timeout)&&void 0!==e?e:this.timeout,m=null!==(r=null!==(n=t.httpAgent)&&void 0!==n?n:this.httpAgent)&&void 0!==r?r:pe(v),g=b+1e3;"number"==typeof(null==m||null===(o=m.options)||void 0===o?void 0:o.timeout)&&g>(null!==(i=m.options.timeout)&&void 0!==i?i:0)&&(m.options.timeout=g),this.idempotencyHeader&&"get"!==s&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),h[this.idempotencyHeader]=t.idempotencyKey);var w=this.buildHeaders({options:t,headers:h,contentLength:d,retryCount:u});return{req:an(an(an({method:s},y&&{body:y}),{},{headers:w},m&&{agent:m}),{},{signal:null!==(a=t.signal)&&void 0!==a?a:null}),url:v,timeout:b}}},{key:"buildHeaders",value:function(t){var e=t.options,r=t.headers,n=t.contentLength,o=t.retryCount,i={};n&&(i["content-length"]=n);var a=this.defaultHeaders(e);return ro(i,a),ro(i,r),Jr(e.body)&&"node"!==ae&&delete i["content-type"],void 0===io(a,"x-stainless-retry-count")&&void 0===io(r,"x-stainless-retry-count")&&(i["x-stainless-retry-count"]=String(o)),this.validateHeaders(i,r),i}},{key:"prepareOptions",value:(o=kn(ln().mark((function t(e){return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(t){return o.apply(this,arguments)})},{key:"prepareRequest",value:(n=kn(ln().mark((function t(e,r){return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.url,r.options;case 1:case"end":return t.stop()}}),t)}))),function(t,e){return n.apply(this,arguments)})},{key:"parseHeaders",value:function(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map((function(t){return nn(t)}))):an({},t):{}}},{key:"makeStatusError",value:function(t,e,r,n){return Me.generate(t,e,r,n)}},{key:"request",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Fn(this.makeRequest(t,e))}},{key:"makeRequest",value:function(){var t=kn(ln().mark((function t(e,r){var n,o,i,a,c,u,s,l,f,p,h,y,d,v,b,m;return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:return i=t.sent,a=null!==(n=i.maxRetries)&&void 0!==n?n:this.maxRetries,null==r&&(r=a),t.next=7,this.prepareOptions(i);case 7:return c=this.buildRequest(i,{retryCount:a-r}),u=c.req,s=c.url,l=c.timeout,t.next=10,this.prepareRequest(u,{url:s,options:i});case 10:if(no("request",s,i,u.headers),null===(o=i.signal)||void 0===o||!o.aborted){t.next=13;break}throw new Be;case 13:return f=new AbortController,t.next=16,this.fetchWithTimeout(s,u,l,f).catch(Xn);case 16:if(!((p=t.sent)instanceof Error)){t.next=25;break}if(null===(h=i.signal)||void 0===h||!h.aborted){t.next=20;break}throw new Be;case 20:if(!r){t.next=22;break}return t.abrupt("return",this.retryRequest(i,r));case 22:if("AbortError"!==p.name){t.next=24;break}throw new ze;case 24:throw new Ge({cause:p});case 25:if(y=Gn(p.headers),p.ok){t.next=40;break}if(!r||!this.shouldRetry(p)){t.next=31;break}return d="retrying, ".concat(r," attempts remaining"),no("response (error; ".concat(d,")"),p.status,s,y),t.abrupt("return",this.retryRequest(i,r,y));case 31:return t.next=33,p.text().catch((function(t){return Xn(t).message}));case 33:throw v=t.sent,b=Kn(v),m=b?void 0:v,no("response (error; ".concat(r?"(error; no more retries left)":"(error; not retryable)",")"),p.status,s,y,m),this.makeStatusError(p.status,b,m,y);case 40:return t.abrupt("return",{response:p,options:i,controller:f});case 41:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}()},{key:"requestAPIList",value:function(t,e){var r=this.makeRequest(e,null);return new Bn(this,r,t)}},{key:"buildURL",value:function(t,e){var r=Yn(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),n=this.defaultQuery();return to(n)||(e=an(an({},n),e)),"object"===On(e)&&e&&!Array.isArray(e)&&(r.search=this.stringifyQuery(e)),r.toString()}},{key:"stringifyQuery",value:function(t){return Object.entries(t).filter((function(t){var e=cn(t,2);return e[0],void 0!==e[1]})).map((function(t){var e=cn(t,2),r=e[0],n=e[1];if("string"==typeof n||"number"==typeof n||"boolean"==typeof n)return"".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(n));if(null===n)return"".concat(encodeURIComponent(r),"=");throw new qe("Cannot stringify type ".concat(On(n),"; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case."))})).join("&")}},{key:"fetchWithTimeout",value:(r=kn(ln().mark((function t(e,r,n,o){var i,a,c,u;return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=(i=r||{}).signal,c=rn(i,tn),a&&a.addEventListener("abort",(function(){return o.abort()})),u=setTimeout((function(){return o.abort()}),n),t.abrupt("return",this.fetch.call(void 0,e,an({signal:o.signal},c)).finally((function(){clearTimeout(u)})));case 4:case"end":return t.stop()}}),t,this)}))),function(t,e,n,o){return r.apply(this,arguments)})},{key:"shouldRetry",value:function(t){var e=t.headers.get("x-should-retry");return"true"===e||"false"!==e&&(408===t.status||409===t.status||429===t.status||t.status>=500)}},{key:"retryRequest",value:(e=kn(ln().mark((function t(e,r,n){var o,i,a,c,u,s,l;return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(i=null==n?void 0:n["retry-after-ms"])&&(a=parseFloat(i),Number.isNaN(a)||(o=a)),(c=null==n?void 0:n["retry-after"])&&!o&&(u=parseFloat(c),o=Number.isNaN(u)?Date.parse(c)-Date.now():1e3*u),o&&0<=o&&o<6e4||(l=null!==(s=e.maxRetries)&&void 0!==s?s:this.maxRetries,o=this.calculateDefaultRetryTimeoutMillis(r,l)),t.next=7,Jn(o);case 7:return t.abrupt("return",this.makeRequest(e,r-1));case 8:case"end":return t.stop()}}),t,this)}))),function(t,r,n){return e.apply(this,arguments)})},{key:"calculateDefaultRetryTimeoutMillis",value:function(t,e){var r=e-t;return Math.min(.5*Math.pow(2,r),8)*(1-.25*Math.random())*1e3}},{key:"getUserAgent",value:function(){return"".concat(this.constructor.name,"/JS ").concat(oe)}}]),t}(),Mn=function(t){function e(t,r,n,o){fn(this,e),Ln.set(this,void 0),function(t,e,r,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===n?o.call(t,r):o?o.value=r:e.set(t,r)}(this,Ln,t,"f"),this.options=o,this.response=r,this.body=n}var r;return hn(e,[{key:"hasNextPage",value:function(){return!!this.getPaginatedItems().length&&null!=this.nextPageInfo()}},{key:"getNextPage",value:(r=kn(ln().mark((function t(){var e,r,n,o,i,a,c,u;return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.nextPageInfo()){t.next=3;break}throw new qe("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");case 3:if(r=an({},this.options),"params"in e&&"object"===On(r.query))r.query=an(an({},r.query),e.params);else if("url"in e){n=[].concat(nn(Object.entries(r.query||{})),nn(e.url.searchParams.entries())),o=en(n);try{for(o.s();!(i=o.n()).done;)a=cn(i.value,2),c=a[0],u=a[1],e.url.searchParams.set(c,u)}catch(t){o.e(t)}finally{o.f()}r.query=void 0,r.path=e.url.toString()}return t.next=7,Tn(this,Ln,"f").requestAPIList(this.constructor,r);case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"iterPages",value:function(){var t=this;return Pn(ln().mark((function e(){var r;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,r;case 3:if(!r.hasNextPage()){e.next=11;break}return e.next=6,Sn(r.getNextPage());case 6:return r=e.sent,e.next=9,r;case 9:e.next=3;break;case 11:case"end":return e.stop()}}),e)})))()}},{key:t,value:function(){var t=this;return Pn(ln().mark((function e(){var r,n,o,i,a,c,u,s,l;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=!1,n=!1,e.prev=2,i=jn(t.iterPages());case 4:return e.next=6,Sn(i.next());case 6:if(!(r=!(a=e.sent).done)){e.next=28;break}c=a.value,u=en(c.getPaginatedItems()),e.prev=9,u.s();case 11:if((s=u.n()).done){e.next=17;break}return l=s.value,e.next=15,l;case 15:e.next=11;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(9),u.e(e.t0);case 22:return e.prev=22,u.f(),e.finish(22);case 25:r=!1,e.next=4;break;case 28:e.next=34;break;case 30:e.prev=30,e.t1=e.catch(2),n=!0,o=e.t1;case 34:if(e.prev=34,e.prev=35,!r||null==i.return){e.next=39;break}return e.next=39,Sn(i.return());case 39:if(e.prev=39,!n){e.next=42;break}throw o;case 42:return e.finish(39);case 43:return e.finish(34);case 44:case"end":return e.stop()}}),e,null,[[2,30,34,44],[9,19,22,25],[35,,39,43]])})))()}}]),e}((Ln=new WeakMap,Symbol.asyncIterator)),Bn=function(t,e){dn(n,t);var r=vn(n);function n(t,e,o){return fn(this,n),r.call(this,e,function(){var e=kn(ln().mark((function e(r){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o,e.t1=t,e.t2=r.response,e.next=5,Rn(r);case 5:return e.t3=e.sent,e.t4=r.options,e.abrupt("return",new e.t0(e.t1,e.t2,e.t3,e.t4));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}return hn(n,[{key:e,value:function(){var t=this;return Pn(ln().mark((function e(){var r,n,o,i,a,c,u;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sn(t);case 2:r=e.sent,n=!1,o=!1,e.prev=5,a=jn(r);case 7:return e.next=9,Sn(a.next());case 9:if(!(n=!(c=e.sent).done)){e.next=16;break}return u=c.value,e.next=13,u;case 13:n=!1,e.next=7;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(5),o=!0,i=e.t0;case 22:if(e.prev=22,e.prev=23,!n||null==a.return){e.next=27;break}return e.next=27,Sn(a.return());case 27:if(e.prev=27,!o){e.next=30;break}throw i;case 30:return e.finish(27);case 31:return e.finish(22);case 32:case"end":return e.stop()}}),e,null,[[5,18,22,32],[23,,27,31]])})))()}}]),n}(Fn,Symbol.asyncIterator),Gn=function(t){return new Proxy(Object.fromEntries(t.entries()),{get:function(t,e){var r=e.toString();return t[r.toLowerCase()]||t[r]}})},zn={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},Un=function(t){return"object"===On(t)&&null!==t&&!to(t)&&Object.keys(t).every((function(t){return eo(zn,t)}))},Hn=function(t){return"x32"===t?"x32":"x86_64"===t||"x64"===t?"x64":"arm"===t?"arm":"aarch64"===t||"arm64"===t?"arm64":t?"other:".concat(t):"unknown"},Vn=function(t){return(t=t.toLowerCase()).includes("ios")?"iOS":"android"===t?"Android":"darwin"===t?"MacOS":"win32"===t?"Windows":"freebsd"===t?"FreeBSD":"openbsd"===t?"OpenBSD":"linux"===t?"Linux":t?"Other:".concat(t):"Unknown"},$n=function(){var t;return null!==(t=Nn)&&void 0!==t?t:Nn=function(){var t,e;if("undefined"!=typeof Deno&&null!=Deno.build)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":oe,"X-Stainless-OS":Vn(Deno.build.os),"X-Stainless-Arch":Hn(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"==typeof Deno.version?Deno.version:null!==(t=null===(e=Deno.version)||void 0===e?void 0:e.deno)&&void 0!==t?t:"unknown"};if("undefined"!=typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":oe,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"other:".concat(EdgeRuntime),"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if("[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0))return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":oe,"X-Stainless-OS":Vn(process.platform),"X-Stainless-Arch":Hn(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};var r=function(){if("undefined"==typeof navigator||!navigator)return null;for(var t=0,e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];t<e.length;t++){var r=e[t],n=r.key,o=r.pattern.exec(navigator.userAgent);if(o){var i=o[1]||0,a=o[2]||0,c=o[3]||0;return{browser:n,version:"".concat(i,".").concat(a,".").concat(c)}}}return null}();return r?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":oe,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"browser:".concat(r.browser),"X-Stainless-Runtime-Version":r.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":oe,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}}()},Kn=function(t){try{return JSON.parse(t)}catch(t){return}},Wn=/^[a-z][a-z0-9+.-]*:/i,Yn=function(t){return Wn.test(t)},Jn=function(t){return new Promise((function(e){return setTimeout(e,t)}))},Zn=function(t,e){if("number"!=typeof e||!Number.isInteger(e))throw new qe("".concat(t," must be an integer"));if(e<0)throw new qe("".concat(t," must be a positive integer"));return e},Xn=function(t){if(t instanceof Error)return t;if("object"===On(t)&&null!==t)try{return new Error(JSON.stringify(t))}catch(t){}return new Error(t)},Qn=function(t){var e,r,n,o;return"undefined"!=typeof process?null!==(e=null===(r=process.env)||void 0===r||null===(r=r[t])||void 0===r?void 0:r.trim())&&void 0!==e?e:void 0:"undefined"!=typeof Deno?null===(n=Deno.env)||void 0===n||null===(o=n.get)||void 0===o||null===(o=o.call(n,t))||void 0===o?void 0:o.trim():void 0};function to(t){if(!t)return!0;for(var e in t)return!1;return!0}function eo(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ro(t,e){for(var r in e)if(eo(e,r)){var n=r.toLowerCase();if(n){var o=e[r];null===o?delete t[n]:void 0!==o&&(t[n]=o)}}}function no(t){var e;if("undefined"!=typeof process&&"true"===(null===(e=process)||void 0===e||null===(e=e.env)||void 0===e?void 0:e.DEBUG)){for(var r,n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];(r=console).log.apply(r,["OpenAI:DEBUG:".concat(t)].concat(o))}}var oo=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))},io=function(t,e){var r=e.toLowerCase();if(function(t){return"function"==typeof(null==t?void 0:t.get)}(t))for(var n,o=(null===(n=e[0])||void 0===n?void 0:n.toUpperCase())+e.substring(1).replace(/([^\w])(\w)/g,(function(t,e,r){return e+r.toUpperCase()})),i=0,a=[e,r,e.toUpperCase(),o];i<a.length;i++){var c=a[i],u=t.get(c);if(u)return u}for(var s=0,l=Object.entries(t);s<l.length;s++){var f=cn(l[s],2),p=f[0],h=f[1];if(p.toLowerCase()===r)return Array.isArray(h)?(h.length<=1||console.warn("Received ".concat(h.length," entries for the ").concat(e," header, using the first entry.")),h[0]):h}};function ao(t){return null!=t&&"object"===On(t)&&!Array.isArray(t)}function co(t){return co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},co(t)}function uo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==co(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==co(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===co(o)?o:String(o)),n)}var o}function so(t,e,r){return e&&uo(t.prototype,e),r&&uo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var lo=so((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._client=e}));function fo(t){return fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fo(t)}function po(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ho(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?po(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=vo(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):po(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function yo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vo(n.key),n)}}function vo(t){var e=function(t,e){if("object"!==fo(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==fo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===fo(e)?e:String(e)}function bo(t,e){return bo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},bo(t,e)}function mo(t){return mo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mo(t)}var go=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bo(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=mo(n);if(o){var r=mo(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===fo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:"create",value:function(t,e){var r;return this._client.post("/completions",ho(ho({body:t},e),{},{stream:null!==(r=t.stream)&&void 0!==r&&r}))}}])&&yo(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(lo);function wo(t){return wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wo(t)}function _o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Oo(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_o(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=ko(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function xo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ko(n.key),n)}}function ko(t){var e=function(t,e){if("object"!==wo(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==wo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===wo(e)?e:String(e)}function jo(t,e){return jo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},jo(t,e)}function Eo(t){return Eo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Eo(t)}var So=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jo(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Eo(n);if(o){var r=Eo(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===wo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:"create",value:function(t,e){var r;return this._client.post("/chat/completions",Oo(Oo({body:t},e),{},{stream:null!==(r=t.stream)&&void 0!==r&&r}))}}])&&xo(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(lo);function Po(t){return Po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Po(t)}function Co(t,e){return Co=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Co(t,e)}function Ao(t){return Ao=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ao(t)}var Lo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Co(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ao(r);if(n){var o=Ao(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Po(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.apply(this,arguments)).completions=new So(t._client),t}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(lo);function To(t){return To="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},To(t)}function Ro(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Do(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Io(n.key),n)}}function Io(t){var e=function(t,e){if("object"!==To(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==To(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===To(e)?e:String(e)}function No(t,e){return No=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},No(t,e)}function Fo(t){return Fo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Fo(t)}Lo.Completions=So;var qo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&No(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Fo(n);if(o){var r=Fo(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===To(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,r=[{key:"create",value:function(t,e){return this._client.post("/embeddings",function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ro(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=Io(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ro(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({body:t},e))}}],r&&Do(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(lo);function Mo(t){return Mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mo(t)}function Bo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Go(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Mo(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Mo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Mo(o)?o:String(o)),n)}var o}function zo(t,e,r){return e&&Go(t.prototype,e),r&&Go(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uo(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ho(t,e)}function Ho(t,e){return Ho=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ho(t,e)}function Vo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=$o(t);if(e){var o=$o(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Mo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function $o(t){return $o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$o(t)}var Ko=function(t){Uo(r,t);var e=Vo(r);function r(t,n,o,i){var a;return Bo(this,r),(a=e.call(this,t,n,o,i)).data=o.data||[],a.object=o.object,a}return zo(r,[{key:"getPaginatedItems",value:function(){var t;return null!==(t=this.data)&&void 0!==t?t:[]}},{key:"nextPageParams",value:function(){return null}},{key:"nextPageInfo",value:function(){return null}}]),r}(Mn),Wo=function(t){Uo(r,t);var e=Vo(r);function r(t,n,o,i){var a;return Bo(this,r),(a=e.call(this,t,n,o,i)).data=o.data||[],a}return zo(r,[{key:"getPaginatedItems",value:function(){var t;return null!==(t=this.data)&&void 0!==t?t:[]}},{key:"nextPageParams",value:function(){var t=this.nextPageInfo();if(!t)return null;if("params"in t)return t.params;var e=Object.fromEntries(t.url.searchParams);return Object.keys(e).length?e:null}},{key:"nextPageInfo",value:function(){var t,e=this.getPaginatedItems();if(!e.length)return null;var r=null===(t=e[e.length-1])||void 0===t?void 0:t.id;return r?{params:{after:r}}:null}}]),r}(Mn);function Yo(t){return Yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yo(t)}function Jo(){Jo=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),c=new A(n||[]);return o(a,"_invoke",{value:E(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",v={};function b(){}function m(){}function g(){}var w={};s(w,a,(function(){return this}));var _=Object.getPrototypeOf,O=_&&_(_(L([])));O&&O!==r&&n.call(O,a)&&(w=O);var x=g.prototype=b.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==Yo(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function E(e,r,n){var o=p;return function(i,a){if(o===y)throw new Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=S(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?d:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=d,n.method="throw",n.arg=s.arg)}}}function S(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,S(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function L(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Yo(e)+" is not iterable")}return m.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:m,configurable:!0}),m.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},k(j.prototype),s(j.prototype,c,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new j(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=L,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:L(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Zo(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function Xo(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Qo(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Xo(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=ni(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xo(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ti(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ei(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ni(n.key),n)}}function ri(t,e,r){return e&&ei(t.prototype,e),r&&ei(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ni(t){var e=function(t,e){if("object"!==Yo(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Yo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Yo(e)?e:String(e)}function oi(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ii(t,e)}function ii(t,e){return ii=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ii(t,e)}function ai(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ci(t);if(e){var o=ci(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Yo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function ci(t){return ci=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ci(t)}var ui=function(t){oi(o,t);var e,r,n=ai(o);function o(){return ti(this,o),n.apply(this,arguments)}return ri(o,[{key:"create",value:function(t,e){return this._client.post("/files",Zr(Qo({body:t},e)))}},{key:"retrieve",value:function(t,e){return this._client.get("/files/".concat(t),e)}},{key:"list",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return Un(t)?this.list({},t):this._client.getAPIList("/files",si,Qo({query:t},e))}},{key:"del",value:function(t,e){return this._client.delete("/files/".concat(t),e)}},{key:"content",value:function(t,e){return this._client.get("/files/".concat(t,"/content"),Qo(Qo({},e),{},{__binaryResponse:!0}))}},{key:"retrieveContent",value:function(t,e){return this._client.get("/files/".concat(t,"/content"),Qo(Qo({},e),{},{headers:Qo({Accept:"application/json"},null==e?void 0:e.headers)}))}},{key:"waitForProcessing",value:(e=Jo().mark((function t(e){var r,n,o,i,a,c,u,s,l=arguments;return Jo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(r=l.length>1&&void 0!==l[1]?l[1]:{}).pollInterval,o=void 0===n?5e3:n,i=r.maxWait,a=void 0===i?18e5:i,c=new Set(["processed","error","deleted"]),u=Date.now(),t.next=5,this.retrieve(e);case 5:s=t.sent;case 6:if(s.status&&c.has(s.status)){t.next=16;break}return t.next=9,Jn(o);case 9:return t.next=11,this.retrieve(e);case 11:if(s=t.sent,!(Date.now()-u>a)){t.next=14;break}throw new ze({message:"Giving up on waiting for file ".concat(e," to finish processing after ").concat(a," milliseconds.")});case 14:t.next=6;break;case 16:return t.abrupt("return",s);case 17:case"end":return t.stop()}}),t,this)})),r=function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(t){Zo(i,n,o,a,c,"next",t)}function c(t){Zo(i,n,o,a,c,"throw",t)}a(void 0)}))},function(t){return r.apply(this,arguments)})}]),o}(lo),si=function(t){oi(r,t);var e=ai(r);function r(){return ti(this,r),e.apply(this,arguments)}return ri(r)}(Wo);function li(t){return li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},li(t)}function fi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function pi(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?fi(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=yi(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fi(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function hi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yi(n.key),n)}}function yi(t){var e=function(t,e){if("object"!==li(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==li(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===li(e)?e:String(e)}function di(t,e){return di=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},di(t,e)}function vi(t){return vi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vi(t)}ui.FileObjectsPage=si;var bi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&di(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=vi(n);if(o){var r=vi(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===li(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:"createVariation",value:function(t,e){return this._client.post("/images/variations",Zr(pi({body:t},e)))}},{key:"edit",value:function(t,e){return this._client.post("/images/edits",Zr(pi({body:t},e)))}},{key:"generate",value:function(t,e){return this._client.post("/images/generations",pi({body:t},e))}}])&&hi(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(lo);function mi(t){return mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mi(t)}function gi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function wi(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?gi(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=Oi(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gi(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function _i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Oi(n.key),n)}}function Oi(t){var e=function(t,e){if("object"!==mi(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==mi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===mi(e)?e:String(e)}function xi(t,e){return xi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},xi(t,e)}function ki(t){return ki=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ki(t)}var ji=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xi(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ki(n);if(o){var r=ki(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===mi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:"create",value:function(t,e){return this._client.post("/audio/speech",wi(wi({body:t},e),{},{__binaryResponse:!0}))}}])&&_i(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(lo);function Ei(t){return Ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ei(t)}function Si(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Pi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ci(n.key),n)}}function Ci(t){var e=function(t,e){if("object"!==Ei(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Ei(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Ei(e)?e:String(e)}function Ai(t,e){return Ai=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ai(t,e)}function Li(t){return Li=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Li(t)}var Ti=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ai(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Li(n);if(o){var r=Li(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ei(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,r=[{key:"create",value:function(t,e){return this._client.post("/audio/transcriptions",Zr(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Si(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=Ci(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Si(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({body:t},e)))}}],r&&Pi(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(lo);function Ri(t){return Ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ri(t)}function Di(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ii(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ni(n.key),n)}}function Ni(t){var e=function(t,e){if("object"!==Ri(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Ri(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Ri(e)?e:String(e)}function Fi(t,e){return Fi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Fi(t,e)}function qi(t){return qi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qi(t)}var Mi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fi(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=qi(n);if(o){var r=qi(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ri(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,r=[{key:"create",value:function(t,e){return this._client.post("/audio/translations",Zr(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Di(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=Ni(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Di(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({body:t},e)))}}],r&&Ii(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(lo);function Bi(t){return Bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bi(t)}function Gi(t,e){return Gi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Gi(t,e)}function zi(t){return zi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},zi(t)}var Ui=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gi(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=zi(r);if(n){var o=zi(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Bi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.apply(this,arguments)).transcriptions=new Ti(t._client),t.translations=new Mi(t._client),t.speech=new ji(t._client),t}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(lo);function Hi(t){return Hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hi(t)}function Vi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function $i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ki(n.key),n)}}function Ki(t){var e=function(t,e){if("object"!==Hi(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Hi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Hi(e)?e:String(e)}function Wi(t,e){return Wi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Wi(t,e)}function Yi(t){return Yi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Yi(t)}Ui.Transcriptions=Ti,Ui.Translations=Mi,Ui.Speech=ji;var Ji=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wi(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Yi(n);if(o){var r=Yi(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Hi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,r=[{key:"create",value:function(t,e){return this._client.post("/moderations",function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Vi(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=Ki(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Vi(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({body:t},e))}}],r&&$i(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(lo);function Zi(t){return Zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zi(t)}function Xi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Zi(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Zi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Zi(o)?o:String(o)),n)}var o}function ta(t,e,r){return e&&Qi(t.prototype,e),r&&Qi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ea(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ra(t,e)}function ra(t,e){return ra=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ra(t,e)}function na(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=oa(t);if(e){var o=oa(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Zi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function oa(t){return oa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},oa(t)}var ia=function(t){ea(r,t);var e=na(r);function r(){return Xi(this,r),e.apply(this,arguments)}return ta(r,[{key:"retrieve",value:function(t,e){return this._client.get("/models/".concat(t),e)}},{key:"list",value:function(t){return this._client.getAPIList("/models",aa,t)}},{key:"del",value:function(t,e){return this._client.delete("/models/".concat(t),e)}}]),r}(lo),aa=function(t){ea(r,t);var e=na(r);function r(){return Xi(this,r),e.apply(this,arguments)}return ta(r)}(Ko);function ca(t){return ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ca(t)}function ua(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function sa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function la(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pa(n.key),n)}}function fa(t,e,r){return e&&la(t.prototype,e),r&&la(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function pa(t){var e=function(t,e){if("object"!==ca(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==ca(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===ca(e)?e:String(e)}function ha(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ya(t,e)}function ya(t,e){return ya=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ya(t,e)}function da(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=va(t);if(e){var o=va(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===ca(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function va(t){return va=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},va(t)}ia.ModelsPage=aa;var ba=function(t){ha(r,t);var e=da(r);function r(){return sa(this,r),e.apply(this,arguments)}return fa(r,[{key:"list",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return Un(e)?this.list(t,{},e):this._client.getAPIList("/fine_tuning/jobs/".concat(t,"/checkpoints"),ma,function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ua(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=pa(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ua(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({query:e},r))}}]),r}(lo),ma=function(t){ha(r,t);var e=da(r);function r(){return sa(this,r),e.apply(this,arguments)}return fa(r)}(Wo);function ga(t){return ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ga(t)}function wa(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function _a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?wa(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=ja(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wa(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Oa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xa(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ja(n.key),n)}}function ka(t,e,r){return e&&xa(t.prototype,e),r&&xa(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ja(t){var e=function(t,e){if("object"!==ga(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==ga(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===ga(e)?e:String(e)}function Ea(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sa(t,e)}function Sa(t,e){return Sa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Sa(t,e)}function Pa(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Ca(t);if(e){var o=Ca(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===ga(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Ca(t){return Ca=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ca(t)}ba.FineTuningJobCheckpointsPage=ma;var Aa=function(t){Ea(r,t);var e=Pa(r);function r(){var t;return Oa(this,r),(t=e.apply(this,arguments)).checkpoints=new ba(t._client),t}return ka(r,[{key:"create",value:function(t,e){return this._client.post("/fine_tuning/jobs",_a({body:t},e))}},{key:"retrieve",value:function(t,e){return this._client.get("/fine_tuning/jobs/".concat(t),e)}},{key:"list",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return Un(t)?this.list({},t):this._client.getAPIList("/fine_tuning/jobs",La,_a({query:t},e))}},{key:"cancel",value:function(t,e){return this._client.post("/fine_tuning/jobs/".concat(t,"/cancel"),e)}},{key:"listEvents",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return Un(e)?this.listEvents(t,{},e):this._client.getAPIList("/fine_tuning/jobs/".concat(t,"/events"),Ta,_a({query:e},r))}}]),r}(lo),La=function(t){Ea(r,t);var e=Pa(r);function r(){return Oa(this,r),e.apply(this,arguments)}return ka(r)}(Wo),Ta=function(t){Ea(r,t);var e=Pa(r);function r(){return Oa(this,r),e.apply(this,arguments)}return ka(r)}(Wo);function Ra(t){return Ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ra(t)}function Da(t,e){return Da=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Da(t,e)}function Ia(t){return Ia=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ia(t)}Aa.FineTuningJobsPage=La,Aa.FineTuningJobEventsPage=Ta,Aa.Checkpoints=ba,Aa.FineTuningJobCheckpointsPage=ma;var Na=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Da(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ia(r);if(n){var o=Ia(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ra(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.apply(this,arguments)).jobs=new Aa(t._client),t}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(lo);function Fa(t){return Fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fa(t)}function qa(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ma(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?qa(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=Ua(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qa(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ba(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ga(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ua(n.key),n)}}function za(t,e,r){return e&&Ga(t.prototype,e),r&&Ga(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ua(t){var e=function(t,e){if("object"!==Fa(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Fa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Fa(e)?e:String(e)}function Ha(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Va(t,e)}function Va(t,e){return Va=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Va(t,e)}function $a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Ka(t);if(e){var o=Ka(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Fa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Ka(t){return Ka=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ka(t)}Na.Jobs=Aa,Na.FineTuningJobsPage=La,Na.FineTuningJobEventsPage=Ta;var Wa=function(t){Ha(r,t);var e=$a(r);function r(){return Ba(this,r),e.apply(this,arguments)}return za(r,[{key:"create",value:function(t,e){return this._client.post("/assistants",Ma(Ma({body:t},e),{},{headers:Ma({"OpenAI-Beta":"assistants=v2"},null==e?void 0:e.headers)}))}},{key:"retrieve",value:function(t,e){return this._client.get("/assistants/".concat(t),Ma(Ma({},e),{},{headers:Ma({"OpenAI-Beta":"assistants=v2"},null==e?void 0:e.headers)}))}},{key:"update",value:function(t,e,r){return this._client.post("/assistants/".concat(t),Ma(Ma({body:e},r),{},{headers:Ma({"OpenAI-Beta":"assistants=v2"},null==r?void 0:r.headers)}))}},{key:"list",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return Un(t)?this.list({},t):this._client.getAPIList("/assistants",Ya,Ma(Ma({query:t},e),{},{headers:Ma({"OpenAI-Beta":"assistants=v2"},null==e?void 0:e.headers)}))}},{key:"del",value:function(t,e){return this._client.delete("/assistants/".concat(t),Ma(Ma({},e),{},{headers:Ma({"OpenAI-Beta":"assistants=v2"},null==e?void 0:e.headers)}))}}]),r}(lo),Ya=function(t){Ha(r,t);var e=$a(r);function r(){return Ba(this,r),e.apply(this,arguments)}return za(r)}(Wo);function Ja(t){return"function"==typeof t.parse}Wa.AssistantsPage=Ya;var Za=function(t){return"assistant"===(null==t?void 0:t.role)},Xa=function(t){return"function"===(null==t?void 0:t.role)},Qa=function(t){return"tool"===(null==t?void 0:t.role)};function tc(t){return tc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tc(t)}function ec(){ec=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),c=new A(n||[]);return o(a,"_invoke",{value:E(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",v={};function b(){}function m(){}function g(){}var w={};s(w,a,(function(){return this}));var _=Object.getPrototypeOf,O=_&&_(_(L([])));O&&O!==r&&n.call(O,a)&&(w=O);var x=g.prototype=b.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==tc(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function E(e,r,n){var o=p;return function(i,a){if(o===y)throw new Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=S(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?d:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=d,n.method="throw",n.arg=s.arg)}}}function S(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,S(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function L(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(tc(e)+" is not iterable")}return m.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:m,configurable:!0}),m.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},k(j.prototype),s(j.prototype,c,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new j(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=L,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:L(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function rc(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function nc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==tc(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==tc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===tc(o)?o:String(o)),n)}var o}var oc,ic,ac,cc,uc,sc,lc,fc,pc,hc,yc,dc,vc,bc=function(t,e,r,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(t,r):o?o.value=r:e.set(t,r),r},mc=function(t,e,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)},gc=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),oc.add(this),this.controller=new AbortController,ic.set(this,void 0),ac.set(this,(function(){})),cc.set(this,(function(){})),uc.set(this,void 0),sc.set(this,(function(){})),lc.set(this,(function(){})),fc.set(this,{}),pc.set(this,!1),hc.set(this,!1),yc.set(this,!1),dc.set(this,!1),bc(this,ic,new Promise((function(t,r){bc(e,ac,t,"f"),bc(e,cc,r,"f")})),"f"),bc(this,uc,new Promise((function(t,r){bc(e,sc,t,"f"),bc(e,lc,r,"f")})),"f"),mc(this,ic,"f").catch((function(){})),mc(this,uc,"f").catch((function(){}))}var e,r,n,o;return e=t,r=[{key:"_run",value:function(t){var e=this;setTimeout((function(){t().then((function(){e._emitFinal(),e._emit("end")}),mc(e,oc,"m",vc).bind(e))}),0)}},{key:"_connected",value:function(){this.ended||(mc(this,ac,"f").call(this),this._emit("connect"))}},{key:"ended",get:function(){return mc(this,pc,"f")}},{key:"errored",get:function(){return mc(this,hc,"f")}},{key:"aborted",get:function(){return mc(this,yc,"f")}},{key:"abort",value:function(){this.controller.abort()}},{key:"on",value:function(t,e){return(mc(this,fc,"f")[t]||(mc(this,fc,"f")[t]=[])).push({listener:e}),this}},{key:"off",value:function(t,e){var r=mc(this,fc,"f")[t];if(!r)return this;var n=r.findIndex((function(t){return t.listener===e}));return n>=0&&r.splice(n,1),this}},{key:"once",value:function(t,e){return(mc(this,fc,"f")[t]||(mc(this,fc,"f")[t]=[])).push({listener:e,once:!0}),this}},{key:"emitted",value:function(t){var e=this;return new Promise((function(r,n){bc(e,dc,!0,"f"),"error"!==t&&e.once("error",n),e.once(t,r)}))}},{key:"done",value:(n=ec().mark((function t(){return ec().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return bc(this,dc,!0,"f"),t.next=3,mc(this,uc,"f");case 3:case"end":return t.stop()}}),t,this)})),o=function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function a(t){rc(i,r,o,a,c,"next",t)}function c(t){rc(i,r,o,a,c,"throw",t)}a(void 0)}))},function(){return o.apply(this,arguments)})},{key:"_emit",value:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];if(!mc(this,pc,"f")){"end"===t&&(bc(this,pc,!0,"f"),mc(this,sc,"f").call(this));var o=mc(this,fc,"f")[t];if(o&&(mc(this,fc,"f")[t]=o.filter((function(t){return!t.once})),o.forEach((function(t){return t.listener.apply(void 0,r)}))),"abort"===t){var i=r[0];return mc(this,dc,"f")||null!=o&&o.length||Promise.reject(i),mc(this,cc,"f").call(this,i),mc(this,lc,"f").call(this,i),void this._emit("end")}if("error"===t){var a=r[0];mc(this,dc,"f")||null!=o&&o.length||Promise.reject(a),mc(this,cc,"f").call(this,a),mc(this,lc,"f").call(this,a),this._emit("end")}}}},{key:"_emitFinal",value:function(){}}],r&&nc(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function wc(t){return wc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wc(t)}function _c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Oc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function xc(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Oc(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=function(t){var e=function(t,e){if("object"!==wc(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==wc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===wc(e)?e:String(e)}(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Oc(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function kc(t){return"auto-parseable-response-format"===(null==t?void 0:t.$brand)}function jc(t){return"auto-parseable-tool"===(null==t?void 0:t.$brand)}function Ec(t,e){var r=t.choices.map((function(t){var r,n;if("length"===t.finish_reason)throw new Ze;if("content_filter"===t.finish_reason)throw new Xe;return xc(xc({},t),{},{message:xc(xc({},t.message),{},{tool_calls:null!==(r=null===(n=t.message.tool_calls)||void 0===n?void 0:n.map((function(t){return function(t,e){var r,n=null===(r=t.tools)||void 0===r?void 0:r.find((function(t){var r;return(null===(r=t.function)||void 0===r?void 0:r.name)===e.function.name}));return xc(xc({},e),{},{function:xc(xc({},e.function),{},{parsed_arguments:jc(n)?n.$parseRaw(e.function.arguments):null!=n&&n.function.strict?JSON.parse(e.function.arguments):null})})}(e,t)})))&&void 0!==r?r:[],parsed:t.message.content&&!t.message.refusal?Sc(e,t.message.content):null})})}));return xc(xc({},t),{},{choices:r})}function Sc(t,e){var r,n;return"json_schema"!==(null===(r=t.response_format)||void 0===r?void 0:r.type)?null:"json_schema"===(null===(n=t.response_format)||void 0===n?void 0:n.type)?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function Pc(t,e){var r;if(!t)return!1;var n=null===(r=t.tools)||void 0===r?void 0:r.find((function(t){var r;return(null===(r=t.function)||void 0===r?void 0:r.name)===e.function.name}));return jc(n)||(null==n?void 0:n.function.strict)||!1}function Cc(t){var e,r;return!!kc(t.response_format)||null!==(e=null===(r=t.tools)||void 0===r?void 0:r.some((function(t){return jc(t)||"function"===t.type&&!0===t.function.strict})))&&void 0!==e&&e}function Ac(t){return Ac="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ac(t)}ic=new WeakMap,ac=new WeakMap,cc=new WeakMap,uc=new WeakMap,sc=new WeakMap,lc=new WeakMap,fc=new WeakMap,pc=new WeakMap,hc=new WeakMap,yc=new WeakMap,dc=new WeakMap,oc=new WeakSet,vc=function(t){if(bc(this,hc,!0,"f"),t instanceof Error&&"AbortError"===t.name&&(t=new Be),t instanceof Be)return bc(this,yc,!0,"f"),this._emit("abort",t);if(t instanceof qe)return this._emit("error",t);if(t instanceof Error){var e=new qe(t.message);return e.cause=t,this._emit("error",e)}return this._emit("error",new qe(String(t)))};var Lc=["function_call","stream"],Tc=["tool_choice","stream"],Rc=["function_call"];function Dc(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function Ic(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Nc(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ic(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=Vc(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ic(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Fc(t){return function(t){if(Array.isArray(t))return Uc(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||zc(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qc(){qc=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),c=new A(n||[]);return o(a,"_invoke",{value:E(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",v={};function b(){}function m(){}function g(){}var w={};s(w,a,(function(){return this}));var _=Object.getPrototypeOf,O=_&&_(_(L([])));O&&O!==r&&n.call(O,a)&&(w=O);var x=g.prototype=b.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==Ac(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function E(e,r,n){var o=p;return function(i,a){if(o===y)throw new Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=S(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?d:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=d,n.method="throw",n.arg=s.arg)}}}function S(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,S(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function L(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Ac(e)+" is not iterable")}return m.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:m,configurable:!0}),m.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},k(j.prototype),s(j.prototype,c,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new j(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=L,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:L(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Mc(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function Bc(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Mc(i,n,o,a,c,"next",t)}function c(t){Mc(i,n,o,a,c,"throw",t)}a(void 0)}))}}function Gc(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=zc(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function zc(t,e){if(t){if("string"==typeof t)return Uc(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Uc(t,e):void 0}}function Uc(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Hc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Vc(n.key),n)}}function Vc(t){var e=function(t,e){if("object"!==Ac(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Ac(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Ac(e)?e:String(e)}function $c(t,e){return $c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$c(t,e)}function Kc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wc(t){return Wc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wc(t)}var Yc,Jc,Zc,Xc,Qc,tu,eu,ru,nu=function(t,e,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)},ou=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$c(t,e)}(v,t);var e,r,n,o,i,a,c,u,s,l,f,p,h,y,d=(h=v,y=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Wc(h);if(y){var r=Wc(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ac(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Kc(t)}(this,t)});function v(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,v),t=d.apply(this,arguments),Yc.add(Kc(t)),t._chatCompletions=[],t.messages=[],t}return e=v,r=[{key:"_addChatCompletion",value:function(t){var e;this._chatCompletions.push(t),this._emit("chatCompletion",t);var r=null===(e=t.choices[0])||void 0===e?void 0:e.message;return r&&this._addMessage(r),t}},{key:"_addMessage",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("content"in t||(t.content=null),this.messages.push(t),e)if(this._emit("message",t),(Xa(t)||Qa(t))&&t.content)this._emit("functionCallResult",t.content);else if(Za(t)&&t.function_call)this._emit("functionCall",t.function_call);else if(Za(t)&&t.tool_calls){var r,n=Gc(t.tool_calls);try{for(n.s();!(r=n.n()).done;){var o=r.value;"function"===o.type&&this._emit("functionCall",o.function)}}catch(t){n.e(t)}finally{n.f()}}}},{key:"finalChatCompletion",value:(p=Bc(qc().mark((function t(){var e;return qc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.done();case 2:if(e=this._chatCompletions[this._chatCompletions.length-1]){t.next=5;break}throw new qe("stream ended without producing a ChatCompletion");case 5:return t.abrupt("return",e);case 6:case"end":return t.stop()}}),t,this)}))),function(){return p.apply(this,arguments)})},{key:"finalContent",value:(f=Bc(qc().mark((function t(){return qc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.done();case 2:return t.abrupt("return",nu(this,Yc,"m",Jc).call(this));case 3:case"end":return t.stop()}}),t,this)}))),function(){return f.apply(this,arguments)})},{key:"finalMessage",value:(l=Bc(qc().mark((function t(){return qc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.done();case 2:return t.abrupt("return",nu(this,Yc,"m",Zc).call(this));case 3:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"finalFunctionCall",value:(s=Bc(qc().mark((function t(){return qc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.done();case 2:return t.abrupt("return",nu(this,Yc,"m",Xc).call(this));case 3:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"finalFunctionCallResult",value:(u=Bc(qc().mark((function t(){return qc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.done();case 2:return t.abrupt("return",nu(this,Yc,"m",Qc).call(this));case 3:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"totalUsage",value:(c=Bc(qc().mark((function t(){return qc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.done();case 2:return t.abrupt("return",nu(this,Yc,"m",tu).call(this));case 3:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"allChatCompletions",value:function(){return Fc(this._chatCompletions)}},{key:"_emitFinal",value:function(){var t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);var e=nu(this,Yc,"m",Zc).call(this);e&&this._emit("finalMessage",e);var r=nu(this,Yc,"m",Jc).call(this);r&&this._emit("finalContent",r);var n=nu(this,Yc,"m",Xc).call(this);n&&this._emit("finalFunctionCall",n);var o=nu(this,Yc,"m",Qc).call(this);null!=o&&this._emit("finalFunctionCallResult",o),this._chatCompletions.some((function(t){return t.usage}))&&this._emit("totalUsage",nu(this,Yc,"m",tu).call(this))}},{key:"_createChatCompletion",value:(a=Bc(qc().mark((function t(e,r,n){var o,i,a=this;return qc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(o=null==n?void 0:n.signal)&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",(function(){return a.controller.abort()}))),nu(this,Yc,"m",eu).call(this,r),t.next=5,e.chat.completions.create(Nc(Nc({},r),{},{stream:!1}),Nc(Nc({},n),{},{signal:this.controller.signal}));case 5:return i=t.sent,this._connected(),t.abrupt("return",this._addChatCompletion(Ec(i,r)));case 8:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return a.apply(this,arguments)})},{key:"_runChatCompletion",value:(i=Bc(qc().mark((function t(e,r,n){var o,i,a;return qc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=Gc(r.messages);try{for(o.s();!(i=o.n()).done;)a=i.value,this._addMessage(a,!1)}catch(t){o.e(t)}finally{o.f()}return t.next=4,this._createChatCompletion(e,r,n);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return i.apply(this,arguments)})},{key:"_runFunctions",value:(o=Bc(qc().mark((function t(e,r,n){var o,i,a,c,u,s,l,f,p,h,y,d,v,b,m,g,w,_,O,x,k,j,E,S,P,C,A,L;return qc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o="function",i=r.function_call,a=void 0===i?"auto":i,r.stream,c=Dc(r,Lc),u="string"!=typeof a&&(null==a?void 0:a.name),s=(n||{}).maxChatCompletions,l=void 0===s?10:s,f={},p=Gc(r.functions);try{for(p.s();!(h=p.n()).done;)y=h.value,f[y.name||y.function.name]=y}catch(t){p.e(t)}finally{p.f()}d=r.functions.map((function(t){return{name:t.name||t.function.name,parameters:t.parameters,description:t.description}})),v=Gc(r.messages);try{for(v.s();!(b=v.n()).done;)m=b.value,this._addMessage(m,!1)}catch(t){v.e(t)}finally{v.f()}g=0;case 11:if(!(g<l)){t.next=58;break}return t.next=14,this._createChatCompletion(e,Nc(Nc({},c),{},{function_call:a,functions:d,messages:Fc(this.messages)}),n);case 14:if(_=t.sent,O=null===(w=_.choices[0])||void 0===w?void 0:w.message){t.next=18;break}throw new qe("missing message in ChatCompletion response");case 18:if(O.function_call){t.next=20;break}return t.abrupt("return");case 20:if(x=O.function_call,k=x.name,j=x.arguments,E=f[k]){t.next=28;break}return S="Invalid function_call: ".concat(JSON.stringify(k),". Available options are: ").concat(d.map((function(t){return JSON.stringify(t.name)})).join(", "),". Please try again"),this._addMessage({role:o,name:k,content:S}),t.abrupt("continue",55);case 28:if(!u||u===k){t.next=32;break}return P="Invalid function_call: ".concat(JSON.stringify(k),". ").concat(JSON.stringify(u)," requested. Please try again"),this._addMessage({role:o,name:k,content:P}),t.abrupt("continue",55);case 32:if(C=void 0,t.prev=33,!Ja(E)){t.next=40;break}return t.next=37,E.parse(j);case 37:t.t0=t.sent,t.next=41;break;case 40:t.t0=j;case 41:C=t.t0,t.next=48;break;case 44:return t.prev=44,t.t1=t.catch(33),this._addMessage({role:o,name:k,content:t.t1 instanceof Error?t.t1.message:String(t.t1)}),t.abrupt("continue",55);case 48:return t.next=50,E.function(C,this);case 50:if(A=t.sent,L=nu(this,Yc,"m",ru).call(this,A),this._addMessage({role:o,name:k,content:L}),!u){t.next=55;break}return t.abrupt("return");case 55:++g,t.next=11;break;case 58:case"end":return t.stop()}}),t,this,[[33,44]])}))),function(t,e,r){return o.apply(this,arguments)})},{key:"_runTools",value:(n=Bc(qc().mark((function t(e,r,n){var o,i,a,c,u,s,l,f,p,h,y,d,v,b,m,g,w,_,O,x,k,j,E,S,P,C,A,L,T,R,D,I,N,F,q,M;return qc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i="tool",a=r.tool_choice,c=void 0===a?"auto":a,r.stream,u=Dc(r,Tc),s="string"!=typeof c&&(null==c||null===(o=c.function)||void 0===o?void 0:o.name),l=(n||{}).maxChatCompletions,f=void 0===l?10:l,p=r.tools.map((function(t){if(jc(t)){if(!t.$callback)throw new qe("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:t.$callback,name:t.function.name,description:t.function.description||"",parameters:t.function.parameters,parse:t.$parseRaw,strict:!0}}}return t})),h={},y=Gc(p);try{for(y.s();!(d=y.n()).done;)"function"===(v=d.value).type&&(h[v.function.name||v.function.function.name]=v.function)}catch(t){y.e(t)}finally{y.f()}b="tools"in r?p.map((function(t){return"function"===t.type?{type:"function",function:{name:t.function.name||t.function.function.name,parameters:t.function.parameters,description:t.function.description,strict:t.function.strict}}:t})):void 0,m=Gc(r.messages);try{for(m.s();!(g=m.n()).done;)w=g.value,this._addMessage(w,!1)}catch(t){m.e(t)}finally{m.f()}_=0;case 12:if(!(_<f)){t.next=78;break}return t.next=15,this._createChatCompletion(e,Nc(Nc({},u),{},{tool_choice:c,tools:b,messages:Fc(this.messages)}),n);case 15:if(k=t.sent,j=null===(O=k.choices[0])||void 0===O?void 0:O.message){t.next=19;break}throw new qe("missing message in ChatCompletion response");case 19:if(null!==(x=j.tool_calls)&&void 0!==x&&x.length){t.next=21;break}return t.abrupt("return");case 21:E=Gc(j.tool_calls),t.prev=22,E.s();case 24:if((S=E.n()).done){t.next=67;break}if("function"===(P=S.value).type){t.next=28;break}return t.abrupt("continue",65);case 28:if(C=P.id,A=P.function,L=A.name,T=A.arguments,R=h[L]){t.next=37;break}return D="Invalid tool_call: ".concat(JSON.stringify(L),". Available options are: ").concat(Object.keys(h).map((function(t){return JSON.stringify(t)})).join(", "),". Please try again"),this._addMessage({role:i,tool_call_id:C,content:D}),t.abrupt("continue",65);case 37:if(!s||s===L){t.next=41;break}return I="Invalid tool_call: ".concat(JSON.stringify(L),". ").concat(JSON.stringify(s)," requested. Please try again"),this._addMessage({role:i,tool_call_id:C,content:I}),t.abrupt("continue",65);case 41:if(N=void 0,t.prev=42,!Ja(R)){t.next=49;break}return t.next=46,R.parse(T);case 46:t.t0=t.sent,t.next=50;break;case 49:t.t0=T;case 50:N=t.t0,t.next=58;break;case 53:return t.prev=53,t.t1=t.catch(42),F=t.t1 instanceof Error?t.t1.message:String(t.t1),this._addMessage({role:i,tool_call_id:C,content:F}),t.abrupt("continue",65);case 58:return t.next=60,R.function(N,this);case 60:if(q=t.sent,M=nu(this,Yc,"m",ru).call(this,q),this._addMessage({role:i,tool_call_id:C,content:M}),!s){t.next=65;break}return t.abrupt("return");case 65:t.next=24;break;case 67:t.next=72;break;case 69:t.prev=69,t.t2=t.catch(22),E.e(t.t2);case 72:return t.prev=72,E.f(),t.finish(72);case 75:++_,t.next=12;break;case 78:return t.abrupt("return");case 79:case"end":return t.stop()}}),t,this,[[22,69,72,75],[42,53]])}))),function(t,e,r){return n.apply(this,arguments)})}],r&&Hc(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),v}(gc);function iu(t){return iu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iu(t)}function au(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function cu(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?au(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=su(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):au(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function uu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,su(n.key),n)}}function su(t){var e=function(t,e){if("object"!==iu(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==iu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===iu(e)?e:String(e)}function lu(){return lu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=pu(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},lu.apply(this,arguments)}function fu(t,e){return fu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fu(t,e)}function pu(t){return pu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pu(t)}Yc=new WeakSet,Jc=function(){var t;return null!==(t=nu(this,Yc,"m",Zc).call(this).content)&&void 0!==t?t:null},Zc=function(){for(var t=this.messages.length;t-- >0;){var e=this.messages[t];if(Za(e)){var r,n,o=e.function_call,i=Nc(Nc({},Dc(e,Rc)),{},{content:null!==(r=e.content)&&void 0!==r?r:null,refusal:null!==(n=e.refusal)&&void 0!==n?n:null});return o&&(i.function_call=o),i}}throw new qe("stream ended without producing a ChatCompletionMessage with role=assistant")},Xc=function(){for(var t=this.messages.length-1;t>=0;t--){var e,r,n=this.messages[t];if(Za(n)&&null!=n&&n.function_call)return n.function_call;if(Za(n)&&null!=n&&null!==(e=n.tool_calls)&&void 0!==e&&e.length)return null===(r=n.tool_calls.at(-1))||void 0===r?void 0:r.function}},Qc=function(){for(var t,e=this,r=function(){var t=e.messages[n];return Xa(t)&&null!=t.content||Qa(t)&&null!=t.content&&"string"==typeof t.content&&e.messages.some((function(e){var r;return"assistant"===e.role&&(null===(r=e.tool_calls)||void 0===r?void 0:r.some((function(e){return"function"===e.type&&e.id===t.tool_call_id})))}))?{v:t.content}:void 0},n=this.messages.length-1;n>=0;n--)if(t=r())return t.v},tu=function(){var t,e={completion_tokens:0,prompt_tokens:0,total_tokens:0},r=Gc(this._chatCompletions);try{for(r.s();!(t=r.n()).done;){var n=t.value.usage;n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens)}}catch(t){r.e(t)}finally{r.f()}return e},eu=function(t){if(null!=t.n&&t.n>1)throw new qe("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},ru=function(t){return"string"==typeof t?t:void 0===t?"undefined":JSON.stringify(t)};var hu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fu(t,e)}(c,t);var e,r,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=pu(o);if(i){var r=pu(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===iu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function c(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),a.apply(this,arguments)}return e=c,r=[{key:"_addMessage",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];lu(pu(c.prototype),"_addMessage",this).call(this,t,e),Za(t)&&t.content&&this._emit("content",t.content)}}],n=[{key:"runFunctions",value:function(t,e,r){var n=new c,o=cu(cu({},r),{},{headers:cu(cu({},null==r?void 0:r.headers),{},{"X-Stainless-Helper-Method":"runFunctions"})});return n._run((function(){return n._runFunctions(t,e,o)})),n}},{key:"runTools",value:function(t,e,r){var n=new c,o=cu(cu({},r),{},{headers:cu(cu({},null==r?void 0:r.headers),{},{"X-Stainless-Helper-Method":"runTools"})});return n._run((function(){return n._runTools(t,e,o)})),n}}],r&&uu(e.prototype,r),n&&uu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(ou);function yu(t){return yu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yu(t)}function du(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==yu(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==yu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===yu(o)?o:String(o)),n)}var o}function vu(t,e,r){return e&&du(t.prototype,e),r&&du(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function bu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mu(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xu(t,e)}function gu(t){var e=Ou();return function(){var r,n=ku(t);if(e){var o=ku(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===yu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function wu(t){var e="function"==typeof Map?new Map:void 0;return wu=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return _u(t,arguments,ku(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),xu(r,t)},wu(t)}function _u(t,e,r){return _u=Ou()?Reflect.construct.bind():function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&xu(o,r.prototype),o},_u.apply(null,arguments)}function Ou(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function xu(t,e){return xu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},xu(t,e)}function ku(t){return ku=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ku(t)}var ju=1,Eu=2,Su=4,Pu=8,Cu=16,Au=32,Lu=64,Tu=128,Ru=256,Du=511,Iu=function(t){mu(r,t);var e=gu(r);function r(){return bu(this,r),e.apply(this,arguments)}return vu(r)}(wu(Error)),Nu=function(t){mu(r,t);var e=gu(r);function r(){return bu(this,r),e.apply(this,arguments)}return vu(r)}(wu(Error)),Fu=function(t){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Du;if("string"!=typeof t)throw new TypeError("expecting str, got ".concat(yu(t)));if(!t.trim())throw new Error("".concat(t," is empty"));return function(t,e){var r=t.length,n=0,o=function(t){throw new Iu("".concat(t," at position ").concat(n))},i=function(t){throw new Nu("".concat(t," at position ").concat(n))},a=function(){return f(),n>=r&&o("Unexpected end of input"),'"'===t[n]?c():"{"===t[n]?u():"["===t[n]?s():"null"===t.substring(n,n+4)||Cu&e&&r-n<4&&"null".startsWith(t.substring(n))?(n+=4,null):"true"===t.substring(n,n+4)||Au&e&&r-n<4&&"true".startsWith(t.substring(n))?(n+=4,!0):"false"===t.substring(n,n+5)||Au&e&&r-n<5&&"false".startsWith(t.substring(n))?(n+=5,!1):"Infinity"===t.substring(n,n+8)||Tu&e&&r-n<8&&"Infinity".startsWith(t.substring(n))?(n+=8,1/0):"-Infinity"===t.substring(n,n+9)||Ru&e&&1<r-n&&r-n<9&&"-Infinity".startsWith(t.substring(n))?(n+=9,-1/0):"NaN"===t.substring(n,n+3)||Lu&e&&r-n<3&&"NaN".startsWith(t.substring(n))?(n+=3,NaN):l()},c=function(){var a=n,c=!1;for(n++;n<r&&('"'!==t[n]||c&&"\\"===t[n-1]);)c="\\"===t[n]&&!c,n++;if('"'==t.charAt(n))try{return JSON.parse(t.substring(a,++n-Number(c)))}catch(t){i(String(t))}else if(ju&e)try{return JSON.parse(t.substring(a,n-Number(c))+'"')}catch(e){return JSON.parse(t.substring(a,t.lastIndexOf("\\"))+'"')}o("Unterminated string literal")},u=function(){n++,f();var i={};try{for(;"}"!==t[n];){if(f(),n>=r&&Pu&e)return i;var u=c();f(),n++;try{var s=a();Object.defineProperty(i,u,{value:s,writable:!0,enumerable:!0,configurable:!0})}catch(t){if(Pu&e)return i;throw t}f(),","===t[n]&&n++}}catch(t){if(Pu&e)return i;o("Expected '}' at end of object")}return n++,i},s=function(){n++;var r=[];try{for(;"]"!==t[n];)r.push(a()),f(),","===t[n]&&n++}catch(t){if(Su&e)return r;o("Expected ']' at end of array")}return n++,r},l=function(){if(0===n){"-"===t&&Eu&e&&o("Not sure what '-' is");try{return JSON.parse(t)}catch(r){if(Eu&e)try{return"."===t[t.length-1]?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch(t){}i(String(r))}}var a=n;for("-"===t[n]&&n++;t[n]&&!",]}".includes(t[n]);)n++;n!=r||Eu&e||o("Unterminated number literal");try{return JSON.parse(t.substring(a,n))}catch(r){"-"===t.substring(a,n)&&Eu&e&&o("Not sure what '-' is");try{return JSON.parse(t.substring(a,t.lastIndexOf("e")))}catch(t){i(String(t))}}},f=function(){for(;n<r&&" \n\r\t".includes(t[n]);)n++};return a()}(t.trim(),e)}(t,Du^Eu)};function qu(t){return qu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qu(t)}var Mu=["choices"],Bu=["delta","finish_reason","index","logprobs"],Gu=["content","refusal"],zu=["content","refusal","function_call","role","tool_calls"],Uu=["index","id","type","function"],Hu=["id","choices","created","model","system_fingerprint"],Vu=["message","finish_reason","index","logprobs"],$u=["content","function_call","tool_calls"],Ku=["function","type","id"],Wu=["arguments","name"];function Yu(t){return function(t){if(Array.isArray(t))return Qu(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Xu(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ju(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function Zu(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Xu(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function Xu(t,e){if(t){if("string"==typeof t)return Qu(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Qu(t,e):void 0}}function Qu(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ts(){ts=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),c=new A(n||[]);return o(a,"_invoke",{value:E(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",v={};function b(){}function m(){}function g(){}var w={};s(w,a,(function(){return this}));var _=Object.getPrototypeOf,O=_&&_(_(L([])));O&&O!==r&&n.call(O,a)&&(w=O);var x=g.prototype=b.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==qu(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function E(e,r,n){var o=p;return function(i,a){if(o===y)throw new Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=S(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?d:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=d,n.method="throw",n.arg=s.arg)}}}function S(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,S(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function L(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(qu(e)+" is not iterable")}return m.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:m,configurable:!0}),m.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},k(j.prototype),s(j.prototype,c,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new j(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=L,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:L(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function es(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function rs(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?es(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=as(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):es(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ns(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function os(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ns(i,n,o,a,c,"next",t)}function c(t){ns(i,n,o,a,c,"throw",t)}a(void 0)}))}}function is(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,as(n.key),n)}}function as(t){var e=function(t,e){if("object"!==qu(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==qu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===qu(e)?e:String(e)}function cs(){return cs="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ls(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},cs.apply(this,arguments)}function us(t,e){return us=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},us(t,e)}function ss(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ls(t){return ls=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ls(t)}function fs(t){var e,r,n,o=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);o--;){if(r&&null!=(e=t[r]))return e.call(t);if(n&&null!=(e=t[n]))return new ps(e.call(t));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function ps(t){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then((function(t){return{value:t,done:e}}))}return ps=function(t){this.s=t,this.n=t.next},ps.prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var r=this.s.return;return void 0===r?Promise.resolve({value:t,done:!0}):e(r.apply(this.s,arguments))},throw:function(t){var r=this.s.return;return void 0===r?Promise.reject(t):e(r.apply(this.s,arguments))}},new ps(t)}var hs,ys,ds,vs,bs,ms,gs,ws,_s,Os,xs,ks,js=function(t,e,r,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(t,r):o?o.value=r:e.set(t,r),r},Es=function(t,e,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)},Ss=function(t,e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&us(t,e)}(l,t);var r,n,o,i,a,c,u,s=(c=l,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ls(c);if(u){var r=ls(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===qu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ss(t)}(this,t)});function l(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),e=s.call(this),hs.add(ss(e)),ys.set(ss(e),void 0),ds.set(ss(e),void 0),vs.set(ss(e),void 0),js(ss(e),ys,t,"f"),js(ss(e),ds,[],"f"),e}return r=l,n=[{key:"currentChatCompletionSnapshot",get:function(){return Es(this,vs,"f")}},{key:"_createChatCompletion",value:(a=os(ts().mark((function t(e,r,n){var o,i,a,c,u,s,f,p,h,y=this;return ts().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return cs(ls(l.prototype),"_createChatCompletion",this),(i=null==n?void 0:n.signal)&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",(function(){return y.controller.abort()}))),Es(this,hs,"m",bs).call(this),t.next=6,e.chat.completions.create(rs(rs({},r),{},{stream:!0}),rs(rs({},n),{},{signal:this.controller.signal}));case 6:a=t.sent,this._connected(),c=!1,u=!1,t.prev=10,f=fs(a);case 12:return t.next=14,f.next();case 14:if(!(c=!(p=t.sent).done)){t.next=20;break}h=p.value,Es(this,hs,"m",gs).call(this,h);case 17:c=!1,t.next=12;break;case 20:t.next=26;break;case 22:t.prev=22,t.t0=t.catch(10),u=!0,s=t.t0;case 26:if(t.prev=26,t.prev=27,!c||null==f.return){t.next=31;break}return t.next=31,f.return();case 31:if(t.prev=31,!u){t.next=34;break}throw s;case 34:return t.finish(31);case 35:return t.finish(26);case 36:if(null===(o=a.controller.signal)||void 0===o||!o.aborted){t.next=38;break}throw new Be;case 38:return t.abrupt("return",this._addChatCompletion(Es(this,hs,"m",Os).call(this)));case 39:case"end":return t.stop()}}),t,this,[[10,22,26,36],[27,,31,35]])}))),function(t,e,r){return a.apply(this,arguments)})},{key:"_fromReadableStream",value:(i=os(ts().mark((function t(e,r){var n,o,i,a,c,u,s,l,f,p,h=this;return ts().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(o=null==r?void 0:r.signal)&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",(function(){return h.controller.abort()}))),Es(this,hs,"m",bs).call(this),this._connected(),i=wr.fromReadableStream(e,this.controller),c=!1,u=!1,t.prev=7,l=fs(i);case 9:return t.next=11,l.next();case 11:if(!(c=!(f=t.sent).done)){t.next=19;break}p=f.value,a&&a!==p.id&&this._addChatCompletion(Es(this,hs,"m",Os).call(this)),Es(this,hs,"m",gs).call(this,p),a=p.id;case 16:c=!1,t.next=9;break;case 19:t.next=25;break;case 21:t.prev=21,t.t0=t.catch(7),u=!0,s=t.t0;case 25:if(t.prev=25,t.prev=26,!c||null==l.return){t.next=30;break}return t.next=30,l.return();case 30:if(t.prev=30,!u){t.next=33;break}throw s;case 33:return t.finish(30);case 34:return t.finish(25);case 35:if(null===(n=i.controller.signal)||void 0===n||!n.aborted){t.next=37;break}throw new Be;case 37:return t.abrupt("return",this._addChatCompletion(Es(this,hs,"m",Os).call(this)));case 38:case"end":return t.stop()}}),t,this,[[7,21,25,35],[26,,30,34]])}))),function(t,e){return i.apply(this,arguments)})},{key:e,value:function(){var t,e,r=this,n=[],o=[],i=!1;return this.on("chunk",(function(t){var e=o.shift();e?e.resolve(t):n.push(t)})),this.on("end",(function(){i=!0;for(var t=0,e=o;t<e.length;t++)e[t].resolve(void 0);o.length=0})),this.on("abort",(function(t){i=!0;for(var e=0,r=o;e<r.length;e++)r[e].reject(t);o.length=0})),this.on("error",(function(t){i=!0;for(var e=0,r=o;e<r.length;e++)r[e].reject(t);o.length=0})),{next:(e=os(ts().mark((function t(){var e;return ts().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.length){t.next=4;break}if(!i){t.next=3;break}return t.abrupt("return",{value:void 0,done:!0});case 3:return t.abrupt("return",new Promise((function(t,e){return o.push({resolve:t,reject:e})})).then((function(t){return t?{value:t,done:!1}:{value:void 0,done:!0}})));case 4:return e=n.shift(),t.abrupt("return",{value:e,done:!1});case 6:case"end":return t.stop()}}),t)}))),function(){return e.apply(this,arguments)}),return:(t=os(ts().mark((function t(){return ts().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.abort(),t.abrupt("return",{value:void 0,done:!0});case 2:case"end":return t.stop()}}),t)}))),function(){return t.apply(this,arguments)})}}},{key:"toReadableStream",value:function(){return new wr(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}],o=[{key:"fromReadableStream",value:function(t){var e=new l(null);return e._run((function(){return e._fromReadableStream(t)})),e}},{key:"createChatCompletion",value:function(t,e,r){var n=new l(e);return n._run((function(){return n._runChatCompletion(t,rs(rs({},e),{},{stream:!0}),rs(rs({},r),{},{headers:rs(rs({},null==r?void 0:r.headers),{},{"X-Stainless-Helper-Method":"stream"})}))})),n}}],n&&is(r.prototype,n),o&&is(r,o),Object.defineProperty(r,"prototype",{writable:!1}),l}(ou,(ys=new WeakMap,ds=new WeakMap,vs=new WeakMap,hs=new WeakSet,bs=function(){this.ended||js(this,vs,void 0,"f")},ms=function(t){var e=Es(this,ds,"f")[t.index];return e||(e={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},Es(this,ds,"f")[t.index]=e,e)},gs=function(t){if(!this.ended){var e=Es(this,hs,"m",ks).call(this,t);this._emit("chunk",t,e);var r,n=Zu(t.choices);try{for(n.s();!(r=n.n()).done;){var o,i,a,c,u,s,l,f,p,h,y,d,v,b,m,g,w=r.value,_=e.choices[w.index];null!=w.delta.content&&"assistant"===(null===(o=_.message)||void 0===o?void 0:o.role)&&null!==(i=_.message)&&void 0!==i&&i.content&&(this._emit("content",w.delta.content,_.message.content),this._emit("content.delta",{delta:w.delta.content,snapshot:_.message.content,parsed:_.message.parsed})),null!=w.delta.refusal&&"assistant"===(null===(a=_.message)||void 0===a?void 0:a.role)&&null!==(c=_.message)&&void 0!==c&&c.refusal&&this._emit("refusal.delta",{delta:w.delta.refusal,snapshot:_.message.refusal}),null!=(null===(u=w.logprobs)||void 0===u?void 0:u.content)&&"assistant"===(null===(s=_.message)||void 0===s?void 0:s.role)&&this._emit("logprobs.content.delta",{content:null===(y=w.logprobs)||void 0===y?void 0:y.content,snapshot:null!==(d=null===(v=_.logprobs)||void 0===v?void 0:v.content)&&void 0!==d?d:[]}),null!=(null===(l=w.logprobs)||void 0===l?void 0:l.refusal)&&"assistant"===(null===(f=_.message)||void 0===f?void 0:f.role)&&this._emit("logprobs.refusal.delta",{refusal:null===(b=w.logprobs)||void 0===b?void 0:b.refusal,snapshot:null!==(m=null===(g=_.logprobs)||void 0===g?void 0:g.refusal)&&void 0!==m?m:[]});var O=Es(this,hs,"m",ms).call(this,_);_.finish_reason&&(Es(this,hs,"m",_s).call(this,_),null!=O.current_tool_call_index&&Es(this,hs,"m",ws).call(this,_,O.current_tool_call_index));var x,k=Zu(null!==(p=w.delta.tool_calls)&&void 0!==p?p:[]);try{for(k.s();!(x=k.n()).done;){var j=x.value;O.current_tool_call_index!==j.index&&(Es(this,hs,"m",_s).call(this,_),null!=O.current_tool_call_index&&Es(this,hs,"m",ws).call(this,_,O.current_tool_call_index)),O.current_tool_call_index=j.index}}catch(t){k.e(t)}finally{k.f()}var E,S=Zu(null!==(h=w.delta.tool_calls)&&void 0!==h?h:[]);try{for(S.s();!(E=S.n()).done;){var P,C,A,L,T=E.value,R=null===(P=_.message.tool_calls)||void 0===P?void 0:P[T.index];null!=R&&R.type&&("function"===(null==R?void 0:R.type)?this._emit("tool_calls.function.arguments.delta",{name:null===(C=R.function)||void 0===C?void 0:C.name,index:T.index,arguments:R.function.arguments,parsed_arguments:R.function.parsed_arguments,arguments_delta:null!==(A=null===(L=T.function)||void 0===L?void 0:L.arguments)&&void 0!==A?A:""}):null==R||R.type)}}catch(t){S.e(t)}finally{S.f()}}}catch(t){n.e(t)}finally{n.f()}}},ws=function(t,e){var r;if(!Es(this,hs,"m",ms).call(this,t).done_tool_calls.has(e)){var n=null===(r=t.message.tool_calls)||void 0===r?void 0:r[e];if(!n)throw new Error("no tool call snapshot");if(!n.type)throw new Error("tool call snapshot missing `type`");if("function"===n.type){var o,i=null===(o=Es(this,ys,"f"))||void 0===o||null===(o=o.tools)||void 0===o?void 0:o.find((function(t){return"function"===t.type&&t.function.name===n.function.name}));this._emit("tool_calls.function.arguments.done",{name:n.function.name,index:e,arguments:n.function.arguments,parsed_arguments:jc(i)?i.$parseRaw(n.function.arguments):null!=i&&i.function.strict?JSON.parse(n.function.arguments):null})}else n.type}},_s=function(t){var e,r,n=Es(this,hs,"m",ms).call(this,t);if(t.message.content&&!n.content_done){n.content_done=!0;var o=Es(this,hs,"m",xs).call(this);this._emit("content.done",{content:t.message.content,parsed:o?o.$parseRaw(t.message.content):null})}t.message.refusal&&!n.refusal_done&&(n.refusal_done=!0,this._emit("refusal.done",{refusal:t.message.refusal})),null!==(e=t.logprobs)&&void 0!==e&&e.content&&!n.logprobs_content_done&&(n.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:t.logprobs.content})),null!==(r=t.logprobs)&&void 0!==r&&r.refusal&&!n.logprobs_refusal_done&&(n.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:t.logprobs.refusal}))},Os=function(){if(this.ended)throw new qe("stream has ended, this shouldn't happen");var t=Es(this,vs,"f");if(!t)throw new qe("request ended without sending any chunks");return js(this,vs,void 0,"f"),js(this,ds,[],"f"),function(t,e){var r=t.id,n=t.choices,o=t.created,i=t.model,a=t.system_fingerprint,c=rs(rs({},Ju(t,Hu)),{},{id:r,choices:n.map((function(e){var r,n=e.message,o=e.finish_reason,i=e.index,a=e.logprobs,c=Ju(e,Vu);if(!o)throw new qe("missing finish_reason for choice ".concat(i));var u,s=n.content,l=void 0===s?null:s,f=n.function_call,p=n.tool_calls,h=Ju(n,$u),y=n.role;if(!y)throw new qe("missing role for choice ".concat(i));if(f){var d,v=f.arguments,b=f.name;if(null==v)throw new qe("missing function_call.arguments for choice ".concat(i));if(!b)throw new qe("missing function_call.name for choice ".concat(i));return rs(rs({},c),{},{message:{content:l,function_call:{arguments:v,name:b},role:y,refusal:null!==(d=n.refusal)&&void 0!==d?d:null},finish_reason:o,index:i,logprobs:a})}return rs(rs({},c),{},p?{index:i,finish_reason:o,logprobs:a,message:rs(rs({},h),{},{role:y,content:l,refusal:null!==(u=n.refusal)&&void 0!==u?u:null,tool_calls:p.map((function(e,r){var n=e.function,o=e.type,a=e.id,c=Ju(e,Ku),u=n||{},s=u.arguments,l=u.name,f=Ju(u,Wu);if(null==a)throw new qe("missing choices[".concat(i,"].tool_calls[").concat(r,"].id\n").concat(Ps(t)));if(null==o)throw new qe("missing choices[".concat(i,"].tool_calls[").concat(r,"].type\n").concat(Ps(t)));if(null==l)throw new qe("missing choices[".concat(i,"].tool_calls[").concat(r,"].function.name\n").concat(Ps(t)));if(null==s)throw new qe("missing choices[".concat(i,"].tool_calls[").concat(r,"].function.arguments\n").concat(Ps(t)));return rs(rs({},c),{},{id:a,type:o,function:rs(rs({},f),{},{name:l,arguments:s})})}))})}:{message:rs(rs({},h),{},{content:l,role:y,refusal:null!==(r=n.refusal)&&void 0!==r?r:null}),finish_reason:o,index:i,logprobs:a})})),created:o,model:i,object:"chat.completion"},a?{system_fingerprint:a}:{});return function(t,e){return e&&Cc(e)?Ec(t,e):xc(xc({},t),{},{choices:t.choices.map((function(t){var e;return xc(xc({},t),{},{message:xc(xc({},t.message),{},{parsed:null,tool_calls:null!==(e=t.message.tool_calls)&&void 0!==e?e:[]})})}))})}(c,e)}(t,Es(this,ys,"f"))},xs=function(){var t,e=null===(t=Es(this,ys,"f"))||void 0===t?void 0:t.response_format;return kc(e)?e:null},ks=function(t){var e,r,n,o,i=Es(this,vs,"f"),a=(t.choices,Ju(t,Mu));i?Object.assign(i,a):i=js(this,vs,rs(rs({},a),{},{choices:[]}),"f");var c,u=Zu(t.choices);try{for(u.s();!(c=u.n()).done;){var s=c.value,l=s.delta,f=s.finish_reason,p=s.index,h=s.logprobs,y=void 0===h?null:h,d=Ju(s,Bu),v=i.choices[p];if(v||(v=i.choices[p]=rs({finish_reason:f,index:p,message:{},logprobs:y},d)),y)if(v.logprobs){var b,m,g,w,_=y.content,O=y.refusal,x=Ju(y,Gu);Object.assign(v.logprobs,x),_&&(null!==(b=(e=v.logprobs).content)&&void 0!==b||(e.content=[]),(m=v.logprobs.content).push.apply(m,Yu(_))),O&&(null!==(g=(r=v.logprobs).refusal)&&void 0!==g||(r.refusal=[]),(w=v.logprobs.refusal).push.apply(w,Yu(O)))}else v.logprobs=Object.assign({},y);if(f&&(v.finish_reason=f,Es(this,ys,"f")&&Cc(Es(this,ys,"f")))){if("length"===f)throw new Ze;if("content_filter"===f)throw new Xe}if(Object.assign(v,d),l){var k,j=l.content,E=l.refusal,S=l.function_call,P=l.role,C=l.tool_calls,A=Ju(l,zu);if(Object.assign(v.message,A),E&&(v.message.refusal=(v.message.refusal||"")+E),P&&(v.message.role=P),S&&(v.message.function_call?(S.name&&(v.message.function_call.name=S.name),S.arguments&&(null!==(k=(n=v.message.function_call).arguments)&&void 0!==k||(n.arguments=""),v.message.function_call.arguments+=S.arguments)):v.message.function_call=S),j&&(v.message.content=(v.message.content||"")+j,!v.message.refusal&&Es(this,hs,"m",xs).call(this)&&(v.message.parsed=Fu(v.message.content))),C){v.message.tool_calls||(v.message.tool_calls=[]);var L,T=Zu(C);try{for(T.s();!(L=T.n()).done;){var R,D,I,N=L.value,F=N.index,q=N.id,M=N.type,B=N.function,G=Ju(N,Uu),z=null!==(R=(o=v.message.tool_calls)[F])&&void 0!==R?R:o[F]={};Object.assign(z,G),q&&(z.id=q),M&&(z.type=M),B&&(null!==(D=z.function)&&void 0!==D||(z.function={name:null!==(I=B.name)&&void 0!==I?I:"",arguments:""})),null!=B&&B.name&&(z.function.name=B.name),null!=B&&B.arguments&&(z.function.arguments+=B.arguments,Pc(Es(this,ys,"f"),z)&&(z.function.parsed_arguments=Fu(z.function.arguments)))}}catch(t){T.e(t)}finally{T.f()}}}}}catch(t){u.e(t)}finally{u.f()}return i},Symbol.asyncIterator));function Ps(t){return JSON.stringify(t)}function Cs(t){return Cs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cs(t)}function As(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ls(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?As(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=Rs(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):As(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ts(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Rs(n.key),n)}}function Rs(t){var e=function(t,e){if("object"!==Cs(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Cs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Cs(e)?e:String(e)}function Ds(t,e){return Ds=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ds(t,e)}function Is(t){return Is=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Is(t)}var Ns=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ds(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Is(n);if(o){var r=Is(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Cs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,r=[{key:"fromReadableStream",value:function(t){var e=new a(null);return e._run((function(){return e._fromReadableStream(t)})),e}},{key:"runFunctions",value:function(t,e,r){var n=new a(null),o=Ls(Ls({},r),{},{headers:Ls(Ls({},null==r?void 0:r.headers),{},{"X-Stainless-Helper-Method":"runFunctions"})});return n._run((function(){return n._runFunctions(t,e,o)})),n}},{key:"runTools",value:function(t,e,r){var n=new a(e),o=Ls(Ls({},r),{},{headers:Ls(Ls({},null==r?void 0:r.headers),{},{"X-Stainless-Helper-Method":"runTools"})});return n._run((function(){return n._runTools(t,e,o)})),n}}],null&&Ts(e.prototype,null),r&&Ts(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(Ss);function Fs(t){return Fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fs(t)}function qs(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ms(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?qs(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=Gs(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qs(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Bs(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Gs(n.key),n)}}function Gs(t){var e=function(t,e){if("object"!==Fs(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Fs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Fs(e)?e:String(e)}function zs(t,e){return zs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},zs(t,e)}function Us(t){return Us=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Us(t)}var Hs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zs(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Us(n);if(o){var r=Us(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Fs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:"parse",value:function(t,e){return function(t){var e,r=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return _c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_c(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}(null!=t?t:[]);try{for(r.s();!(e=r.n()).done;){var n=e.value;if("function"!==n.type)throw new qe("Currently only `function` tool types support auto-parsing; Received `".concat(n.type,"`"));if(!0!==n.function.strict)throw new qe("The `".concat(n.function.name,"` tool is not marked with `strict: true`. Only strict function tools can be auto-parsed"))}}catch(t){r.e(t)}finally{r.f()}}(t.tools),this._client.chat.completions.create(t,Ms(Ms({},e),{},{headers:Ms(Ms({},null==e?void 0:e.headers),{},{"X-Stainless-Helper-Method":"beta.chat.completions.parse"})}))._thenUnwrap((function(e){return Ec(e,t)}))}},{key:"runFunctions",value:function(t,e){return t.stream?Ns.runFunctions(this._client,t,e):hu.runFunctions(this._client,t,e)}},{key:"runTools",value:function(t,e){return t.stream?Ns.runTools(this._client,t,e):hu.runTools(this._client,t,e)}},{key:"stream",value:function(t,e){return Ss.createChatCompletion(this._client,t,e)}}])&&Bs(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(lo);function Vs(t){return Vs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vs(t)}function $s(t,e){return $s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$s(t,e)}function Ks(t){return Ks=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ks(t)}var Ws=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$s(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ks(r);if(n){var o=Ks(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Vs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.apply(this,arguments)).completions=new Hs(t._client),t}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(lo);function Ys(t){return Ys="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ys(t)}function Js(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Xs(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function Zs(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,s=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,e)||Xs(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xs(t,e){if(t){if("string"==typeof t)return Qs(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Qs(t,e):void 0}}function Qs(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tl(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function el(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?tl(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=al(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tl(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function rl(){rl=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),c=new A(n||[]);return o(a,"_invoke",{value:E(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",v={};function b(){}function m(){}function g(){}var w={};s(w,a,(function(){return this}));var _=Object.getPrototypeOf,O=_&&_(_(L([])));O&&O!==r&&n.call(O,a)&&(w=O);var x=g.prototype=b.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==Ys(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function E(e,r,n){var o=p;return function(i,a){if(o===y)throw new Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=S(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?d:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=d,n.method="throw",n.arg=s.arg)}}}function S(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,S(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function L(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Ys(e)+" is not iterable")}return m.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:m,configurable:!0}),m.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},k(j.prototype),s(j.prototype,c,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new j(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=L,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:L(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function nl(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function ol(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){nl(i,n,o,a,c,"next",t)}function c(t){nl(i,n,o,a,c,"throw",t)}a(void 0)}))}}function il(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,al(n.key),n)}}function al(t){var e=function(t,e){if("object"!==Ys(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Ys(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Ys(e)?e:String(e)}function cl(t,e){return cl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},cl(t,e)}function ul(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sl(t){return sl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},sl(t)}function ll(t){var e,r,n,o=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);o--;){if(r&&null!=(e=t[r]))return e.call(t);if(n&&null!=(e=t[n]))return new fl(e.call(t));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function fl(t){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then((function(t){return{value:t,done:e}}))}return fl=function(t){this.s=t,this.n=t.next},fl.prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var r=this.s.return;return void 0===r?Promise.resolve({value:t,done:!0}):e(r.apply(this.s,arguments))},throw:function(t){var r=this.s.return;return void 0===r?Promise.reject(t):e(r.apply(this.s,arguments))}},new fl(t)}!function(t){t.Completions=Hs}(Ws||(Ws={}));var pl,hl,yl,dl,vl,bl,ml,gl,wl,_l,Ol,xl,kl,jl,El,Sl,Pl,Cl,Al,Ll,Tl,Rl,Dl=function(t,e,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)},Il=function(t,e,r,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(t,r):o?o.value=r:e.set(t,r),r},Nl=function(t,e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cl(t,e)}(m,t);var r,n,o,i,a,c,u,s,l,f,p,h,y,d,v,b=(d=m,v=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=sl(d);if(v){var r=sl(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ys(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ul(t)}(this,t)});function m(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,m),t=b.apply(this,arguments),pl.add(ul(t)),hl.set(ul(t),[]),yl.set(ul(t),{}),dl.set(ul(t),{}),vl.set(ul(t),void 0),bl.set(ul(t),void 0),ml.set(ul(t),void 0),gl.set(ul(t),void 0),wl.set(ul(t),void 0),_l.set(ul(t),void 0),Ol.set(ul(t),void 0),xl.set(ul(t),void 0),kl.set(ul(t),void 0),t}return r=m,n=[{key:e,value:function(){var t,e,r=this,n=[],o=[],i=!1;return this.on("event",(function(t){var e=o.shift();e?e.resolve(t):n.push(t)})),this.on("end",(function(){i=!0;for(var t=0,e=o;t<e.length;t++)e[t].resolve(void 0);o.length=0})),this.on("abort",(function(t){i=!0;for(var e=0,r=o;e<r.length;e++)r[e].reject(t);o.length=0})),this.on("error",(function(t){i=!0;for(var e=0,r=o;e<r.length;e++)r[e].reject(t);o.length=0})),{next:(e=ol(rl().mark((function t(){var e;return rl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.length){t.next=4;break}if(!i){t.next=3;break}return t.abrupt("return",{value:void 0,done:!0});case 3:return t.abrupt("return",new Promise((function(t,e){return o.push({resolve:t,reject:e})})).then((function(t){return t?{value:t,done:!1}:{value:void 0,done:!0}})));case 4:return e=n.shift(),t.abrupt("return",{value:e,done:!1});case 6:case"end":return t.stop()}}),t)}))),function(){return e.apply(this,arguments)}),return:(t=ol(rl().mark((function t(){return rl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.abort(),t.abrupt("return",{value:void 0,done:!0});case 2:case"end":return t.stop()}}),t)}))),function(){return t.apply(this,arguments)})}}},{key:"_fromReadableStream",value:(y=ol(rl().mark((function t(e,r){var n,o,i,a,c,u,s,l,f,p=this;return rl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(o=null==r?void 0:r.signal)&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",(function(){return p.controller.abort()}))),this._connected(),i=wr.fromReadableStream(e,this.controller),a=!1,c=!1,t.prev=6,s=ll(i);case 8:return t.next=10,s.next();case 10:if(!(a=!(l=t.sent).done)){t.next=16;break}f=l.value,Dl(this,pl,"m",jl).call(this,f);case 13:a=!1,t.next=8;break;case 16:t.next=22;break;case 18:t.prev=18,t.t0=t.catch(6),c=!0,u=t.t0;case 22:if(t.prev=22,t.prev=23,!a||null==s.return){t.next=27;break}return t.next=27,s.return();case 27:if(t.prev=27,!c){t.next=30;break}throw u;case 30:return t.finish(27);case 31:return t.finish(22);case 32:if(null===(n=i.controller.signal)||void 0===n||!n.aborted){t.next=34;break}throw new Be;case 34:return t.abrupt("return",this._addRun(Dl(this,pl,"m",El).call(this)));case 35:case"end":return t.stop()}}),t,this,[[6,18,22,32],[23,,27,31]])}))),function(t,e){return y.apply(this,arguments)})},{key:"toReadableStream",value:function(){return new wr(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}},{key:"_createToolAssistantStream",value:(h=ol(rl().mark((function t(e,r,n,o,i){var a,c,u,s,l,f,p,h,y,d,v=this;return rl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(c=null==i?void 0:i.signal)&&(c.aborted&&this.controller.abort(),c.addEventListener("abort",(function(){return v.controller.abort()}))),u=el(el({},o),{},{stream:!0}),t.next=5,e.submitToolOutputs(r,n,u,el(el({},i),{},{signal:this.controller.signal}));case 5:s=t.sent,this._connected(),l=!1,f=!1,t.prev=9,h=ll(s);case 11:return t.next=13,h.next();case 13:if(!(l=!(y=t.sent).done)){t.next=19;break}d=y.value,Dl(this,pl,"m",jl).call(this,d);case 16:l=!1,t.next=11;break;case 19:t.next=25;break;case 21:t.prev=21,t.t0=t.catch(9),f=!0,p=t.t0;case 25:if(t.prev=25,t.prev=26,!l||null==h.return){t.next=30;break}return t.next=30,h.return();case 30:if(t.prev=30,!f){t.next=33;break}throw p;case 33:return t.finish(30);case 34:return t.finish(25);case 35:if(null===(a=s.controller.signal)||void 0===a||!a.aborted){t.next=37;break}throw new Be;case 37:return t.abrupt("return",this._addRun(Dl(this,pl,"m",El).call(this)));case 38:case"end":return t.stop()}}),t,this,[[9,21,25,35],[26,,30,34]])}))),function(t,e,r,n,o){return h.apply(this,arguments)})},{key:"currentEvent",value:function(){return Dl(this,Ol,"f")}},{key:"currentRun",value:function(){return Dl(this,xl,"f")}},{key:"currentMessageSnapshot",value:function(){return Dl(this,vl,"f")}},{key:"currentRunStepSnapshot",value:function(){return Dl(this,kl,"f")}},{key:"finalRunSteps",value:(p=ol(rl().mark((function t(){return rl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.done();case 2:return t.abrupt("return",Object.values(Dl(this,yl,"f")));case 3:case"end":return t.stop()}}),t,this)}))),function(){return p.apply(this,arguments)})},{key:"finalMessages",value:(f=ol(rl().mark((function t(){return rl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.done();case 2:return t.abrupt("return",Object.values(Dl(this,dl,"f")));case 3:case"end":return t.stop()}}),t,this)}))),function(){return f.apply(this,arguments)})},{key:"finalRun",value:(l=ol(rl().mark((function t(){return rl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.done();case 2:if(Dl(this,bl,"f")){t.next=4;break}throw Error("Final run was not received.");case 4:return t.abrupt("return",Dl(this,bl,"f"));case 5:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"_createThreadAssistantStream",value:(s=ol(rl().mark((function t(e,r,n){var o,i,a,c,u,s,l,f,p,h,y=this;return rl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(i=null==n?void 0:n.signal)&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",(function(){return y.controller.abort()}))),a=el(el({},r),{},{stream:!0}),t.next=5,e.createAndRun(a,el(el({},n),{},{signal:this.controller.signal}));case 5:c=t.sent,this._connected(),u=!1,s=!1,t.prev=9,f=ll(c);case 11:return t.next=13,f.next();case 13:if(!(u=!(p=t.sent).done)){t.next=19;break}h=p.value,Dl(this,pl,"m",jl).call(this,h);case 16:u=!1,t.next=11;break;case 19:t.next=25;break;case 21:t.prev=21,t.t0=t.catch(9),s=!0,l=t.t0;case 25:if(t.prev=25,t.prev=26,!u||null==f.return){t.next=30;break}return t.next=30,f.return();case 30:if(t.prev=30,!s){t.next=33;break}throw l;case 33:return t.finish(30);case 34:return t.finish(25);case 35:if(null===(o=c.controller.signal)||void 0===o||!o.aborted){t.next=37;break}throw new Be;case 37:return t.abrupt("return",this._addRun(Dl(this,pl,"m",El).call(this)));case 38:case"end":return t.stop()}}),t,this,[[9,21,25,35],[26,,30,34]])}))),function(t,e,r){return s.apply(this,arguments)})},{key:"_createAssistantStream",value:(u=ol(rl().mark((function t(e,r,n,o){var i,a,c,u,s,l,f,p,h,y,d=this;return rl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=null==o?void 0:o.signal)&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",(function(){return d.controller.abort()}))),c=el(el({},n),{},{stream:!0}),t.next=5,e.create(r,c,el(el({},o),{},{signal:this.controller.signal}));case 5:u=t.sent,this._connected(),s=!1,l=!1,t.prev=9,p=ll(u);case 11:return t.next=13,p.next();case 13:if(!(s=!(h=t.sent).done)){t.next=19;break}y=h.value,Dl(this,pl,"m",jl).call(this,y);case 16:s=!1,t.next=11;break;case 19:t.next=25;break;case 21:t.prev=21,t.t0=t.catch(9),l=!0,f=t.t0;case 25:if(t.prev=25,t.prev=26,!s||null==p.return){t.next=30;break}return t.next=30,p.return();case 30:if(t.prev=30,!l){t.next=33;break}throw f;case 33:return t.finish(30);case 34:return t.finish(25);case 35:if(null===(i=u.controller.signal)||void 0===i||!i.aborted){t.next=37;break}throw new Be;case 37:return t.abrupt("return",this._addRun(Dl(this,pl,"m",El).call(this)));case 38:case"end":return t.stop()}}),t,this,[[9,21,25,35],[26,,30,34]])}))),function(t,e,r,n){return u.apply(this,arguments)})},{key:"_addRun",value:function(t){return t}},{key:"_threadAssistantStream",value:(c=ol(rl().mark((function t(e,r,n){return rl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._createThreadAssistantStream(r,e,n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return c.apply(this,arguments)})},{key:"_runAssistantStream",value:(a=ol(rl().mark((function t(e,r,n,o){return rl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._createAssistantStream(r,e,n,o);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(t,e,r,n){return a.apply(this,arguments)})},{key:"_runToolAssistantStream",value:(i=ol(rl().mark((function t(e,r,n,o,i){return rl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._createToolAssistantStream(n,e,r,o,i);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(t,e,r,n,o){return i.apply(this,arguments)})}],o=[{key:"fromReadableStream",value:function(t){var e=new m;return e._run((function(){return e._fromReadableStream(t)})),e}},{key:"createToolAssistantStream",value:function(t,e,r,n,o){var i=new m;return i._run((function(){return i._runToolAssistantStream(t,e,r,n,el(el({},o),{},{headers:el(el({},null==o?void 0:o.headers),{},{"X-Stainless-Helper-Method":"stream"})}))})),i}},{key:"createThreadAssistantStream",value:function(t,e,r){var n=new m;return n._run((function(){return n._threadAssistantStream(t,e,el(el({},r),{},{headers:el(el({},null==r?void 0:r.headers),{},{"X-Stainless-Helper-Method":"stream"})}))})),n}},{key:"createAssistantStream",value:function(t,e,r,n){var o=new m;return o._run((function(){return o._runAssistantStream(t,e,r,el(el({},n),{},{headers:el(el({},null==n?void 0:n.headers),{},{"X-Stainless-Helper-Method":"stream"})}))})),o}},{key:"accumulateDelta",value:function(t,e){for(var r=0,n=Object.entries(e);r<n.length;r++){var o=Zs(n[r],2),i=o[0],a=o[1];if(t.hasOwnProperty(i)){var c=t[i];if(null!=c)if("index"!==i&&"type"!==i){if("string"==typeof c&&"string"==typeof a)c+=a;else if("number"==typeof c&&"number"==typeof a)c+=a;else{if(!ao(c)||!ao(a)){if(Array.isArray(c)&&Array.isArray(a)){if(c.every((function(t){return"string"==typeof t||"number"==typeof t}))){var u;(u=c).push.apply(u,function(t){if(Array.isArray(t))return Qs(t)}(y=a)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(y)||Xs(y)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());continue}var s,l=Js(a);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(!ao(f))throw new Error("Expected array delta entry to be an object but got: ".concat(f));var p=f.index;if(null==p)throw console.error(f),new Error("Expected array delta entry to have an `index` property");if("number"!=typeof p)throw new Error("Expected array delta entry `index` property to be a number but got ".concat(p));var h=c[p];null==h?c.push(f):c[p]=this.accumulateDelta(h,f)}}catch(t){l.e(t)}finally{l.f()}continue}throw Error("Unhandled record type: ".concat(i,", deltaValue: ").concat(a,", accValue: ").concat(c))}c=this.accumulateDelta(c,a)}t[i]=c}else t[i]=a;else t[i]=a}else t[i]=a}var y;return t}}],n&&il(r.prototype,n),o&&il(r,o),Object.defineProperty(r,"prototype",{writable:!1}),m}(gc,(hl=new WeakMap,yl=new WeakMap,dl=new WeakMap,vl=new WeakMap,bl=new WeakMap,ml=new WeakMap,gl=new WeakMap,wl=new WeakMap,_l=new WeakMap,Ol=new WeakMap,xl=new WeakMap,kl=new WeakMap,pl=new WeakSet,Symbol.asyncIterator));function Fl(t){return Fl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fl(t)}function ql(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ml(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ql(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=Ul(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ql(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Bl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gl(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ul(n.key),n)}}function zl(t,e,r){return e&&Gl(t.prototype,e),r&&Gl(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ul(t){var e=function(t,e){if("object"!==Fl(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Fl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Fl(e)?e:String(e)}function Hl(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vl(t,e)}function Vl(t,e){return Vl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Vl(t,e)}function $l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Kl(t);if(e){var o=Kl(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Fl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Kl(t){return Kl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Kl(t)}jl=function(t){if(!this.ended)switch(Il(this,Ol,t,"f"),Dl(this,pl,"m",Cl).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":Dl(this,pl,"m",Rl).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Dl(this,pl,"m",Pl).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":Dl(this,pl,"m",Sl).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},El=function(){if(this.ended)throw new qe("stream has ended, this shouldn't happen");if(!Dl(this,bl,"f"))throw Error("Final run has not been received");return Dl(this,bl,"f")},Sl=function(t){var e=Zs(Dl(this,pl,"m",Ll).call(this,t,Dl(this,vl,"f")),2),r=e[0],n=e[1];Il(this,vl,r,"f"),Dl(this,dl,"f")[r.id]=r;var o,i=Js(n);try{for(i.s();!(o=i.n()).done;){var a=o.value,c=r.content[a.index];"text"==(null==c?void 0:c.type)&&this._emit("textCreated",c.text)}}catch(t){i.e(t)}finally{i.f()}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,r),t.data.delta.content){var u,s=Js(t.data.delta.content);try{for(s.s();!(u=s.n()).done;){var l=u.value;if("text"==l.type&&l.text){var f=l.text,p=r.content[l.index];if(!p||"text"!=p.type)throw Error("The snapshot associated with this text delta is not text or missing");this._emit("textDelta",f,p.text)}if(l.index!=Dl(this,ml,"f")){if(Dl(this,gl,"f"))switch(Dl(this,gl,"f").type){case"text":this._emit("textDone",Dl(this,gl,"f").text,Dl(this,vl,"f"));break;case"image_file":this._emit("imageFileDone",Dl(this,gl,"f").image_file,Dl(this,vl,"f"))}Il(this,ml,l.index,"f")}Il(this,gl,r.content[l.index],"f")}}catch(t){s.e(t)}finally{s.f()}}break;case"thread.message.completed":case"thread.message.incomplete":if(void 0!==Dl(this,ml,"f")){var h=t.data.content[Dl(this,ml,"f")];if(h)switch(h.type){case"image_file":this._emit("imageFileDone",h.image_file,Dl(this,vl,"f"));break;case"text":this._emit("textDone",h.text,Dl(this,vl,"f"))}}Dl(this,vl,"f")&&this._emit("messageDone",t.data),Il(this,vl,void 0,"f")}},Pl=function(t){var e=Dl(this,pl,"m",Al).call(this,t);switch(Il(this,kl,e,"f"),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":var r=t.data.delta;if(r.step_details&&"tool_calls"==r.step_details.type&&r.step_details.tool_calls&&"tool_calls"==e.step_details.type){var n,o=Js(r.step_details.tool_calls);try{for(o.s();!(n=o.n()).done;){var i=n.value;i.index==Dl(this,wl,"f")?this._emit("toolCallDelta",i,e.step_details.tool_calls[i.index]):(Dl(this,_l,"f")&&this._emit("toolCallDone",Dl(this,_l,"f")),Il(this,wl,i.index,"f"),Il(this,_l,e.step_details.tool_calls[i.index],"f"),Dl(this,_l,"f")&&this._emit("toolCallCreated",Dl(this,_l,"f")))}}catch(t){o.e(t)}finally{o.f()}}this._emit("runStepDelta",t.data.delta,e);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Il(this,kl,void 0,"f"),"tool_calls"==t.data.step_details.type&&Dl(this,_l,"f")&&(this._emit("toolCallDone",Dl(this,_l,"f")),Il(this,_l,void 0,"f")),this._emit("runStepDone",t.data,e)}},Cl=function(t){Dl(this,hl,"f").push(t),this._emit("event",t)},Al=function(t){switch(t.event){case"thread.run.step.created":return Dl(this,yl,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":var e=Dl(this,yl,"f")[t.data.id];if(!e)throw Error("Received a RunStepDelta before creation of a snapshot");var r=t.data;if(r.delta){var n=Nl.accumulateDelta(e,r.delta);Dl(this,yl,"f")[t.data.id]=n}return Dl(this,yl,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":Dl(this,yl,"f")[t.data.id]=t.data}if(Dl(this,yl,"f")[t.data.id])return Dl(this,yl,"f")[t.data.id];throw new Error("No snapshot available")},Ll=function(t,e){var r=[];switch(t.event){case"thread.message.created":return[t.data,r];case"thread.message.delta":if(!e)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");var n=t.data;if(n.delta.content){var o,i=Js(n.delta.content);try{for(i.s();!(o=i.n()).done;){var a=o.value;if(a.index in e.content){var c=e.content[a.index];e.content[a.index]=Dl(this,pl,"m",Tl).call(this,a,c)}else e.content[a.index]=a,r.push(a)}}catch(t){i.e(t)}finally{i.f()}}return[e,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(e)return[e,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},Tl=function(t,e){return Nl.accumulateDelta(e,t)},Rl=function(t){switch(Il(this,xl,t.data,"f"),t.event){case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.cancelling":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":Il(this,bl,t.data,"f"),Dl(this,_l,"f")&&(this._emit("toolCallDone",Dl(this,_l,"f")),Il(this,_l,void 0,"f"))}};var Wl=function(t){Hl(r,t);var e=$l(r);function r(){return Bl(this,r),e.apply(this,arguments)}return zl(r,[{key:"create",value:function(t,e,r){return this._client.post("/threads/".concat(t,"/messages"),Ml(Ml({body:e},r),{},{headers:Ml({"OpenAI-Beta":"assistants=v2"},null==r?void 0:r.headers)}))}},{key:"retrieve",value:function(t,e,r){return this._client.get("/threads/".concat(t,"/messages/").concat(e),Ml(Ml({},r),{},{headers:Ml({"OpenAI-Beta":"assistants=v2"},null==r?void 0:r.headers)}))}},{key:"update",value:function(t,e,r,n){return this._client.post("/threads/".concat(t,"/messages/").concat(e),Ml(Ml({body:r},n),{},{headers:Ml({"OpenAI-Beta":"assistants=v2"},null==n?void 0:n.headers)}))}},{key:"list",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return Un(e)?this.list(t,{},e):this._client.getAPIList("/threads/".concat(t,"/messages"),Yl,Ml(Ml({query:e},r),{},{headers:Ml({"OpenAI-Beta":"assistants=v2"},null==r?void 0:r.headers)}))}},{key:"del",value:function(t,e,r){return this._client.delete("/threads/".concat(t,"/messages/").concat(e),Ml(Ml({},r),{},{headers:Ml({"OpenAI-Beta":"assistants=v2"},null==r?void 0:r.headers)}))}}]),r}(lo),Yl=function(t){Hl(r,t);var e=$l(r);function r(){return Bl(this,r),e.apply(this,arguments)}return zl(r)}(Wo);function Jl(t){return Jl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jl(t)}function Zl(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Xl(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Zl(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=rf(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zl(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ql(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tf(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rf(n.key),n)}}function ef(t,e,r){return e&&tf(t.prototype,e),r&&tf(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function rf(t){var e=function(t,e){if("object"!==Jl(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Jl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Jl(e)?e:String(e)}function nf(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&of(t,e)}function of(t,e){return of=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},of(t,e)}function af(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=cf(t);if(e){var o=cf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Jl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function cf(t){return cf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},cf(t)}Wl.MessagesPage=Yl;var uf=function(t){nf(r,t);var e=af(r);function r(){return Ql(this,r),e.apply(this,arguments)}return ef(r,[{key:"retrieve",value:function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0;return Un(n)?this.retrieve(t,e,r,{},n):this._client.get("/threads/".concat(t,"/runs/").concat(e,"/steps/").concat(r),Xl(Xl({query:n},o),{},{headers:Xl({"OpenAI-Beta":"assistants=v2"},null==o?void 0:o.headers)}))}},{key:"list",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;return Un(r)?this.list(t,e,{},r):this._client.getAPIList("/threads/".concat(t,"/runs/").concat(e,"/steps"),sf,Xl(Xl({query:r},n),{},{headers:Xl({"OpenAI-Beta":"assistants=v2"},null==n?void 0:n.headers)}))}}]),r}(lo),sf=function(t){nf(r,t);var e=af(r);function r(){return Ql(this,r),e.apply(this,arguments)}return ef(r)}(Wo);function lf(t){return lf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lf(t)}uf.RunStepsPage=sf;var ff=["include"];function pf(){pf=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),c=new A(n||[]);return o(a,"_invoke",{value:E(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",v={};function b(){}function m(){}function g(){}var w={};s(w,a,(function(){return this}));var _=Object.getPrototypeOf,O=_&&_(_(L([])));O&&O!==r&&n.call(O,a)&&(w=O);var x=g.prototype=b.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==lf(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function E(e,r,n){var o=p;return function(i,a){if(o===y)throw new Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=S(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?d:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=d,n.method="throw",n.arg=s.arg)}}}function S(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,S(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function L(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(lf(e)+" is not iterable")}return m.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:m,configurable:!0}),m.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},k(j.prototype),s(j.prototype,c,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new j(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=L,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:L(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function hf(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function yf(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){hf(i,n,o,a,c,"next",t)}function c(t){hf(i,n,o,a,c,"throw",t)}a(void 0)}))}}function df(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function vf(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?df(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=wf(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):df(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function bf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mf(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wf(n.key),n)}}function gf(t,e,r){return e&&mf(t.prototype,e),r&&mf(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function wf(t){var e=function(t,e){if("object"!==lf(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==lf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===lf(e)?e:String(e)}function _f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Of(t,e)}function Of(t,e){return Of=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Of(t,e)}function xf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=kf(t);if(e){var o=kf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===lf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function kf(t){return kf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},kf(t)}var jf=function(t){_f(i,t);var e,r,n,o=xf(i);function i(){var t;return bf(this,i),(t=o.apply(this,arguments)).steps=new uf(t._client),t}return gf(i,[{key:"create",value:function(t,e,r){var n,o=e.include,i=function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(e,ff);return this._client.post("/threads/".concat(t,"/runs"),vf(vf({query:{include:o},body:i},r),{},{headers:vf({"OpenAI-Beta":"assistants=v2"},null==r?void 0:r.headers),stream:null!==(n=e.stream)&&void 0!==n&&n}))}},{key:"retrieve",value:function(t,e,r){return this._client.get("/threads/".concat(t,"/runs/").concat(e),vf(vf({},r),{},{headers:vf({"OpenAI-Beta":"assistants=v2"},null==r?void 0:r.headers)}))}},{key:"update",value:function(t,e,r,n){return this._client.post("/threads/".concat(t,"/runs/").concat(e),vf(vf({body:r},n),{},{headers:vf({"OpenAI-Beta":"assistants=v2"},null==n?void 0:n.headers)}))}},{key:"list",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return Un(e)?this.list(t,{},e):this._client.getAPIList("/threads/".concat(t,"/runs"),Ef,vf(vf({query:e},r),{},{headers:vf({"OpenAI-Beta":"assistants=v2"},null==r?void 0:r.headers)}))}},{key:"cancel",value:function(t,e,r){return this._client.post("/threads/".concat(t,"/runs/").concat(e,"/cancel"),vf(vf({},r),{},{headers:vf({"OpenAI-Beta":"assistants=v2"},null==r?void 0:r.headers)}))}},{key:"createAndPoll",value:(n=yf(pf().mark((function t(e,r,n){var o;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.create(e,r,n);case 2:return o=t.sent,t.next=5,this.poll(e,o.id,n);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return n.apply(this,arguments)})},{key:"createAndStream",value:function(t,e,r){return Nl.createAssistantStream(t,this._client.beta.threads.runs,e,r)}},{key:"poll",value:(r=yf(pf().mark((function t(e,r,n){var o,i,a,c,u,s,l;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=vf(vf({},null==n?void 0:n.headers),{},{"X-Stainless-Poll-Helper":"true"}),null!=n&&n.pollIntervalMs&&(o["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());case 2:return t.next=5,this.retrieve(e,r,vf(vf({},n),{},{headers:vf(vf({},null==n?void 0:n.headers),o)})).withResponse();case 5:i=t.sent,a=i.data,c=i.response,t.t0=a.status,t.next="queued"===t.t0||"in_progress"===t.t0||"cancelling"===t.t0?11:"requires_action"===t.t0||"incomplete"===t.t0||"cancelled"===t.t0||"completed"===t.t0||"failed"===t.t0||"expired"===t.t0?16:17;break;case 11:return u=5e3,null!=n&&n.pollIntervalMs?u=n.pollIntervalMs:(s=c.headers.get("openai-poll-after-ms"))&&(l=parseInt(s),isNaN(l)||(u=l)),t.next=15,Jn(u);case 15:return t.abrupt("break",17);case 16:return t.abrupt("return",a);case 17:t.next=2;break;case 19:case"end":return t.stop()}}),t,this)}))),function(t,e,n){return r.apply(this,arguments)})},{key:"stream",value:function(t,e,r){return Nl.createAssistantStream(t,this._client.beta.threads.runs,e,r)}},{key:"submitToolOutputs",value:function(t,e,r,n){var o;return this._client.post("/threads/".concat(t,"/runs/").concat(e,"/submit_tool_outputs"),vf(vf({body:r},n),{},{headers:vf({"OpenAI-Beta":"assistants=v2"},null==n?void 0:n.headers),stream:null!==(o=r.stream)&&void 0!==o&&o}))}},{key:"submitToolOutputsAndPoll",value:(e=yf(pf().mark((function t(e,r,n,o){var i;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.submitToolOutputs(e,r,n,o);case 2:return i=t.sent,t.next=5,this.poll(e,i.id,o);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)}))),function(t,r,n,o){return e.apply(this,arguments)})},{key:"submitToolOutputsStream",value:function(t,e,r,n){return Nl.createToolAssistantStream(t,e,this._client.beta.threads.runs,r,n)}}]),i}(lo),Ef=function(t){_f(r,t);var e=xf(r);function r(){return bf(this,r),e.apply(this,arguments)}return gf(r)}(Wo);function Sf(t){return Sf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sf(t)}function Pf(){Pf=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),c=new A(n||[]);return o(a,"_invoke",{value:E(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",v={};function b(){}function m(){}function g(){}var w={};s(w,a,(function(){return this}));var _=Object.getPrototypeOf,O=_&&_(_(L([])));O&&O!==r&&n.call(O,a)&&(w=O);var x=g.prototype=b.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==Sf(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function E(e,r,n){var o=p;return function(i,a){if(o===y)throw new Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=S(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?d:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=d,n.method="throw",n.arg=s.arg)}}}function S(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,S(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function L(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Sf(e)+" is not iterable")}return m.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:m,configurable:!0}),m.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},k(j.prototype),s(j.prototype,c,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new j(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=L,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:L(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Cf(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function Af(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Lf(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Af(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=Rf(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Af(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Tf(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Rf(n.key),n)}}function Rf(t){var e=function(t,e){if("object"!==Sf(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Sf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Sf(e)?e:String(e)}function Df(t,e){return Df=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Df(t,e)}function If(t){return If=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},If(t)}jf.RunsPage=Ef,jf.Steps=uf,jf.RunStepsPage=sf;var Nf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Df(t,e)}(u,t);var e,r,n,o,i,a,c=(i=u,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=If(i);if(a){var r=If(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Sf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=c.apply(this,arguments)).runs=new jf(t._client),t.messages=new Wl(t._client),t}return e=u,r=[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return Un(t)?this.create({},t):this._client.post("/threads",Lf(Lf({body:t},e),{},{headers:Lf({"OpenAI-Beta":"assistants=v2"},null==e?void 0:e.headers)}))}},{key:"retrieve",value:function(t,e){return this._client.get("/threads/".concat(t),Lf(Lf({},e),{},{headers:Lf({"OpenAI-Beta":"assistants=v2"},null==e?void 0:e.headers)}))}},{key:"update",value:function(t,e,r){return this._client.post("/threads/".concat(t),Lf(Lf({body:e},r),{},{headers:Lf({"OpenAI-Beta":"assistants=v2"},null==r?void 0:r.headers)}))}},{key:"del",value:function(t,e){return this._client.delete("/threads/".concat(t),Lf(Lf({},e),{},{headers:Lf({"OpenAI-Beta":"assistants=v2"},null==e?void 0:e.headers)}))}},{key:"createAndRun",value:function(t,e){var r;return this._client.post("/threads/runs",Lf(Lf({body:t},e),{},{headers:Lf({"OpenAI-Beta":"assistants=v2"},null==e?void 0:e.headers),stream:null!==(r=t.stream)&&void 0!==r&&r}))}},{key:"createAndRunPoll",value:(n=Pf().mark((function t(e,r){var n;return Pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.createAndRun(e,r);case 2:return n=t.sent,t.next=5,this.runs.poll(n.thread_id,n.id,r);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})),o=function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function a(t){Cf(i,r,o,a,c,"next",t)}function c(t){Cf(i,r,o,a,c,"throw",t)}a(void 0)}))},function(t,e){return o.apply(this,arguments)})},{key:"createAndRunStream",value:function(t,e){return Nl.createThreadAssistantStream(t,this._client.beta.threads,e)}}],r&&Tf(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(lo);function Ff(t){return Ff="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ff(t)}function qf(){qf=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),c=new A(n||[]);return o(a,"_invoke",{value:E(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",v={};function b(){}function m(){}function g(){}var w={};s(w,a,(function(){return this}));var _=Object.getPrototypeOf,O=_&&_(_(L([])));O&&O!==r&&n.call(O,a)&&(w=O);var x=g.prototype=b.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==Ff(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function E(e,r,n){var o=p;return function(i,a){if(o===y)throw new Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=S(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?d:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=d,n.method="throw",n.arg=s.arg)}}}function S(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,S(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function L(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Ff(e)+" is not iterable")}return m.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:m,configurable:!0}),m.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},k(j.prototype),s(j.prototype,c,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new j(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=L,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:L(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Mf(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Bf(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Bf(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function Bf(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Gf(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}Nf.Runs=jf,Nf.RunsPage=Ef,Nf.Messages=Wl,Nf.MessagesPage=Yl;var zf=function(){var t,e=(t=qf().mark((function t(e){var r,n,o,i,a,c,u,s,l;return qf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.allSettled(e);case 2:if(r=t.sent,n=r.filter((function(t){return"rejected"===t.status})),!n.length){t.next=8;break}o=Mf(n);try{for(o.s();!(i=o.n()).done;)a=i.value,console.error(a.reason)}catch(t){o.e(t)}finally{o.f()}throw new Error("".concat(n.length," promise(s) failed - see the above errors"));case 8:c=[],u=Mf(r);try{for(u.s();!(s=u.n()).done;)"fulfilled"===(l=s.value).status&&c.push(l.value)}catch(t){u.e(t)}finally{u.f()}return t.abrupt("return",c);case 12:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Gf(i,n,o,a,c,"next",t)}function c(t){Gf(i,n,o,a,c,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function Uf(t){return Uf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uf(t)}function Hf(){Hf=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),c=new A(n||[]);return o(a,"_invoke",{value:E(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",v={};function b(){}function m(){}function g(){}var w={};s(w,a,(function(){return this}));var _=Object.getPrototypeOf,O=_&&_(_(L([])));O&&O!==r&&n.call(O,a)&&(w=O);var x=g.prototype=b.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==Uf(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function E(e,r,n){var o=p;return function(i,a){if(o===y)throw new Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=S(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?d:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=d,n.method="throw",n.arg=s.arg)}}}function S(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,S(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function L(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Uf(e)+" is not iterable")}return m.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:m,configurable:!0}),m.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},k(j.prototype),s(j.prototype,c,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new j(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=L,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:L(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Vf(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function $f(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Vf(i,n,o,a,c,"next",t)}function c(t){Vf(i,n,o,a,c,"throw",t)}a(void 0)}))}}function Kf(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Wf(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Kf(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=Xf(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Kf(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Yf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jf(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Xf(n.key),n)}}function Zf(t,e,r){return e&&Jf(t.prototype,e),r&&Jf(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xf(t){var e=function(t,e){if("object"!==Uf(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Uf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Uf(e)?e:String(e)}function Qf(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tp(t,e)}function tp(t,e){return tp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},tp(t,e)}function ep(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=rp(t);if(e){var o=rp(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Uf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function rp(t){return rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rp(t)}var np=function(t){Qf(a,t);var e,r,n,o,i=ep(a);function a(){return Yf(this,a),i.apply(this,arguments)}return Zf(a,[{key:"create",value:function(t,e,r){return this._client.post("/vector_stores/".concat(t,"/files"),Wf(Wf({body:e},r),{},{headers:Wf({"OpenAI-Beta":"assistants=v2"},null==r?void 0:r.headers)}))}},{key:"retrieve",value:function(t,e,r){return this._client.get("/vector_stores/".concat(t,"/files/").concat(e),Wf(Wf({},r),{},{headers:Wf({"OpenAI-Beta":"assistants=v2"},null==r?void 0:r.headers)}))}},{key:"list",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return Un(e)?this.list(t,{},e):this._client.getAPIList("/vector_stores/".concat(t,"/files"),op,Wf(Wf({query:e},r),{},{headers:Wf({"OpenAI-Beta":"assistants=v2"},null==r?void 0:r.headers)}))}},{key:"del",value:function(t,e,r){return this._client.delete("/vector_stores/".concat(t,"/files/").concat(e),Wf(Wf({},r),{},{headers:Wf({"OpenAI-Beta":"assistants=v2"},null==r?void 0:r.headers)}))}},{key:"createAndPoll",value:(o=$f(Hf().mark((function t(e,r,n){var o;return Hf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.create(e,r,n);case 2:return o=t.sent,t.next=5,this.poll(e,o.id,n);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return o.apply(this,arguments)})},{key:"poll",value:(n=$f(Hf().mark((function t(e,r,n){var o,i,a,c,u,s;return Hf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=Wf(Wf({},null==n?void 0:n.headers),{},{"X-Stainless-Poll-Helper":"true"}),null!=n&&n.pollIntervalMs&&(o["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());case 2:return t.next=5,this.retrieve(e,r,Wf(Wf({},n),{},{headers:o})).withResponse();case 5:i=t.sent,a=i.data,t.t0=a.status,t.next="in_progress"===t.t0?10:"failed"===t.t0||"completed"===t.t0?15:16;break;case 10:return c=5e3,null!=n&&n.pollIntervalMs?c=n.pollIntervalMs:(u=i.response.headers.get("openai-poll-after-ms"))&&(s=parseInt(u),isNaN(s)||(c=s)),t.next=14,Jn(c);case 14:return t.abrupt("break",16);case 15:return t.abrupt("return",a);case 16:t.next=2;break;case 18:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return n.apply(this,arguments)})},{key:"upload",value:(r=$f(Hf().mark((function t(e,r,n){var o;return Hf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._client.files.create({file:r,purpose:"assistants"},n);case 2:return o=t.sent,t.abrupt("return",this.create(e,{file_id:o.id},n));case 4:case"end":return t.stop()}}),t,this)}))),function(t,e,n){return r.apply(this,arguments)})},{key:"uploadAndPoll",value:(e=$f(Hf().mark((function t(e,r,n){var o;return Hf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.upload(e,r,n);case 2:return o=t.sent,t.next=5,this.poll(e,o.id,n);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)}))),function(t,r,n){return e.apply(this,arguments)})}]),a}(lo),op=function(t){Qf(r,t);var e=ep(r);function r(){return Yf(this,r),e.apply(this,arguments)}return Zf(r)}(Wo);function ip(t){return ip="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ip(t)}function ap(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=cp(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function cp(t,e){if(t){if("string"==typeof t)return up(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?up(t,e):void 0}}function up(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sp(){sp=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),c=new A(n||[]);return o(a,"_invoke",{value:E(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",v={};function b(){}function m(){}function g(){}var w={};s(w,a,(function(){return this}));var _=Object.getPrototypeOf,O=_&&_(_(L([])));O&&O!==r&&n.call(O,a)&&(w=O);var x=g.prototype=b.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==ip(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function E(e,r,n){var o=p;return function(i,a){if(o===y)throw new Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=S(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?d:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=d,n.method="throw",n.arg=s.arg)}}}function S(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,S(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function L(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(ip(e)+" is not iterable")}return m.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:m,configurable:!0}),m.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},k(j.prototype),s(j.prototype,c,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new j(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=L,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:L(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function lp(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function fp(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){lp(i,n,o,a,c,"next",t)}function c(t){lp(i,n,o,a,c,"throw",t)}a(void 0)}))}}function pp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function hp(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?pp(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=dp(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pp(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function yp(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dp(n.key),n)}}function dp(t){var e=function(t,e){if("object"!==ip(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==ip(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===ip(e)?e:String(e)}function vp(t,e){return vp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},vp(t,e)}function bp(t){return bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bp(t)}np.VectorStoreFilesPage=op;var mp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vp(t,e)}(s,t);var e,r,n,o,i,a,c,u=(a=s,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bp(a);if(c){var r=bp(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ip(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),u.apply(this,arguments)}return e=s,r=[{key:"create",value:function(t,e,r){return this._client.post("/vector_stores/".concat(t,"/file_batches"),hp(hp({body:e},r),{},{headers:hp({"OpenAI-Beta":"assistants=v2"},null==r?void 0:r.headers)}))}},{key:"retrieve",value:function(t,e,r){return this._client.get("/vector_stores/".concat(t,"/file_batches/").concat(e),hp(hp({},r),{},{headers:hp({"OpenAI-Beta":"assistants=v2"},null==r?void 0:r.headers)}))}},{key:"cancel",value:function(t,e,r){return this._client.post("/vector_stores/".concat(t,"/file_batches/").concat(e,"/cancel"),hp(hp({},r),{},{headers:hp({"OpenAI-Beta":"assistants=v2"},null==r?void 0:r.headers)}))}},{key:"createAndPoll",value:(i=fp(sp().mark((function t(e,r,n){var o;return sp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.create(e,r);case 2:return o=t.sent,t.next=5,this.poll(e,o.id,n);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return i.apply(this,arguments)})},{key:"listFiles",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;return Un(r)?this.listFiles(t,e,{},r):this._client.getAPIList("/vector_stores/".concat(t,"/file_batches/").concat(e,"/files"),op,hp(hp({query:r},n),{},{headers:hp({"OpenAI-Beta":"assistants=v2"},null==n?void 0:n.headers)}))}},{key:"poll",value:(o=fp(sp().mark((function t(e,r,n){var o,i,a,c,u,s,l;return sp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=hp(hp({},null==n?void 0:n.headers),{},{"X-Stainless-Poll-Helper":"true"}),null!=n&&n.pollIntervalMs&&(o["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());case 2:return t.next=5,this.retrieve(e,r,hp(hp({},n),{},{headers:o})).withResponse();case 5:i=t.sent,a=i.data,c=i.response,t.t0=a.status,t.next="in_progress"===t.t0?11:"failed"===t.t0||"cancelled"===t.t0||"completed"===t.t0?16:17;break;case 11:return u=5e3,null!=n&&n.pollIntervalMs?u=n.pollIntervalMs:(s=c.headers.get("openai-poll-after-ms"))&&(l=parseInt(s),isNaN(l)||(u=l)),t.next=15,Jn(u);case 15:return t.abrupt("break",17);case 16:return t.abrupt("return",a);case 17:t.next=2;break;case 19:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return o.apply(this,arguments)})},{key:"uploadAndPoll",value:(n=fp(sp().mark((function t(e,r,n){var o,i,a,c,u,s,l,f,p,h,y,d;return sp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(y=function(){return(y=fp(sp().mark((function t(e){var r,o,i,a;return sp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=ap(e),t.prev=1,r.s();case 3:if((o=r.n()).done){t.next=11;break}return i=o.value,t.next=7,l.files.create({file:i,purpose:"assistants"},n);case 7:a=t.sent,p.push(a.id);case 9:t.next=3;break;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),r.e(t.t0);case 16:return t.prev=16,r.f(),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[1,13,16,19]])})))).apply(this,arguments)},h=function(t){return y.apply(this,arguments)},i=r.files,a=r.fileIds,c=void 0===a?[]:a,null!=i&&0!=i.length){t.next=5;break}throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");case 5:return u=null!==(o=null==n?void 0:n.maxConcurrency)&&void 0!==o?o:5,s=Math.min(u,i.length),l=this._client,f=i.values(),p=function(t){if(Array.isArray(t))return up(t)}(v=c)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(v)||cp(v)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),d=Array(s).fill(f).map(h),t.next=13,zf(d);case 13:return t.next=15,this.createAndPoll(e,{file_ids:p});case 15:return t.abrupt("return",t.sent);case 16:case"end":return t.stop()}var v}),t,this)}))),function(t,e,r){return n.apply(this,arguments)})}],r&&yp(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),s}(lo);function gp(t){return gp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gp(t)}function wp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function _p(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?wp(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=jp(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wp(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Op(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xp(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jp(n.key),n)}}function kp(t,e,r){return e&&xp(t.prototype,e),r&&xp(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function jp(t){var e=function(t,e){if("object"!==gp(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==gp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===gp(e)?e:String(e)}function Ep(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sp(t,e)}function Sp(t,e){return Sp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Sp(t,e)}function Pp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Cp(t);if(e){var o=Cp(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===gp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Cp(t){return Cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Cp(t)}var Ap=function(t){Ep(r,t);var e=Pp(r);function r(){var t;return Op(this,r),(t=e.apply(this,arguments)).files=new np(t._client),t.fileBatches=new mp(t._client),t}return kp(r,[{key:"create",value:function(t,e){return this._client.post("/vector_stores",_p(_p({body:t},e),{},{headers:_p({"OpenAI-Beta":"assistants=v2"},null==e?void 0:e.headers)}))}},{key:"retrieve",value:function(t,e){return this._client.get("/vector_stores/".concat(t),_p(_p({},e),{},{headers:_p({"OpenAI-Beta":"assistants=v2"},null==e?void 0:e.headers)}))}},{key:"update",value:function(t,e,r){return this._client.post("/vector_stores/".concat(t),_p(_p({body:e},r),{},{headers:_p({"OpenAI-Beta":"assistants=v2"},null==r?void 0:r.headers)}))}},{key:"list",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return Un(t)?this.list({},t):this._client.getAPIList("/vector_stores",Lp,_p(_p({query:t},e),{},{headers:_p({"OpenAI-Beta":"assistants=v2"},null==e?void 0:e.headers)}))}},{key:"del",value:function(t,e){return this._client.delete("/vector_stores/".concat(t),_p(_p({},e),{},{headers:_p({"OpenAI-Beta":"assistants=v2"},null==e?void 0:e.headers)}))}}]),r}(lo),Lp=function(t){Ep(r,t);var e=Pp(r);function r(){return Op(this,r),e.apply(this,arguments)}return kp(r)}(Wo);function Tp(t){return Tp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tp(t)}function Rp(t,e){return Rp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Rp(t,e)}function Dp(t){return Dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Dp(t)}Ap.VectorStoresPage=Lp,Ap.Files=np,Ap.VectorStoreFilesPage=op,Ap.FileBatches=mp;var Ip=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rp(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Dp(r);if(n){var o=Dp(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Tp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.apply(this,arguments)).vectorStores=new Ap(t._client),t.chat=new Ws(t._client),t.assistants=new Wa(t._client),t.threads=new Nf(t._client),t}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(lo);function Np(t){return Np="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Np(t)}function Fp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function qp(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Fp(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=zp(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Fp(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Mp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bp(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zp(n.key),n)}}function Gp(t,e,r){return e&&Bp(t.prototype,e),r&&Bp(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function zp(t){var e=function(t,e){if("object"!==Np(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Np(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Np(e)?e:String(e)}function Up(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hp(t,e)}function Hp(t,e){return Hp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Hp(t,e)}function Vp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=$p(t);if(e){var o=$p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Np(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function $p(t){return $p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$p(t)}Ip.VectorStores=Ap,Ip.VectorStoresPage=Lp,Ip.Assistants=Wa,Ip.AssistantsPage=Ya,Ip.Threads=Nf;var Kp=function(t){Up(r,t);var e=Vp(r);function r(){return Mp(this,r),e.apply(this,arguments)}return Gp(r,[{key:"create",value:function(t,e){return this._client.post("/batches",qp({body:t},e))}},{key:"retrieve",value:function(t,e){return this._client.get("/batches/".concat(t),e)}},{key:"list",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return Un(t)?this.list({},t):this._client.getAPIList("/batches",Wp,qp({query:t},e))}},{key:"cancel",value:function(t,e){return this._client.post("/batches/".concat(t,"/cancel"),e)}}]),r}(lo),Wp=function(t){Up(r,t);var e=Vp(r);function r(){return Mp(this,r),e.apply(this,arguments)}return Gp(r)}(Wo);function Yp(t){return Yp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yp(t)}function Jp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Zp(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Xp(n.key),n)}}function Xp(t){var e=function(t,e){if("object"!==Yp(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Yp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Yp(e)?e:String(e)}function Qp(t,e){return Qp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Qp(t,e)}function th(t){return th=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},th(t)}Kp.BatchesPage=Wp;var eh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qp(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=th(n);if(o){var r=th(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Yp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,r=[{key:"create",value:function(t,e,r){return this._client.post("/uploads/".concat(t,"/parts"),Zr(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Jp(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=Xp(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jp(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({body:e},r)))}}],r&&Zp(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(lo);function rh(t){return rh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rh(t)}function nh(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function oh(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?nh(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=ah(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nh(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ih(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ah(n.key),n)}}function ah(t){var e=function(t,e){if("object"!==rh(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==rh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===rh(e)?e:String(e)}function ch(t,e){return ch=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ch(t,e)}function uh(t){return uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},uh(t)}var sh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ch(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=uh(n);if(o){var r=uh(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===rh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.apply(this,arguments)).parts=new eh(t._client),t}return e=a,(r=[{key:"create",value:function(t,e){return this._client.post("/uploads",oh({body:t},e))}},{key:"cancel",value:function(t,e){return this._client.post("/uploads/".concat(t,"/cancel"),e)}},{key:"complete",value:function(t,e,r){return this._client.post("/uploads/".concat(t,"/complete"),oh({body:e},r))}}])&&ih(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(lo);function lh(t){return lh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lh(t)}sh.Parts=eh;var fh,ph=["baseURL","apiKey","organization","project"];function hh(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function yh(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?hh(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=vh(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hh(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function dh(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vh(n.key),n)}}function vh(t){var e=function(t,e){if("object"!==lh(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==lh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===lh(e)?e:String(e)}function bh(){return bh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=wh(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},bh.apply(this,arguments)}function mh(t,e){return mh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},mh(t,e)}function gh(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wh(t){return wh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wh(t)}var _h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mh(t,e)}(c,t);var e,r,n,o,i,a=(e=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=wh(e);if(r){var o=wh(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return function(t,e){if(e&&("object"===lh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return gh(t)}(this,t)});function c(){var t,e,r,n,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=o.baseURL,u=void 0===i?Qn("OPENAI_BASE_URL"):i,s=o.apiKey,l=void 0===s?Qn("OPENAI_API_KEY"):s,f=o.organization,p=void 0===f?null!==(t=Qn("OPENAI_ORG_ID"))&&void 0!==t?t:null:f,h=o.project,y=void 0===h?null!==(e=Qn("OPENAI_PROJECT_ID"))&&void 0!==e?e:null:h,d=function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(o,ph);if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),void 0===l)throw new qe("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");var v=yh(yh({apiKey:l,organization:p,project:y},d),{},{baseURL:u||"https://api.openai.com/v1"});if(!v.dangerouslyAllowBrowser&&"undefined"!=typeof window&&void 0!==window.document&&"undefined"!=typeof navigator)throw new qe("It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew OpenAI({ apiKey, dangerouslyAllowBrowser: true });\n\nhttps://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety\n");return(n=a.call(this,{baseURL:v.baseURL,timeout:null!==(r=v.timeout)&&void 0!==r?r:6e5,httpAgent:v.httpAgent,maxRetries:v.maxRetries,fetch:v.fetch})).completions=new go(gh(n)),n.chat=new Lo(gh(n)),n.embeddings=new qo(gh(n)),n.files=new ui(gh(n)),n.images=new bi(gh(n)),n.audio=new Ui(gh(n)),n.moderations=new Ji(gh(n)),n.models=new ia(gh(n)),n.fineTuning=new Na(gh(n)),n.beta=new Ip(gh(n)),n.batches=new Kp(gh(n)),n.uploads=new sh(gh(n)),n._options=v,n.apiKey=l,n.organization=p,n.project=y,n}return n=c,o=[{key:"defaultQuery",value:function(){return this._options.defaultQuery}},{key:"defaultHeaders",value:function(t){return yh(yh({},bh(wh(c.prototype),"defaultHeaders",this).call(this,t)),{},{"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},this._options.defaultHeaders)}},{key:"authHeaders",value:function(t){return{Authorization:"Bearer ".concat(this.apiKey)}}},{key:"stringifyQuery",value:function(t){return function(t){var e,r=t,n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee;if(void 0!==t.allowEmptyArrays&&"boolean"!=typeof t.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==t.encodeDotInKeys&&"boolean"!=typeof t.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||ee.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=Gt;if(void 0!==t.format){if(!Yt.call(zt,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var n,o=zt[r],i=ee.filter;if(("function"==typeof t.filter||Zt(t.filter))&&(i=t.filter),n=t.arrayFormat&&t.arrayFormat in Jt?t.arrayFormat:"indices"in t?t.indices?"indices":"repeat":ee.arrayFormat,"commaRoundTrip"in t&&"boolean"!=typeof t.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=void 0===t.allowDots?1==!!t.encodeDotInKeys||ee.allowDots:!!t.allowDots;return{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:ee.addQueryPrefix,allowDots:a,allowEmptyArrays:"boolean"==typeof t.allowEmptyArrays?!!t.allowEmptyArrays:ee.allowEmptyArrays,arrayFormat:n,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:ee.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:void 0===t.delimiter?ee.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:ee.encode,encodeDotInKeys:"boolean"==typeof t.encodeDotInKeys?t.encodeDotInKeys:ee.encodeDotInKeys,encoder:"function"==typeof t.encoder?t.encoder:ee.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:ee.encodeValuesOnly,filter:i,format:r,formatter:o,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:ee.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:ee.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:ee.strictNullHandling}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});"function"==typeof n.filter?r=(0,n.filter)("",r):Zt(n.filter)&&(e=n.filter);var o=[];if("object"!==Wt(r)||null===r)return"";var i=Jt[n.arrayFormat],a="comma"===i&&n.commaRoundTrip;e||(e=Object.keys(r)),n.sort&&e.sort(n.sort);for(var c=new WeakMap,u=0;u<e.length;++u){var s=e[u];n.skipNulls&&null===r[s]||Qt(o,ne(r[s],s,i,a,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,c))}var l=o.join(n.delimiter),f=!0===n.addQueryPrefix?"?":"";return n.charsetSentinel&&("iso-8859-1"===n.charset?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),l.length>0?f+l:""}(t,{arrayFormat:"brackets"})}}],o&&dh(n.prototype,o),i&&dh(n,i),Object.defineProperty(n,"prototype",{writable:!1}),c}(qn);fh=_h,_h.OpenAI=fh,_h.DEFAULT_TIMEOUT=6e5,_h.OpenAIError=qe,_h.APIError=Me,_h.APIConnectionError=Ge,_h.APIConnectionTimeoutError=ze,_h.APIUserAbortError=Be,_h.NotFoundError=$e,_h.ConflictError=Ke,_h.RateLimitError=Ye,_h.BadRequestError=Ue,_h.AuthenticationError=He,_h.InternalServerError=Je,_h.PermissionDeniedError=Ve,_h.UnprocessableEntityError=We,_h.toFile=zr,_h.fileFromPath=he,_h.Completions=go,_h.Chat=Lo,_h.Embeddings=qo,_h.Files=ui,_h.FileObjectsPage=si,_h.Images=bi,_h.Audio=Ui,_h.Moderations=Ji,_h.Models=ia,_h.ModelsPage=aa,_h.FineTuning=Na,_h.Beta=Ip,_h.Batches=Kp,_h.BatchesPage=Wp,_h.Uploads=sh,new Set(["/completions","/chat/completions","/embeddings","/audio/transcriptions","/audio/translations","/audio/speech","/images/generations"]);var Oh=_h;var xh=acode.require("sideButton"),kh=acode.require("prompt"),jh=acode.require("multiPrompt"),Eh=acode.require("select"),Sh=acode.require("selectionMenu"),Ph=acode.require("settings"),Ch=acode.require("alert"),Ah="provider",Lh="geminiApikey",Th="openaiApikey",Rh={provider:"",geminiApikey:"",openaiApikey:""},Dh="openai",Ih="gemini",Nh=new WeakMap,Fh=function(){function t(){var e,r,n,o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e=this,r=Nh,n={writable:!0,value:[{name:"generate_code",description:"Generate Code",exec:this.run.bind(this)},{name:"hide_generate_code_btn",description:"Hide the generate code button",exec:function(){return o.sideButton.hide()}},{name:"show_generate_code_btn",description:"Show the generate code button",exec:function(){return o.sideButton.show()}},{name:"generate_code_update_token",description:"Update Provider Token (Generate Code)",exec:this.updateApiKey.bind(this)}]},function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,r),r.set(e,n),Ph.value[p.id]||(Ph.value[p.id]=Rh,Ph.update())}var r,n,c,u,s,l,h,y,d,v;return r=t,n=[{key:"setupCommands",value:function(){a(this,Nh).forEach((function(t){console.log("register command: "+t.name),editorManager.editor.commands.addCommand(t)}))}},{key:"clearCommands",value:function(){a(this,Nh).forEach((function(t){console.log("remove command: "+t.name),editorManager.editor.commands.removeCommand(t.name)}))}},{key:"init",value:(v=o(f().mark((function t(){var r=this;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.$markdownItFile=e()("script",{src:this.baseUrl+"assets/markdown-it.min.js"}),this.$pencilIcon=e()("img",{className:"edit-text-generate-token",src:this.baseUrl+"assets/pencil-icon.svg"}),document.head.append(this.$markdownItFile),this.setupCommands(),this.sideButton=xh({text:"Generate Code",icon:"generate-code-icon",onclick:function(){return r.run()},backgroundColor:"#8400ff",textColor:"#000"}),this.sideButton.show(),Sh.add(this.transformSelectedCode.bind(this),this.$pencilIcon,"all");case 7:case"end":return t.stop()}}),t,this)}))),function(){return v.apply(this,arguments)})},{key:"mdIt",get:function(){return Bt()(),window.markdownit({html:!1,xhtmlOut:!1,breaks:!1,linkify:!1,typographer:!1,quotes:"“”‘’",highlight:function(t){editorManager.editor.insert(t)}})}},{key:"generateCodeGemini",value:(d=o(f().mark((function t(e,r){var n,o,i,a;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=new qt(e),o="Language: ".concat(this.getCurrentModeName,"\n").concat(r),i=n.getGenerativeModel({model:"gemini-1.5-flash",generationConfig:{temperature:0}}),t.next=6,i.generateContent(o);case 6:a=t.sent,this.mdIt.render(a.response.text()),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),this.handleError(t.t0,"Generate Code Error");case 13:case"end":return t.stop()}}),t,this,[[0,10]])}))),function(t,e){return d.apply(this,arguments)})},{key:"generateCodeOpenai",value:(y=o(f().mark((function t(e,r){var n,o,i;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=new Oh({apiKey:e,dangerouslyAllowBrowser:!0}),o=n.chat.completions.create({model:"gpt-3.5-turbo",messages:[{role:"system",content:"You are ChatGPT, a large language model trained by OpenAI."},{role:"user",content:"Language: ".concat(this.getCurrentModeName)},{role:"user",content:r}],temperature:0}),t.next=5,o;case 5:i=t.sent.choices[0].message.content,this.mdIt.render(i),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),this.handleError(t.t0,"Generate Code Error");case 12:case"end":return t.stop()}}),t,this,[[0,9]])}))),function(t,e){return y.apply(this,arguments)})},{key:"getApiKey",value:(h=o(f().mark((function t(){var e,r,n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.settings.provider,r=null,e==Dh?r=this.settings.openaiApikey:e==Ih&&(r=this.settings.geminiApikey),null!=r&&""!=r){t.next=10;break}return t.next=6,jh("".concat(e," api key"),[{type:"text",id:"apikey",required:!0,placeholder:"Enter your ".concat(e," api key")}],"https://platform.openai.com/api-keys");case 6:n=t.sent,console.log("getApiKey("+n.apikey+")"),r=n.apikey,this.updateSetting(e==Dh?Th:Lh,r);case 10:return t.abrupt("return",r);case 11:case"end":return t.stop()}}),t,this)}))),function(){return h.apply(this,arguments)})},{key:"transformSelectedCode",value:(l=o(f().mark((function t(){var e,r,n,o,i,a,c,u,s;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e=editorManager,r=e.editor,n=r.session.getTextRange(r.getSelectionRange())){t.next=5;break}return t.abrupt("return");case 5:if(o=this.settings.provider){t.next=13;break}return i=[["openai","Openai","",!0],["gemini","Gemini","",!0]],t.next=10,Eh("Select Provider",i,{onCancel:function(){},hideOnSelect:!0});case 10:a=t.sent,o=a,this.updateSetting(Ah,a);case 13:return t.next=15,this.getApiKey();case 15:if(c=t.sent){t.next=18;break}throw new Error("Apikey is not valid or empty");case 18:return t.next=21,kh("Transfrom Selected Code (".concat(o,")"),"","text",{placeholder:"Enter a command to generate code",require:!0});case 21:if(u=t.sent){t.next=24;break}return t.abrupt("return");case 24:if(s="".concat(u,"\n").concat(n),o!=Dh){t.next=29;break}this.generateCodeOpenai(c,s),t.next=34;break;case 29:if(o!=Ih){t.next=33;break}this.generateCodeGemini(c,s),t.next=34;break;case 33:throw new TypeError("Provider not supported");case 34:t.next=39;break;case 36:t.prev=36,t.t0=t.catch(0),this.handleError(t.t0);case 39:case"end":return t.stop()}}),t,this,[[0,36]])}))),function(){return l.apply(this,arguments)})},{key:"run",value:(s=o(f().mark((function t(){var e,r,n,o,i;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.settings.provider){t.next=8;break}return r=[["openai","Openai","",!0],["gemini","Gemini","",!0]],t.next=5,Eh("Select Provider",r,{onCancel:function(){},hideOnSelect:!0});case 5:n=t.sent,e=n,this.updateSetting(Ah,n);case 8:return t.prev=8,t.next=11,this.getApiKey();case 11:if(o=t.sent){t.next=14;break}throw new Error("Apikey is not valid or empty!");case 14:return t.next=16,kh("Generate Code (".concat(e,")"),"","text",{placeholder:"Enter a command to generate a code...",required:!0});case 16:if(i=t.sent){t.next=19;break}return t.abrupt("return");case 19:if(e!=Dh){t.next=23;break}this.generateCodeOpenai(o,i),t.next=28;break;case 23:if(e!=Ih){t.next=27;break}this.generateCodeGemini(o,i),t.next=28;break;case 27:throw new TypeError("Provider not supported");case 28:t.next=33;break;case 30:t.prev=30,t.t0=t.catch(8),this.handleError(t.t0);case 33:case"end":return t.stop()}}),t,this,[[8,30]])}))),function(){return s.apply(this,arguments)})},{key:"updateApiKey",value:(u=o(f().mark((function t(){var e,r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.settings.provider,t.next=3,jh("".concat(e," Api Key"),[{type:"text",id:"apikey",required:!0,placeholder:"Enter your ".concat(e," api key")}],"https://platform.openai.com/api-keys");case 3:r=t.sent,this.updateSetting(e==Dh?Th:Lh,r.apikey),window.toast("Api Key Update.",3e3);case 6:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"updateSetting",value:function(t,e){this.settings[t]=e,Ph.update()}},{key:"settings",get:function(){return Ph.value[p.id]}},{key:"settingsObj",get:function(){var t=this,e=this.settings;return{list:[{key:Ah,text:"Provider",info:"Provider Generate Code.",value:e.provider,select:[["openai","Openai"],["gemini","gemini"]]},{key:Th,text:"Openai Api Key",info:"The Api Key to used generate code.",value:this.settings.openaiApikey,prompt:"Openai Api Key",promptType:"text",promptOption:[{require:!0}]},{key:Lh,text:"Gemini Api Key",info:"The Api Key to used generate code.",value:this.settings.geminiApikey,prompt:"Gemini Api Key",promptType:"text",promptOption:[{require:!0}]}],cb:function(e,r){t.settings[e]=r,Ph.update()}}}},{key:"handleError",value:function(t,e){t&&Ch(e||"Error",t.message)}},{key:"getCurrentModeName",get:function(){var t=editorManager.editor.getSession().getMode().$id.split("/");return t[t.length-1]}},{key:"destroy",value:(c=o(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.clearCommands(),delete Ph.value[p.id],Ph.update(!1),this.$markdownItFile.remove(),this.$pencilIcon.remove();case 5:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})}],n&&i(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),t}();if(window.acode){var qh=new Fh;acode.setPluginInit(p.id,(function(t,e,r){var n=r.cacheFileUrl,o=r.cacheFile;t.endsWith("/")||(t+="/"),qh.baseUrl=t,qh.init(e,o,n)}),qh.settingsObj),acode.setPluginUnmount(p.id,(function(){qh.destroy()}))}}()}();